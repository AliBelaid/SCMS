"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[979],{9979:(A,M,i)=>{i.r(M),i.d(M,{ClientDashboardComponent:()=>St});var d=i(6814),O=i(5195),p=i(2296),h=i(617),m=i(9038),_=i(5313),s=i(4104),g=i(5940),P=i(6385),C=i(7988),u=i(2596),T=i(1476),x=i(2557),v=i(6007),k=i(1365),D=i(7398),Z=i(6306),b=i(4697),t=i(9212),U=i(4855),E=i(4301),w=i(5836),I=i(9347),S=i(2425),N=i(8109),q=i(9862);const L=["currentPaginator"],y=["pendingPaginator"],R=["completedPaginator"];function $(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",34),t._UZ(1,"mat-icon",35),t.TgZ(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",36),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.createNewTask())}),t._UZ(9,"mat-icon",9),t._uU(10),t.ALo(11,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,3,"NO_CURRENT_TASKS")),t.xp6(3),t.Oqu(t.lcZ(7,5,"CREATE_FIRST_TASK")),t.xp6(4),t.hij(" ",t.lcZ(11,7,"CREATE_NEW_TASK")," "))}function K(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TASK_NAME")))}function B(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",50),t._UZ(2,"mat-icon",51),t.TgZ(3,"div",52)(4,"span",53),t._uU(5),t.qZA(),t.TgZ(6,"span",54),t._uU(7),t.qZA()()()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(2),t.Q6J("svgIcon",a.getStatusIcon(n.status)),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.folderName)}}function Q(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"STATUS")))}function F(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"mat-chip"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",55),t._UZ(5,"mat-progress-bar",56),t.qZA()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(),t.Tol(a.getStatusClass(n.status)),t.xp6(),t.hij(" ",t.lcZ(3,5,n.status)," "),t.xp6(3),t.Q6J("value",n.progress)("color",a.getProgressColor(n.progress))}}function W(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"FILES")))}function z(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",57),t._UZ(2,"mat-icon",58),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.fileCount)}}function J(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"LAST_MODIFIED")))}function Y(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",59)(2,"span",60),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"span",61),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(3),t.Oqu(t.xi3(4,2,n.submittedDate||n.createdDate,"short")),t.xp6(3),t.Oqu(n.submittedDate?t.lcZ(7,5,"SUBMITTED"):t.lcZ(8,7,"CREATED"))}}function G(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"ACTIONS")))}function j(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell")(1,"button",62),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.openTaskFolder(r))}),t._UZ(2,"mat-icon",63),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",64),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.viewTaskDetails(r))}),t._UZ(6,"mat-icon",65),t._uU(7),t.ALo(8,"translate"),t.qZA()()}if(2&e){const n=o.$implicit;t.xp6(),t.Q6J("disabled",!n.canEdit),t.xp6(2),t.hij(" ",t.lcZ(4,3,"EDIT")," "),t.xp6(4),t.hij(" ",t.lcZ(8,5,"VIEW")," ")}}function H(e,o){1&e&&t._UZ(0,"mat-header-row")}function V(e,o){1&e&&t._UZ(0,"mat-row")}const f=()=>[5,10,20];function X(e,o){if(1&e&&(t.TgZ(0,"div",37)(1,"mat-table",38),t.ynx(2,39),t.YNc(3,K,3,3,"mat-header-cell",40)(4,B,8,3,"mat-cell",41),t.BQk(),t.ynx(5,42),t.YNc(6,Q,3,3,"mat-header-cell",40)(7,F,6,7,"mat-cell",41),t.BQk(),t.ynx(8,43),t.YNc(9,W,3,3,"mat-header-cell",40)(10,z,5,1,"mat-cell",41),t.BQk(),t.ynx(11,44),t.YNc(12,J,3,3,"mat-header-cell",40)(13,Y,9,9,"mat-cell",41),t.BQk(),t.ynx(14,45),t.YNc(15,G,3,3,"mat-header-cell",40)(16,j,9,7,"mat-cell",41),t.BQk(),t.YNc(17,H,1,0,"mat-header-row",46)(18,V,1,0,"mat-row",47),t.qZA(),t._UZ(19,"mat-paginator",48,49),t.qZA()),2&e){const n=t.oxw(2);t.xp6(),t.Q6J("dataSource",n.currentTasksDataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(),t.Q6J("pageSizeOptions",t.DdM(4,f))}}function tt(e,o){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,$,12,9,"div",32)(2,X,21,5,"div",33),t.qZA()),2&e){const n=t.oxw();t.xp6(),t.Q6J("ngIf",0===n.currentTasks.length),t.xp6(),t.Q6J("ngIf",n.currentTasks.length>0)}}function nt(e,o){1&e&&(t.TgZ(0,"div",34),t._UZ(1,"mat-icon",66),t.TgZ(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"NO_PENDING_TASKS")),t.xp6(3),t.Oqu(t.lcZ(7,4,"NO_PENDING_TASKS_DESCRIPTION")))}function et(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TASK_NAME")))}function at(e,o){if(1&e&&(t.TgZ(0,"span",70),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(),t.AsE(" ",t.lcZ(2,2,"ASSIGNED_TO"),": ",n.accountantName," ")}}function ot(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",50),t._UZ(2,"mat-icon",68),t.TgZ(3,"div",52)(4,"span",53),t._uU(5),t.qZA(),t.TgZ(6,"span",54),t._uU(7),t.qZA(),t.YNc(8,at,3,4,"span",69),t.qZA()()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(2),t.Q6J("svgIcon",a.getStatusIcon(n.status)),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.folderName),t.xp6(),t.Q6J("ngIf",n.accountantName)}}function ct(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"STATUS")))}function st(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"mat-chip"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",55),t._UZ(5,"mat-progress-bar",56),t.qZA()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(),t.Tol(a.getStatusClass(n.status)),t.xp6(),t.hij(" ",t.lcZ(3,5,n.status)," "),t.xp6(3),t.Q6J("value",n.progress)("color",a.getProgressColor(n.progress))}}function it(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"FILES")))}function rt(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",57),t._UZ(2,"mat-icon",58),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.fileCount)}}function _t(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"SUBMITTED")))}function lt(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",59)(2,"span",60),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"span",61),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(3),t.Oqu(t.xi3(4,2,n.submittedDate,"short")),t.xp6(3),t.Oqu(t.lcZ(7,5,"SUBMITTED"))}}function dt(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"ACTIONS")))}function gt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell")(1,"button",71),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.viewTaskDetails(r))}),t._UZ(2,"mat-icon",65),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"VIEW")," "))}function mt(e,o){1&e&&t._UZ(0,"mat-header-row")}function Ct(e,o){1&e&&t._UZ(0,"mat-row")}function Ot(e,o){if(1&e&&(t.TgZ(0,"div",37)(1,"mat-table",38),t.ynx(2,39),t.YNc(3,et,3,3,"mat-header-cell",40)(4,ot,9,4,"mat-cell",41),t.BQk(),t.ynx(5,42),t.YNc(6,ct,3,3,"mat-header-cell",40)(7,st,6,7,"mat-cell",41),t.BQk(),t.ynx(8,43),t.YNc(9,it,3,3,"mat-header-cell",40)(10,rt,5,1,"mat-cell",41),t.BQk(),t.ynx(11,44),t.YNc(12,_t,3,3,"mat-header-cell",40)(13,lt,8,7,"mat-cell",41),t.BQk(),t.ynx(14,45),t.YNc(15,dt,3,3,"mat-header-cell",40)(16,gt,5,3,"mat-cell",41),t.BQk(),t.YNc(17,mt,1,0,"mat-header-row",46)(18,Ct,1,0,"mat-row",47),t.qZA(),t._UZ(19,"mat-paginator",48,67),t.qZA()),2&e){const n=t.oxw(2);t.xp6(),t.Q6J("dataSource",n.pendingTasksDataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(),t.Q6J("pageSizeOptions",t.DdM(4,f))}}function Pt(e,o){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,nt,8,6,"div",32)(2,Ot,21,5,"div",33),t.qZA()),2&e){const n=t.oxw();t.xp6(),t.Q6J("ngIf",0===n.pendingTasks.length),t.xp6(),t.Q6J("ngIf",n.pendingTasks.length>0)}}function Mt(e,o){1&e&&(t.TgZ(0,"div",34),t._UZ(1,"mat-icon",72),t.TgZ(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"NO_COMPLETED_TASKS")),t.xp6(3),t.Oqu(t.lcZ(7,4,"NO_COMPLETED_TASKS_DESCRIPTION")))}function pt(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TASK_NAME")))}function ht(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",50),t._UZ(2,"mat-icon",74),t.TgZ(3,"div",52)(4,"span",53),t._uU(5),t.qZA(),t.TgZ(6,"span",54),t._uU(7),t.qZA()()()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(2),t.Q6J("svgIcon",a.getStatusIcon(n.status)),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.folderName)}}function ut(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"STATUS")))}function bt(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"mat-chip"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",55),t._UZ(5,"mat-progress-bar",56),t.qZA()()),2&e){const n=o.$implicit,a=t.oxw(3);t.xp6(),t.Tol(a.getStatusClass(n.status)),t.xp6(),t.hij(" ",t.lcZ(3,5,n.status)," "),t.xp6(3),t.Q6J("value",n.progress)("color",a.getProgressColor(n.progress))}}function ft(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"FILES")))}function Tt(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",57),t._UZ(2,"mat-icon",58),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.fileCount)}}function xt(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"COMPLETED")))}function vt(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",59)(2,"span",60),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"span",61),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(3),t.Oqu(t.xi3(4,2,n.completedDate,"short")),t.xp6(3),t.Oqu(t.lcZ(7,5,"COMPLETED"))}}function kt(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.Oqu(t.lcZ(2,1,"ACTIONS")))}function Zt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell")(1,"button",62),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.downloadTaskFiles(r))}),t._UZ(2,"mat-icon",75),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",64),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.viewTaskDetails(r))}),t._UZ(6,"mat-icon",65),t._uU(7),t.ALo(8,"translate"),t.qZA()()}if(2&e){const n=o.$implicit;t.xp6(),t.Q6J("disabled",!n.canDownload),t.xp6(2),t.hij(" ",t.lcZ(4,3,"DOWNLOAD")," "),t.xp6(4),t.hij(" ",t.lcZ(8,5,"VIEW")," ")}}function At(e,o){1&e&&t._UZ(0,"mat-header-row")}function Dt(e,o){1&e&&t._UZ(0,"mat-row")}function Ut(e,o){if(1&e&&(t.TgZ(0,"div",37)(1,"mat-table",38),t.ynx(2,39),t.YNc(3,pt,3,3,"mat-header-cell",40)(4,ht,8,3,"mat-cell",41),t.BQk(),t.ynx(5,42),t.YNc(6,ut,3,3,"mat-header-cell",40)(7,bt,6,7,"mat-cell",41),t.BQk(),t.ynx(8,43),t.YNc(9,ft,3,3,"mat-header-cell",40)(10,Tt,5,1,"mat-cell",41),t.BQk(),t.ynx(11,44),t.YNc(12,xt,3,3,"mat-header-cell",40)(13,vt,8,7,"mat-cell",41),t.BQk(),t.ynx(14,45),t.YNc(15,kt,3,3,"mat-header-cell",40)(16,Zt,9,7,"mat-cell",41),t.BQk(),t.YNc(17,At,1,0,"mat-header-row",46)(18,Dt,1,0,"mat-row",47),t.qZA(),t._UZ(19,"mat-paginator",48,73),t.qZA()),2&e){const n=t.oxw(2);t.xp6(),t.Q6J("dataSource",n.completedTasksDataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(),t.Q6J("pageSizeOptions",t.DdM(4,f))}}function Et(e,o){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,Mt,8,6,"div",32)(2,Ut,21,5,"div",33),t.qZA()),2&e){const n=t.oxw();t.xp6(),t.Q6J("ngIf",0===n.completedTasks.length),t.xp6(),t.Q6J("ngIf",n.completedTasks.length>0)}}function wt(e,o){1&e&&(t.TgZ(0,"div",76),t._UZ(1,"mat-spinner",77),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"LOADING_TASKS")))}function It(e,o){1&e&&(t.TgZ(0,"div",78)(1,"div",79),t._UZ(2,"mat-spinner",77),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"LOADING_DASHBOARD")))}let St=(()=>{class e{constructor(n,a,c,r,l,Nt,qt){this.authService=n,this.taxFileService=a,this.clientService=c,this.dialog=r,this.toastr=l,this.router=Nt,this.http=qt,this.loading=!0,this.user=null,this.currentTasks=[],this.pendingTasks=[],this.completedTasks=[],this.clientStats={totalTasks:0,activeTasks:0,pendingReview:0,completedTasks:0,totalFiles:0,totalSize:0},this.displayedColumns=["taskName","status","fileCount","lastModified","actions"],this.currentTasksDataSource=new _.by([]),this.pendingTasksDataSource=new _.by([]),this.completedTasksDataSource=new _.by([])}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.authService.currentUser$.subscribe(n=>{n&&(this.user=n,this.loadClientTasks(),this.loadClientStats())})}loadClientTasks(){this.user&&this.http.get(`${b.N.apiUrl}/taxfile/client/${this.user.id}/folders`).pipe((0,D.U)(n=>this.mapFoldersToTasks(n)),(0,Z.K)(n=>(console.error("Error loading client tasks:",n),this.toastr.error("Failed to load tasks"),[]))).subscribe(n=>{this.categorizeTasks(n),this.setupDataSources(),this.loading=!1})}mapFoldersToTasks(n){return n.map(a=>({id:a.id.toString(),name:this.extractTaskName(a.folderName),status:this.determineFolderStatus(a),folderId:a.id,folderName:a.folderName,createdDate:new Date(a.createdAt),submittedDate:a.submittedAt?new Date(a.submittedAt):void 0,completedDate:a.completedAt?new Date(a.completedAt):void 0,fileCount:a.files?.length||0,accountantId:a.accountantId,accountantName:a.accountantName,canEdit:this.canEditFolder(a),canDownload:this.canDownloadFolder(a),progress:this.calculateProgress(a)}))}extractTaskName(n){const a=n.match(/folder-tax-(.+)-(\d{4}-\d{2}-\d{2})/);return a?a[1].replace(/-/g," "):n}determineFolderStatus(n){return n.folderName.includes("-finished")?"completed":n.submittedAt&&!n.completedAt?"pending-review":"current"}canEditFolder(n){return!n.folderName.includes("-finished")&&!n.submittedAt}canDownloadFolder(n){return n.folderName.includes("-finished")||n.submittedAt}calculateProgress(n){return n.folderName.includes("-finished")?100:n.submittedAt?75:n.files&&n.files.length>0?50:0}categorizeTasks(n){this.currentTasks=n.filter(a=>"current"===a.status),this.pendingTasks=n.filter(a=>"pending-review"===a.status),this.completedTasks=n.filter(a=>"completed"===a.status)}setupDataSources(){this.currentTasksDataSource.data=this.currentTasks,this.pendingTasksDataSource.data=this.pendingTasks,this.completedTasksDataSource.data=this.completedTasks,setTimeout(()=>{this.currentTasksDataSource.paginator=this.currentPaginator,this.pendingTasksDataSource.paginator=this.pendingPaginator,this.completedTasksDataSource.paginator=this.completedPaginator})}loadClientStats(){this.user&&this.http.get(`${b.N.apiUrl}/taxfile/client/${this.user.id}/stats`).pipe((0,Z.K)(n=>(console.error("Error loading client stats:",n),this.calculateStatsFromTasks(),[]))).subscribe(n=>{n&&(this.clientStats=n)})}calculateStatsFromTasks(){const n=[...this.currentTasks,...this.pendingTasks,...this.completedTasks];this.clientStats={totalTasks:n.length,activeTasks:this.currentTasks.length,pendingReview:this.pendingTasks.length,completedTasks:this.completedTasks.length,totalFiles:n.reduce((a,c)=>a+c.fileCount,0),totalSize:0}}openTaskFolder(n){this.router.navigate(["/client-portal"],n.canEdit?{queryParams:{folderId:n.folderId,mode:"edit"}}:{queryParams:{folderId:n.folderId,mode:"view"}})}createNewTask(){this.router.navigate(["/client-portal"],{queryParams:{action:"create-task"}})}downloadTaskFiles(n){this.http.get(`${b.N.apiUrl}/taxfile/folder/${n.folderId}/download`,{responseType:"blob"}).subscribe({next:a=>{const c=window.URL.createObjectURL(a),r=document.createElement("a");r.href=c,r.download=`${n.folderName}-files.zip`,r.click(),window.URL.revokeObjectURL(c),this.toastr.success("Files downloaded successfully")},error:a=>{console.error("Error downloading files:",a),this.toastr.error("Failed to download files")}})}viewTaskDetails(n){this.router.navigate(["/client-portal"],{queryParams:{folderId:n.folderId,mode:"details"}})}getStatusClass(n){switch(n){case"completed":return"bg-green-100 text-green-800";case"pending-review":return"bg-yellow-100 text-yellow-800";case"current":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}getStatusIcon(n){switch(n){case"completed":return"mat:check_circle";case"pending-review":return"mat:hourglass_empty";case"current":return"mat:edit";default:return"mat:help"}}getProgressColor(n){return 100===n?"primary":n>=75?"accent":n>=50?"warn":"primary"}formatFileSize(n){if(0===n)return"0 Bytes";const r=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]}refreshData(){this.loadDashboardData()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(U.e),t.Y36(E.I),t.Y36(w.y),t.Y36(I.uw),t.Y36(S._W),t.Y36(N.F0),t.Y36(q.eN))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-client-dashboard"]],viewQuery:function(a,c){if(1&a&&(t.Gf(L,5),t.Gf(y,5),t.Gf(R,5)),2&a){let r;t.iGM(r=t.CRH())&&(c.currentPaginator=r.first),t.iGM(r=t.CRH())&&(c.pendingPaginator=r.first),t.iGM(r=t.CRH())&&(c.completedPaginator=r.first)}},standalone:!0,features:[t.jDz],decls:101,vars:64,consts:[[1,"client-dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"welcome-section"],["svgIcon","mat:account_circle",1,"user-avatar"],[1,"welcome-text"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-task-btn",3,"click"],["svgIcon","mat:add"],["mat-raised-button","","color","accent",3,"disabled","click"],["svgIcon","mat:refresh"],[1,"stats-section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],["svgIcon","mat:assignment",1,"stat-icon","primary-color"],[1,"stat-info"],[1,"stat-number"],[1,"stat-label"],["svgIcon","mat:edit",1,"stat-icon","accent-color"],["svgIcon","mat:hourglass_empty",1,"stat-icon","warn-color"],["svgIcon","mat:check_circle",1,"stat-icon","success-color"],[1,"main-content"],["animationDuration","300ms",1,"tasks-tabs"],[3,"label"],[1,"tab-content"],[1,"tab-header"],["class","tasks-container",4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","loading-overlay",4,"ngIf"],[1,"tasks-container"],["class","empty-state",4,"ngIf"],["class","tasks-table",4,"ngIf"],[1,"empty-state"],["svgIcon","mat:assignment",1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"tasks-table"],[1,"w-full",3,"dataSource"],["matColumnDef","taskName"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","status"],["matColumnDef","fileCount"],["matColumnDef","lastModified"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["currentPaginator",""],[1,"task-name-cell"],[1,"task-icon",3,"svgIcon"],[1,"task-info"],[1,"task-name"],[1,"task-folder"],[1,"progress-bar"],[3,"value","color"],[1,"file-count"],["svgIcon","mat:insert_drive_file",1,"file-icon"],[1,"date-info"],[1,"date"],[1,"date-label"],["mat-raised-button","","color","primary",3,"disabled","click"],["svgIcon","mat:edit"],["mat-stroked-button","",1,"ml-2",3,"click"],["svgIcon","mat:visibility"],["svgIcon","mat:hourglass_empty",1,"empty-icon"],["pendingPaginator",""],[1,"task-icon","warn-color",3,"svgIcon"],["class","accountant-info",4,"ngIf"],[1,"accountant-info"],["mat-stroked-button","",3,"click"],["svgIcon","mat:check_circle",1,"empty-icon"],["completedPaginator",""],[1,"task-icon","success-color",3,"svgIcon"],["svgIcon","mat:download"],[1,"loading-state"],["diameter","60"],[1,"loading-overlay"],[1,"loading-content"]],template:function(a,c){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"mat-icon",4),t.TgZ(5,"div",5)(6,"h1"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"p",6),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",7)(13,"button",8),t.NdJ("click",function(){return c.createNewTask()}),t._UZ(14,"mat-icon",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return c.refreshData()}),t._UZ(18,"mat-icon",11),t._uU(19),t.ALo(20,"translate"),t.qZA()()()(),t.TgZ(21,"div",12)(22,"div",13)(23,"mat-card",14)(24,"mat-card-content")(25,"div",15),t._UZ(26,"mat-icon",16),t.TgZ(27,"div",17)(28,"span",18),t._uU(29),t.qZA(),t.TgZ(30,"span",19),t._uU(31),t.ALo(32,"translate"),t.qZA()()()()(),t.TgZ(33,"mat-card",14)(34,"mat-card-content")(35,"div",15),t._UZ(36,"mat-icon",20),t.TgZ(37,"div",17)(38,"span",18),t._uU(39),t.qZA(),t.TgZ(40,"span",19),t._uU(41),t.ALo(42,"translate"),t.qZA()()()()(),t.TgZ(43,"mat-card",14)(44,"mat-card-content")(45,"div",15),t._UZ(46,"mat-icon",21),t.TgZ(47,"div",17)(48,"span",18),t._uU(49),t.qZA(),t.TgZ(50,"span",19),t._uU(51),t.ALo(52,"translate"),t.qZA()()()()(),t.TgZ(53,"mat-card",14)(54,"mat-card-content")(55,"div",15),t._UZ(56,"mat-icon",22),t.TgZ(57,"div",17)(58,"span",18),t._uU(59),t.qZA(),t.TgZ(60,"span",19),t._uU(61),t.ALo(62,"translate"),t.qZA()()()()()()(),t.TgZ(63,"div",23)(64,"mat-tab-group",24)(65,"mat-tab",25),t.ALo(66,"translate"),t.TgZ(67,"div",26)(68,"div",27)(69,"h2"),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"p"),t._uU(73),t.ALo(74,"translate"),t.qZA()(),t.YNc(75,tt,3,2,"div",28),t.qZA()(),t.TgZ(76,"mat-tab",25),t.ALo(77,"translate"),t.TgZ(78,"div",26)(79,"div",27)(80,"h2"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"p"),t._uU(84),t.ALo(85,"translate"),t.qZA()(),t.YNc(86,Pt,3,2,"div",28),t.qZA()(),t.TgZ(87,"mat-tab",25),t.ALo(88,"translate"),t.TgZ(89,"div",26)(90,"div",27)(91,"h2"),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"p"),t._uU(95),t.ALo(96,"translate"),t.qZA()(),t.YNc(97,Et,3,2,"div",28),t.qZA()()()()(),t.YNc(98,wt,5,3,"ng-template",null,29,t.W1O)(100,It,6,3,"div",30)),2&a){const r=t.MAs(99);t.xp6(7),t.AsE("",t.lcZ(8,30,"WELCOME_BACK"),", ",(null==c.user?null:c.user.displayName)||(null==c.user?null:c.user.email),""),t.xp6(3),t.Oqu(t.lcZ(11,32,"MANAGE_YOUR_TAX_TASKS")),t.xp6(5),t.hij(" ",t.lcZ(16,34,"CREATE_NEW_TASK")," "),t.xp6(2),t.Q6J("disabled",c.loading),t.xp6(2),t.hij(" ",t.lcZ(20,36,"REFRESH")," "),t.xp6(10),t.Oqu(c.clientStats.totalTasks),t.xp6(2),t.Oqu(t.lcZ(32,38,"TOTAL_TASKS")),t.xp6(8),t.Oqu(c.clientStats.activeTasks),t.xp6(2),t.Oqu(t.lcZ(42,40,"ACTIVE_TASKS")),t.xp6(8),t.Oqu(c.clientStats.pendingReview),t.xp6(2),t.Oqu(t.lcZ(52,42,"PENDING_REVIEW")),t.xp6(8),t.Oqu(c.clientStats.completedTasks),t.xp6(2),t.Oqu(t.lcZ(62,44,"COMPLETED_TASKS")),t.xp6(4),t.s9C("label",t.lcZ(66,46,"CURRENT_TASKS")),t.xp6(5),t.Oqu(t.lcZ(71,48,"CURRENT_TASKS")),t.xp6(3),t.Oqu(t.lcZ(74,50,"CURRENT_TASKS_DESCRIPTION")),t.xp6(2),t.Q6J("ngIf",!c.loading)("ngIfElse",r),t.xp6(),t.s9C("label",t.lcZ(77,52,"PENDING_REVIEW")),t.xp6(5),t.Oqu(t.lcZ(82,54,"PENDING_REVIEW")),t.xp6(3),t.Oqu(t.lcZ(85,56,"PENDING_REVIEW_DESCRIPTION")),t.xp6(2),t.Q6J("ngIf",!c.loading)("ngIfElse",r),t.xp6(),t.s9C("label",t.lcZ(88,58,"COMPLETED_TASKS")),t.xp6(5),t.Oqu(t.lcZ(93,60,"COMPLETED_TASKS")),t.xp6(3),t.Oqu(t.lcZ(96,62,"COMPLETED_TASKS_DESCRIPTION")),t.xp6(2),t.Q6J("ngIf",!c.loading)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",c.loading)}},dependencies:[d.ez,d.O5,d.rS,d.uU,O.QW,O.a8,O.dn,p.ot,p.lW,h.Ps,h.Hw,m.ie,_.p0,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,s.Nh,s.uX,s.SP,g.Cq,g.Ou,P.t,C.Tx,u.AV,T.TU,T.NW,x.Hi,x.HS,v.Cv,v.pW,k.aw,k.X$],styles:[".client-dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%)}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:white;border-bottom:1px solid #e0e0e0;padding:2rem 0}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#3f51b5}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#666;font-size:.875rem}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-task-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3f51b5,#673ab7);color:#fff}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-task-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#303f9f,#512da8)}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.primary-color[_ngcontent-%COMP%]{color:#3f51b5}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.accent-color[_ngcontent-%COMP%]{color:#ff4081}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.warn-color[_ngcontent-%COMP%]{color:#ff9800}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.success-color[_ngcontent-%COMP%]{color:#4caf50}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#333;line-height:1}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin-top:.25rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem 2rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:1px solid #e0e0e0}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label{font-weight:500;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:2rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{margin-bottom:2rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:#333}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#bbb;margin-bottom:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-size:1.125rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#666;font-size:.875rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;background:transparent}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background:#f8f9fa}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.875rem;border-bottom:2px solid #e0e0e0}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:1rem .75rem;border-bottom:1px solid #f0f0f0}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-icon.warn-color[_ngcontent-%COMP%]{color:#ff9800}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-icon.success-color[_ngcontent-%COMP%]{color:#4caf50}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.875rem;text-transform:capitalize}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-folder[_ngcontent-%COMP%]{color:#666;font-size:.75rem;font-style:italic}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .accountant-info[_ngcontent-%COMP%]{color:#3f51b5;font-size:.75rem;font-weight:500}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;border-radius:12px;font-weight:500}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-chip.bg-green-100[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-chip.bg-yellow-100[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-chip.bg-blue-100[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin-top:.5rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{height:4px;border-radius:2px}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .file-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .file-count[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#666}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.875rem;color:#333}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.75rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background:transparent;border-top:1px solid #e0e0e0;margin-top:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem}.client-dashboard-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}.client-dashboard-container[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999}.client-dashboard-container[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:3rem 4rem;text-align:center;box-shadow:0 8px 24px #00000026}.client-dashboard-container[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1rem;font-weight:500}@media (max-width: 768px){.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%], .client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:center}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{padding:0 1rem 1rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:.75rem .5rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-size:.75rem}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .tasks-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .task-name-cell[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-folder[_ngcontent-%COMP%]{font-size:.625rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.client-dashboard-container[_ngcontent-%COMP%], .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}@media (prefers-color-scheme: dark){.client-dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a 0%,#2d2d2d 100%);color:#e0e0e0}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:#2d2d2d;border-bottom-color:#404040}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#e0e0e0}.client-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#b0b0b0}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#2d2d2d}.client-dashboard-container[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#e0e0e0}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]{background:#2d2d2d}.client-dashboard-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .tasks-tabs[_ngcontent-%COMP%]     .mat-tab-header{border-bottom-color:#404040}}"]})}return e})()},5836:(A,M,i)=>{i.d(M,{y:()=>h});var d=i(4697),O=i(9212),p=i(9862);let h=(()=>{class m{constructor(s){this.http=s,this.baseUrl=`${d.N.apiUrl}/client`,this.authUrl=`${d.N.apiUrl}/account`,this.taxFileUrl=`${d.N.apiUrl}/taxfile`,this.folderTypeUrl=`${d.N.apiUrl}/foldertypes`,this.notificationUrl=`${d.N.apiUrl}/notification`}getClients(){return this.http.get(this.baseUrl)}getClientById(s){return this.http.get(`${this.baseUrl}/${s}`)}getCurrentUser(){return this.http.get(`${this.authUrl}/currentuser`)}getFoldersForUser(s){return this.http.get(`${this.baseUrl}/${s}/folders`)}getNotifications(s){return this.http.get(`${this.baseUrl}/${s}/notifications`)}getUserNotifications(){return this.http.get(`${this.notificationUrl}/user`)}markNotificationAsRead(s){return this.http.put(`${this.notificationUrl}/${s}/read`,{})}deleteNotification(s){return this.http.delete(`${this.notificationUrl}/${s}`)}getTaxReports(s){return this.http.get(`${this.baseUrl}/${s}/reports`)}getTaxFileStats(s){return this.http.get(`${this.baseUrl}/${s}/tax-file-stats`)}createClient(s){return this.http.post(this.baseUrl,s)}updateClient(s,g){return this.http.put(`${this.baseUrl}/${s}`,g)}deleteClient(s){return this.http.delete(`${this.baseUrl}/${s}`)}getAvailableFolderTypes(){return this.http.get(`${this.folderTypeUrl}/available`)}getClientFolderTypes(s){return this.http.get(`${this.baseUrl}/${s}/folder-types`)}createDefaultFolders(s){return this.http.post(`${this.taxFileUrl}/client/${s}/create-folders`,{})}uploadFiles(s,g,P=!1){const C=new FormData;return g.forEach(u=>{C.append("files",u,u.name)}),C.append("notifyAdmin",P.toString()),this.http.post(`${this.taxFileUrl}/upload/${s}`,C)}sendAdminNotification(s,g,P){return this.http.post(`${this.notificationUrl}/admin`,{userId:s,folderId:g,fileCount:P,type:"FileUpload",message:`User has uploaded ${P} files that need review`})}static#t=this.\u0275fac=function(g){return new(g||m)(O.LFG(p.eN))};static#n=this.\u0275prov=O.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);