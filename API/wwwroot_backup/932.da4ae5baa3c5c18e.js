"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[932],{6820:(j,S,g)=>{g.d(S,{KF:()=>A});var e=g(6825);function p(b){return(0,e.X$)("stagger",[(0,e.eR)("* => *",[(0,e.IO)(":enter",(0,e.EY)(b,(0,e.pV)()),{optional:!0})])])}p(80),p(60);const A=p(40);p(20)},8779:(j,S,g)=>{g.d(S,{l:()=>b});var e=g(6306),p=g(8504),m=g(7398),O=g(4697),A=g(9212),k=g(9862);let b=(()=>{class F{constructor(c){this.http=c,this.apiUrl=`${O.N.apiUrl}/admin`,this.baseUrl=O.N.apiUrl}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getFolderTypes(){return this.http.get(`${this.baseUrl}/foldertypes`)}getAllClients(){return this.http.get(`${this.baseUrl}/admin/clients`)}getClients(){return this.getAllClients()}restPassword(c,o){return this.http.post(`${this.baseUrl}/Admin/reset-password/`,{userId:c,password:o}).pipe((0,e.K)(w=>(console.error("Error resetting password:",w),(0,p._)(()=>new Error(w.message||"Failed to reset password")))))}deleteUser(c){return this.http.delete(`${this.baseUrl}/Admin/delete-user/${"number"==typeof c?c:c.id}`).pipe((0,m.U)(y=>y),(0,e.K)(y=>(console.error("Error deleting user:",y),(0,p._)(()=>y))))}getUserWithRoles(){return this.http.get(this.baseUrl+"/Admin/users-with-roles").pipe((0,m.U)(c=>c))}updateUserRoles(c){return this.http.post(`${this.baseUrl}/Admin/edit-roles/${c.userId}`,c)}updateUserFolderPermissions(c,o){return this.http.post(`${this.baseUrl}/taxfile/folder-permissions/${c}`,o).pipe((0,e.K)(y=>(console.error("Error updating folder permissions:",y),(0,p._)(()=>y))))}updateUserRolesAndPermissions(c,o,y=[]){return this.http.post(`${this.baseUrl}/Admin/edit-roles/${c}`,{roles:o,folderCategoryIds:y}).pipe((0,e.K)(h=>(console.error("Error in updateUserRolesAndPermissions:",h),(0,p._)(()=>h))))}createUser(c){return this.http.post(`${this.baseUrl}/admin/user/create`,c)}getFolderPermissions(c){return this.http.get(`${this.baseUrl}/taxfile/user-folder-permissions/${c}`).pipe((0,e.K)(o=>(console.error("Error getting folder permissions:",o),(0,p._)(()=>o))))}getTaxFiles(c){return this.http.get(`${this.baseUrl}/taxfile/folder/${c}/files`).pipe((0,e.K)(o=>(console.error("Error getting tax files:",o),(0,p._)(()=>o))))}createClientFolders(c){return this.http.post(`${this.baseUrl}/taxfile/client/${c}/create-folders`,{}).pipe((0,e.K)(o=>(console.error("Error creating client folders:",o),(0,p._)(()=>o))))}getClientFolders(c){return this.http.get(`${this.baseUrl}/taxfile/client/${c}/folders`)}getCategories(){return this.http.get(`${this.baseUrl}/categories`).pipe((0,e.K)(c=>(console.error("Error getting categories:",c),(0,p._)(()=>c))))}getClinics(){return this.http.get(`${this.baseUrl}/clinics`).pipe((0,e.K)(c=>(console.error("Error getting clinics:",c),(0,p._)(()=>c))))}updateUserRolesAndRegions(c,o,y=[],w=[],h=[]){return this.http.post(`${this.baseUrl}/Admin/edit-roles/${c}`,{roles:o,clinicIds:y,categoryIds:w,folderCategoryIds:h}).pipe((0,e.K)(M=>(console.error("Error in updateUserRolesAndRegions:",M),(0,p._)(()=>M))))}getAllRoles(){return this.http.get(`${this.baseUrl}/admin/roles`)}getFolderFiles(c){return this.http.get(`${this.baseUrl}/taxfile/folder/${c}`)}createDefaultFolders(c){return this.http.post(`${this.baseUrl}/taxfile/client/${c}/create-folders`,{}).pipe((0,e.K)(o=>(console.error("Error creating folders:",o),(0,p._)(()=>new Error(`Failed to create folders: ${o.message}`)))))}viewTaxFile(c){return this.http.get(`${this.baseUrl}/taxfile/${c}/url`)}downloadTaxFile(c){return this.http.get(`${this.baseUrl}/taxfile/${c}/download`,{responseType:"blob"})}getDashboardStats(){return this.http.get(`${this.baseUrl}/admin/dashboard-stats`).pipe((0,e.K)(c=>(console.error("Error getting dashboard stats:",c),(0,p._)(()=>c))))}static#e=this.\u0275fac=function(o){return new(o||F)(A.LFG(k.eN))};static#t=this.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},1932:(j,S,g)=>{g.r(S),g.d(S,{UserManagementComponent:()=>vt});var e=g(9212),p=g(6814),m=g(7328),O=g(5313),A=g(1476),k=g(3566),b=g(9347),F=g(8337),x=g(4170),c=g(6223),o=g(8525),y=g(3951),w=g(6820);const h=[{text:"New",textClass:"text-green-600",bgClass:"bg-green-600/10",previewClass:"bg-green-600"},{text:"Lead",textClass:"text-cyan-600",bgClass:"bg-cyan-600/10",previewClass:"bg-cyan-600"},{text:"In Progress",textClass:"text-teal-600",bgClass:"bg-teal-600/10",previewClass:"bg-teal-600"},{text:"Completed",textClass:"text-purple-600",bgClass:"bg-purple-600/10",previewClass:"bg-purple-600"}];var M=g(2296),N=g(5986),s=g(2032),u=g(2599),f=g(1365),v=g(4104),Z=g(617),q=g(4697),C=g(8779),I=g(2939),_=g(9862);function U(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-checkbox",29),e.NdJ("ngModelChange",function(r){const d=e.CHM(t).$implicit;return e.KtG(d.checked=r)}),e.TgZ(2,"div",30),e._UZ(3,"mat-icon",31),e.TgZ(4,"span",32),e._uU(5),e.qZA()()()()}if(2&n){const t=l.$implicit,a=l.index,r=e.oxw();e.ekj("selected",t.checked),e.xp6(),e.Q6J("ngModel",t.checked)("name","role-"+a),e.xp6(2),e.Q6J("svgIcon",r.getRoleIcon(t.name)),e.xp6(2),e.Oqu(t.name)}}function P(n,l){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(),e.AsE(" ",t.name,": ",t.checked?"Selected":"Not Selected"," ")}}function E(n,l){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.hij("... and ",e.xi3(2,1,t.roles,3).length," more")}}function X(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-checkbox",29),e.NdJ("ngModelChange",function(r){const d=e.CHM(t).$implicit;return e.KtG(d.checked=r)}),e.TgZ(2,"div",34),e._UZ(3,"mat-icon",35),e.TgZ(4,"span",36),e._uU(5),e.qZA(),e.TgZ(6,"span",37),e._uU(7),e.qZA()()()()}if(2&n){const t=l.$implicit,a=l.index;e.ekj("selected",t.checked),e.xp6(),e.Q6J("ngModel",t.checked)("name","office-"+a),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.location)}}function ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"mat-checkbox",29),e.NdJ("ngModelChange",function(r){const d=e.CHM(t).$implicit;return e.KtG(d.checked=r)}),e.TgZ(2,"div",39),e._UZ(3,"mat-icon",40),e.TgZ(4,"span",41),e._uU(5),e.qZA()()()()}if(2&n){const t=l.$implicit,a=l.index;e.ekj("selected",t.checked),e.xp6(),e.Q6J("ngModel",t.checked)("name","category-"+a),e.xp6(4),e.Oqu(t.name)}}function te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"mat-checkbox",29),e.NdJ("ngModelChange",function(r){const d=e.CHM(t).$implicit;return e.KtG(d.checked=r)}),e.TgZ(2,"div",43),e._UZ(3,"mat-icon",44),e.TgZ(4,"span",45),e._uU(5),e.qZA()()()()}if(2&n){const t=l.$implicit,a=l.index;e.ekj("selected",t.checked),e.xp6(),e.Q6J("ngModel",t.checked)("name","folder-type-"+a),e.xp6(2),e.Q6J("svgIcon","mat:"+(t.icon||"folder")),e.xp6(2),e.Oqu(t.name)}}function ne(n,l){1&n&&(e.TgZ(0,"div",46),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"NO_FOLDER_TYPES_AVAILABLE")," "))}let oe=(()=>{class n{constructor(t,a,r,i,d,T){this.dialogRef=t,this.data=a,this.adminService=r,this.translate=i,this.snackBar=d,this.http=T,this.roles=[],this.offices=[],this.categories=[],this.folderTypes=[],console.log(a),this.user=a?.user,this.roles=a?.roles||[],this.offices=a?.offices||[],this.categories=a?.categories||[]}ngOnInit(){this.loadRoles(),this.loadOffices(),this.loadCategories(),this.loadFolderTypes()}loadRoles(){console.log("User data:",this.user),console.log("User roles before initialization:",this.user.roles),this.roles=[{name:"Admin",checked:!1},{name:"TaxManager",checked:!1},{name:"Accountant",checked:!1},{name:"Client",checked:!1},{name:"Clerk",checked:!1},{name:"Auditor",checked:!1},{name:"Supervisor",checked:!1},{name:"Member",checked:!1}],this.user.roles&&Array.isArray(this.user.roles)?(console.log("Setting initial role checked states from:",this.user.roles),this.roles.forEach(t=>{t.checked=this.user.roles.includes(t.name),console.log(`Role ${t.name}: ${t.checked?"checked":"unchecked"}`)})):console.warn("User roles are not properly defined:",this.user.roles)}loadOffices(){this.offices=[{id:1,name:"Main Office",location:"Downtown",checked:!1},{id:2,name:"North Branch",location:"North District",checked:!1},{id:3,name:"South Branch",location:"South District",checked:!1},{id:4,name:"East Branch",location:"East District",checked:!1}],this.user.offices&&Array.isArray(this.user.offices)&&this.offices.forEach(t=>{t.checked=this.user.offices.some(a=>a.id===t.id)})}loadCategories(){this.categories=[{id:1,name:"Personal Tax",checked:!1},{id:2,name:"Business Tax",checked:!1},{id:3,name:"Corporate Tax",checked:!1},{id:4,name:"Estate Tax",checked:!1},{id:5,name:"International Tax",checked:!1}],this.user.enabledCategories&&Array.isArray(this.user.enabledCategories)&&this.categories.forEach(t=>{t.checked=this.user.enabledCategories.some(a=>Number(a)===Number(t.id))})}loadFolderTypes(){this.http.get(`${q.N.apiUrl}/TaxFileManager/folder-types`).subscribe({next:t=>{this.folderTypes=t.map(a=>({...a,checked:this.user.enabledFolderCategories?.includes(a.id)||!1}))},error:t=>{console.error("Error loading folder types:",t),this.snackBar.open(this.translate.instant("ERROR_LOADING_FOLDER_TYPES"),this.translate.instant("CLOSE"),{duration:3e3})}})}closeDialog(){this.dialogRef.close()}toggleCategory(t){t.checked=!t.checked}toggleOffice(t){t.checked=!t.checked}updateRoles(){const t=this.roles.filter(d=>d.checked).map(d=>d.name);console.log("Selected roles:",t);const a=this.offices.filter(d=>d.checked).map(d=>d.id);console.log("Selected offices:",a);const r=this.categories.filter(d=>d.checked).map(d=>d.id),i=this.folderTypes.filter(d=>d.checked).map(d=>d.id);console.log("Sending roles update with:",{roles:t,officeIds:a,categories:r,folderCategories:i}),this.adminService.updateUserRolesAndRegions(this.user.id,t,a,r,i).subscribe(d=>{console.log("Role update successful:",d),this.snackBar.open(this.translate.instant("ROLES_UPDATED_SUCCESSFULLY"),this.translate.instant("CLOSE"),{duration:3e3}),this.dialogRef.close(!0)},d=>{console.error("Error updating roles:",d),this.snackBar.open(this.translate.instant("ERROR_UPDATING_ROLES"),this.translate.instant("CLOSE"),{duration:3e3})})}trackByRole(t,a){return a.name}trackByOffice(t,a){return a.id}trackByCategory(t,a){return a.id}trackByFolderType(t,a){return a.id}getRoleIcon(t){return{Admin:"mat:admin_panel_settings",TaxManager:"mat:business_center",Accountant:"mat:account_balance",Client:"mat:person",Clerk:"mat:assignment",Auditor:"mat:policy",Supervisor:"mat:supervisor_account",Member:"mat:group"}[t]||"mat:security"}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(b.so),e.Y36(b.WI),e.Y36(C.l),e.Y36(f.sK),e.Y36(I.ux),e.Y36(_.eN))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-modal"]],standalone:!0,features:[e.jDz],decls:49,vars:42,consts:[[1,"roles-modal"],[1,"roles-form"],["rolesForm","ngForm"],[1,"modal-header"],["mat-dialog-title",""],[1,"subtitle"],[1,"tabs-container"],["animationDuration","0ms"],[3,"label"],[1,"roles-section"],[1,"roles-grid"],["class","role-card",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"debug-info",2,"margin-top","20px","padding","10px","background-color","#f5f5f5","border-radius","4px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"offices-section"],[1,"offices-grid"],["class","office-card",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"categories-section"],[1,"categories-grid"],["class","category-card",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"folder-categories-section"],[1,"folder-categories-grid"],["class","folder-category-card",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-data",4,"ngIf"],[1,"modal-actions"],["mat-button","","mat-dialog-close","",1,"cancel-button"],["mat-raised-button","","color","primary",1,"save-button",3,"click"],[1,"role-card"],[3,"ngModel","name","ngModelChange"],[1,"role-content"],[1,"role-icon",3,"svgIcon"],[1,"role-name"],[1,"office-card"],[1,"office-content"],["svgIcon","mat:business",1,"office-icon"],[1,"office-name"],[1,"office-location"],[1,"category-card"],[1,"category-content"],["svgIcon","mat:category",1,"category-icon"],[1,"category-name"],[1,"folder-category-card"],[1,"folder-category-content"],[1,"folder-category-icon",3,"svgIcon"],[1,"folder-category-name"],[1,"no-data"]],template:function(a,r){1&a&&(e.TgZ(0,"mat-dialog-content",0)(1,"form",1,2)(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",6)(11,"mat-tab-group",7)(12,"mat-tab",8),e.ALo(13,"translate"),e.TgZ(14,"div",9)(15,"div",10),e.YNc(16,U,6,6,"div",11),e.qZA(),e.TgZ(17,"div",12)(18,"p")(19,"strong"),e._uU(20,"Debug - Selected Roles:"),e.qZA()(),e.TgZ(21,"ul"),e.YNc(22,P,2,2,"li",13),e.ALo(23,"slice"),e.YNc(24,E,3,4,"li",14),e.ALo(25,"slice"),e.qZA()()()(),e.TgZ(26,"mat-tab",8),e.ALo(27,"translate"),e.TgZ(28,"div",15)(29,"div",16),e.YNc(30,X,8,6,"div",17),e.qZA()()(),e.TgZ(31,"mat-tab",8),e.ALo(32,"translate"),e.TgZ(33,"div",18)(34,"div",19),e.YNc(35,ee,6,5,"div",20),e.qZA()()(),e.TgZ(36,"mat-tab",8),e.ALo(37,"translate"),e.TgZ(38,"div",21)(39,"div",22),e.YNc(40,te,6,6,"div",23),e.qZA(),e.YNc(41,ne,3,3,"div",24),e.qZA()()()(),e.TgZ(42,"mat-dialog-actions",25)(43,"button",26),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"button",27),e.NdJ("click",function(){return r.updateRoles()}),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()),2&a&&(e.xp6(5),e.Oqu(e.lcZ(6,19,"ROLES_AND_PERMISSIONS")),e.xp6(3),e.Oqu(e.lcZ(9,21,"SELECT_ROLES_FOR_USER")),e.xp6(4),e.s9C("label",e.lcZ(13,23,"ROLES")),e.xp6(4),e.Q6J("ngForOf",r.roles)("ngForTrackBy",r.trackByRole),e.xp6(6),e.Q6J("ngForOf",e.Dn7(23,25,r.roles,0,3)),e.xp6(2),e.Q6J("ngIf",e.xi3(25,29,r.roles,3).length>0),e.xp6(2),e.s9C("label",e.lcZ(27,32,"OFFICES")),e.xp6(4),e.Q6J("ngForOf",r.offices)("ngForTrackBy",r.trackByOffice),e.xp6(),e.s9C("label",e.lcZ(32,34,"CATEGORIES")),e.xp6(4),e.Q6J("ngForOf",r.categories)("ngForTrackBy",r.trackByCategory),e.xp6(),e.s9C("label",e.lcZ(37,36,"FOLDER_CATEGORIES")),e.xp6(4),e.Q6J("ngForOf",r.folderTypes)("ngForTrackBy",r.trackByFolderType),e.xp6(),e.Q6J("ngIf",!r.folderTypes||0===r.folderTypes.length),e.xp6(3),e.hij(" ",e.lcZ(45,38,"CANCEL")," "),e.xp6(3),e.hij(" ",e.lcZ(48,40,"SAVE")," "))},dependencies:[p.ez,p.sg,p.O5,p.OU,c.u5,c._Y,c.JJ,c.JL,c.On,c.F,c.UX,b.Is,b.ZT,b.uh,b.H8,b.xY,M.ot,M.lW,N.p9,N.oG,x.lN,s.c,f.aw,f.X$,o.LD,u.rP,v.Nh,v.uX,v.SP,Z.Ps,Z.Hw],styles:['@charset "UTF-8";.fixed-width[_ngcontent-%COMP%]{flex:0 0 48%}.roles-modal[_ngcontent-%COMP%]{width:100%;max-width:800px;padding:24px;max-height:70vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.modal-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#0009;margin-bottom:1rem}.section-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:16px}.section-description[_ngcontent-%COMP%]{color:#0009;margin-bottom:16px}.roles-section[_ngcontent-%COMP%], .specialties-section[_ngcontent-%COMP%], .categories-section[_ngcontent-%COMP%], .folder-categories-section[_ngcontent-%COMP%]{padding:16px;margin-bottom:32px}.roles-section[_ngcontent-%COMP%]:last-child, .specialties-section[_ngcontent-%COMP%]:last-child, .categories-section[_ngcontent-%COMP%]:last-child, .folder-categories-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.roles-grid[_ngcontent-%COMP%], .specialties-grid[_ngcontent-%COMP%], .categories-grid[_ngcontent-%COMP%], .folder-categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-bottom:20px}.role-card[_ngcontent-%COMP%], .specialty-card[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%], .folder-category-card[_ngcontent-%COMP%]{padding:12px;border-radius:4px;border:1px solid rgba(0,0,0,.12);transition:all .3s ease}.role-card[_ngcontent-%COMP%]:hover, .specialty-card[_ngcontent-%COMP%]:hover, .category-card[_ngcontent-%COMP%]:hover, .folder-category-card[_ngcontent-%COMP%]:hover{background-color:#0000000a}.role-card.selected[_ngcontent-%COMP%], .specialty-card.selected[_ngcontent-%COMP%], .category-card.selected[_ngcontent-%COMP%], .folder-category-card.selected[_ngcontent-%COMP%]{background-color:#3f51b514;border-color:#3f51b580}.role-content[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]{display:flex;align-items:center}.role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%]{margin-right:8px}.role-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .specialty-name[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .role-content[_ngcontent-%COMP%]   .folder-category-name[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .specialty-name[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .specialty-content[_ngcontent-%COMP%]   .folder-category-name[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .specialty-name[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]   .folder-category-name[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .specialty-name[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .folder-category-content[_ngcontent-%COMP%]   .folder-category-name[_ngcontent-%COMP%]{font-size:14px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px 0 0}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}  .mat-checkbox,   .mat-slide-toggle{width:100%}  .mat-checkbox-layout{width:100%}  .mat-slide-toggle-content{flex:1}  .mat-dialog-container{padding:0!important}  .mat-checkbox-label{font-size:16px}  .mat-slide-toggle-content{font-size:16px}  .mat-checkbox-checked .mat-checkbox-background{background-color:#2196f3!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#2196f3!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#2196f38a!important}.no-data[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#0009}[dir=rtl][_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .role-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .specialty-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .folder-category-content[_ngcontent-%COMP%]   .folder-category-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}[dir=rtl][_nghost-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}']})}return n})();function re(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Password is required "),e.qZA())}function ae(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Password must be at least 6 characters "),e.qZA())}function ie(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Please confirm your password "),e.qZA())}function ce(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Passwords do not match "),e.qZA())}function se(n){const l=n.get("password"),t=n.get("confirmPassword");return l&&t&&l.value!==t.value?{passwordMismatch:!0}:null}let le=(()=>{class n{constructor(t,a,r){this.dialogRef=t,this.fb=a,this.data=r,this.user=r.user,this.passwordForm=this.fb.group({password:["",[c.kI.required,c.kI.minLength(6)]],confirmPassword:["",[c.kI.required]]},{validators:se})}ngOnInit(){}resetPassword(){this.passwordForm.valid?this.dialogRef.close(this.passwordForm.get("password")?.value):this.passwordForm.markAllAsTouched()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(b.so),e.Y36(c.qu),e.Y36(b.WI))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-rest"]],standalone:!0,features:[e.jDz],decls:27,vars:7,consts:[[1,"password-reset-modal"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["mat-dialog-title",""],[1,"subtitle"],[1,"form-section"],["appearance","outline",1,"w-100"],["matInput","","type","password","formControlName","password","placeholder","Enter new password","required",""],["matPrefix","","svgIcon","mat:lock"],[4,"ngIf"],["matInput","","type","password","formControlName","confirmPassword","placeholder","Confirm new password","required",""],["matPrefix","","svgIcon","mat:lock_outline"],["align","end"],["mat-button","","type","button","mat-dialog-close",""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(a,r){if(1&a&&(e.TgZ(0,"mat-dialog-content",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.resetPassword()}),e.TgZ(2,"div",2)(3,"h2",3),e._uU(4,"Reset Password"),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"New Password"),e.qZA(),e._UZ(11,"input",7)(12,"mat-icon",8),e.YNc(13,re,2,0,"mat-error",9)(14,ae,2,0,"mat-error",9),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17,"Confirm Password"),e.qZA(),e._UZ(18,"input",10)(19,"mat-icon",11),e.YNc(20,ie,2,0,"mat-error",9)(21,ce,2,0,"mat-error",9),e.qZA()(),e.TgZ(22,"mat-dialog-actions",12)(23,"button",13),e._uU(24," Cancel "),e.qZA(),e.TgZ(25,"button",14),e._uU(26," Reset Password "),e.qZA()()()()),2&a){let i,d,T;e.xp6(),e.Q6J("formGroup",r.passwordForm),e.xp6(5),e.hij("Set a new password for ",r.user.userName,""),e.xp6(7),e.Q6J("ngIf",null==(i=r.passwordForm.get("password"))?null:i.hasError("required")),e.xp6(),e.Q6J("ngIf",null==(d=r.passwordForm.get("password"))?null:d.hasError("minlength")),e.xp6(6),e.Q6J("ngIf",null==(T=r.passwordForm.get("confirmPassword"))?null:T.hasError("required")),e.xp6(),e.Q6J("ngIf",r.passwordForm.hasError("passwordMismatch")),e.xp6(4),e.Q6J("disabled",r.passwordForm.invalid)}},dependencies:[p.ez,p.O5,c.u5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.UX,c.sg,c.u,b.Is,b.ZT,b.uh,b.H8,b.xY,M.ot,M.lW,x.lN,x.KE,x.hX,x.TO,x.qo,s.c,s.Nt,Z.Ps,Z.Hw],styles:[".password-reset-modal[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:28px;background-color:#fff;border-radius:8px}.modal-header[_ngcontent-%COMP%]{margin-bottom:28px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:600;color:#333;font-size:1.5rem}.modal-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#0009;margin:0;font-size:.9rem}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:28px}.w-100[_ngcontent-%COMP%]{width:100%}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f;border-radius:8px}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#5065c5}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:1.2em 0}  .mat-form-field-prefix{margin-right:10px;color:#5065c5}  .mat-form-field-label{font-size:14px;font-weight:500}  .mat-form-field-error{font-size:12px;margin-top:4px;font-weight:500}  .mat-button,   .mat-raised-button{border-radius:6px;font-weight:500;padding:0 24px;height:40px;line-height:40px;transition:all .2s ease}  .mat-raised-button.mat-primary{background-color:#5065c5}  .mat-raised-button.mat-primary:hover{background-color:#4257b2}  .mat-raised-button.mat-primary:disabled{background-color:#5065c580}  .mat-button:hover{background-color:#0000000a}mat-dialog-actions[_ngcontent-%COMP%]{padding-top:20px;margin-top:20px;border-top:1px solid rgba(0,0,0,.08)}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;margin-left:12px}"]})}return n})();var ge=g(8034),Y=g(3680),G=g(9038),Q=g(6385),B=g(5940),R=function(n){return n[n.Admin=0]="Admin",n[n.Accountant=1]="Accountant",n[n.TaxManager=2]="TaxManager",n[n.Client=5]="Client",n}(R||{}),z=g(2425);function de(n,l){if(1&n&&(e.TgZ(0,"li",39),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(),e.Oqu(t)}}function me(n,l){if(1&n&&(e.TgZ(0,"div",35)(1,"h3",36),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ul",37),e.YNc(5,de,2,1,"li",38),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,2,"PLEASE_FIX_ERRORS"),":"),e.xp6(3),e.Q6J("ngForOf",t.errorMessages)}}function _e(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"DISPLAY_NAME_REQUIRED")," "))}function ue(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"EMAIL_REQUIRED")," "))}function pe(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"VALID_EMAIL_REQUIRED")," "))}function fe(n,l){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.value),e.xp6(),e.hij(" ",e.lcZ(2,2,t.label)," ")}}function he(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"PASSWORD_REQUIRED")," "))}function Ce(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"PASSWORD_MIN_LENGTH")," "))}function Me(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"PASSWORD_CONFIRM_REQUIRED")," "))}function be(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"CLIENT_CODE_REQUIRED")," "))}function Pe(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"ARABIC_NAME_REQUIRED")," "))}function Oe(n,l){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.hij(" ",e.lcZ(2,1,"GERMAN_NAME_REQUIRED")," "))}function xe(n,l){if(1&n&&(e.TgZ(0,"div",25)(1,"h3",8),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",7)(5,"mat-form-field",9)(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",41),e.YNc(10,be,3,3,"mat-error",11),e.qZA(),e.TgZ(11,"mat-form-field",9)(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",42),e.qZA(),e.TgZ(16,"mat-form-field",9)(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",43),e.YNc(21,Pe,3,3,"mat-error",11),e.qZA(),e.TgZ(22,"mat-form-field",9)(23,"mat-label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",44),e.YNc(27,Oe,3,3,"mat-error",11),e.qZA(),e.TgZ(28,"mat-form-field",9)(29,"mat-label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"mat-select",45)(33,"mat-option",46),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"mat-option",47),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"mat-option",48),e._uU(40),e.ALo(41,"translate"),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,12,"CLIENT_INFORMATION")),e.xp6(5),e.Oqu(e.lcZ(8,14,"CLIENT_CODE")),e.xp6(3),e.Q6J("ngIf",t.userForm.get("clientCode").hasError("required")),e.xp6(3),e.Oqu(e.lcZ(14,16,"TAX_ID")),e.xp6(5),e.Oqu(e.lcZ(19,18,"ARABIC_NAME")),e.xp6(3),e.Q6J("ngIf",t.userForm.get("nameAr").hasError("required")),e.xp6(3),e.Oqu(e.lcZ(25,20,"GERMAN_NAME")),e.xp6(3),e.Q6J("ngIf",t.userForm.get("nameDe").hasError("required")),e.xp6(3),e.Oqu(e.lcZ(31,22,"CLIENT_TYPE")),e.xp6(4),e.Oqu(e.lcZ(35,24,"INDIVIDUAL")),e.xp6(3),e.Oqu(e.lcZ(38,26,"COMPANY")),e.xp6(3),e.Oqu(e.lcZ(41,28,"SHOP"))}}function ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",49),e.NdJ("change",function(){const i=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.toggleRole(i))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=l.$implicit;e.Q6J("checked",t.checked),e.xp6(),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function ye(n,l){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"mat-spinner",51),e.TgZ(2,"span",52),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.hij("",e.lcZ(4,1,"LOADING_FOLDER_TYPES"),"..."))}function Te(n,l){1&n&&(e.TgZ(0,"div",53)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"NO_FOLDER_TYPES_AVAILABLE")))}function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",49),e.NdJ("change",function(){const i=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleFolderType(i))}),e.TgZ(1,"div",55),e._UZ(2,"mat-icon",56),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&n){const t=l.$implicit;e.Q6J("checked",t.checked),e.xp6(2),e.Q6J("svgIcon","mat:"+(t.icon||"folder")),e.xp6(2),e.Oqu(t.name)}}function Ae(n,l){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Ze,5,3,"mat-checkbox",27),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.folderTypes)}}function ke(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(),e.Oqu(e.lcZ(2,1,"SAVE")))}function Ue(n,l){1&n&&e._UZ(0,"mat-spinner",57)}let Fe=(()=>{class n{constructor(t,a,r,i,d,T){this.dialogRef=t,this.fb=a,this.cd=r,this.adminService=i,this.toastr=d,this.http=T,this.errorMessages=[],this.loading=!1,this.loadingFolderTypes=!1,this.folderTypes=[],this.userTypes=[{value:R.Admin,label:"Admin"},{value:R.Accountant,label:"Accountant"},{value:R.Client,label:"Client"}],this.roles=[{name:"Admin",value:"Admin",checked:!1},{name:"Accountant",value:"Accountant",checked:!1},{name:"Client",value:"Client",checked:!1},{name:"Member",value:"Member",checked:!0}],this.inputType="password",this.visible=!1}ngOnInit(){this.initForm(),this.loadFolderTypes()}loadFolderTypes(){this.loadingFolderTypes=!0,this.http.get(`${q.N.apiUrl}/TaxFileManager/folder-types`).subscribe({next:t=>{this.folderTypes=t.map(a=>({...a,checked:!1})),this.loadingFolderTypes=!1,this.cd.markForCheck()},error:t=>{console.error("Error loading folder types:",t),this.toastr.error("Failed to load folder types"),this.loadingFolderTypes=!1,this.cd.markForCheck()}})}initForm(){this.userForm=this.fb.group({displayName:["",c.kI.required],email:["",[c.kI.required,c.kI.email]],password:["",[c.kI.required,c.kI.minLength(6)]],password_confirm:["",c.kI.required],phoneNumber:[""],userType:[R.Accountant],gender:[""],clientCode:[""],nameAr:[""],nameDe:[""],taxID:[""],type:["Individual"]}),this.userForm.get("userType").valueChanges.subscribe(t=>{t===R.Client?(this.userForm.get("clientCode").setValidators(c.kI.required),this.userForm.get("nameAr").setValidators(c.kI.required),this.userForm.get("nameDe").setValidators(c.kI.required)):(this.userForm.get("clientCode").clearValidators(),this.userForm.get("nameAr").clearValidators(),this.userForm.get("nameDe").clearValidators()),this.userForm.get("clientCode").updateValueAndValidity(),this.userForm.get("nameAr").updateValueAndValidity(),this.userForm.get("nameDe").updateValueAndValidity()})}closeDialog(){this.dialogRef.close()}toggleFolderType(t){t.checked=!t.checked}save(){if(this.errorMessages=[],this.userForm.invalid){Object.keys(this.userForm.controls).forEach(d=>{this.userForm.get(d).markAsTouched()});const i=[];if(this.userForm.get("displayName").invalid&&i.push("Display name is required"),this.userForm.get("email").invalid&&(this.userForm.get("email").hasError("required")?i.push("Email is required"):this.userForm.get("email").hasError("email")&&i.push("Email format is invalid")),this.userForm.get("password").invalid&&(this.userForm.get("password").hasError("required")?i.push("Password is required"):this.userForm.get("password").hasError("minlength")&&i.push("Password must be at least 6 characters")),this.userForm.get("password_confirm").invalid&&i.push("Password confirmation is required"),this.userForm.get("userType").value===R.Client&&(this.userForm.get("clientCode").invalid&&i.push("Client code is required"),this.userForm.get("nameAr").invalid&&i.push("Arabic name is required"),this.userForm.get("nameDe").invalid&&i.push("German name is required")),i.length>0)return this.errorMessages=i,void this.toastr.error(i.join("<br>"),"Validation Error",{enableHtml:!0,timeOut:5e3})}if(this.userForm.get("password").value!==this.userForm.get("password_confirm").value)return this.errorMessages.push("Passwords do not match"),void this.toastr.error("Passwords do not match","Validation Error");const t=this.roles.filter(i=>i.checked).map(i=>i.name);0===t.length&&t.push("Member");const a=this.folderTypes.filter(i=>i.checked).map(i=>i.id);this.loading=!0;const r={...this.userForm.value,roles:t,userName:this.userForm.value.email,enabledFolderCategories:a};console.log("Submitting user data:",r),this.adminService.createUser(r).subscribe({next:i=>{this.toastr.success("User added successfully"),this.dialogRef.close(r),this.loading=!1},error:i=>{if(console.error("Error creating user:",i),this.loading=!1,i.error&&"object"==typeof i.error){if(i.error.errors){const d=[];for(const T in i.error.errors)if(i.error.errors.hasOwnProperty(T)){const K=i.error.errors[T];Array.isArray(K)?K.forEach(yt=>d.push(yt)):d.push(K)}if(d.length>0)return this.errorMessages=d,void this.toastr.error(d.join("<br>"),"Validation Error",{enableHtml:!0,timeOut:5e3})}if("Email already exists"===i.error.message)return this.errorMessages.push("This email address is already registered. Please use a different email."),void this.toastr.error("This email address is already registered. Please use a different email.")}this.errorMessages.push("An error occurred while creating the user. Please try again."),this.toastr.error("An error occurred while creating the user. Please try again.")}})}toggleVisibility(){this.visible=!this.visible,this.inputType=this.visible?"text":"password"}toggleRole(t){t.checked=!t.checked}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(b.so),e.Y36(c.qu),e.Y36(e.sBO),e.Y36(C.l),e.Y36(z._W),e.Y36(_.eN))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-user"]],viewQuery:function(a,r){if(1&a&&e.Gf(v.SP,5),2&a){let i;e.iGM(i=e.CRH())&&(r.tabGroup=i.first)}},standalone:!0,features:[e.jDz],decls:92,vars:68,consts:[[1,"flex","flex-col"],[1,"flex","items-center","justify-between","p-6","bg-primary-50"],[1,"headline","m-0"],["type","button","mat-icon-button","",3,"click"],["svgIcon","mat:close"],[1,"p-6",3,"formGroup","ngSubmit"],["class","bg-red-50 border border-red-200 rounded p-4 mb-6",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"title","m-0","mb-4"],["appearance","outline",1,"w-full"],["matInput","","formControlName","displayName","required",""],[4,"ngIf"],["matInput","","formControlName","email","required","","type","email"],["matInput","","formControlName","phoneNumber"],["formControlName","gender"],["value","male"],["value","female"],["value","other"],["formControlName","userType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"svgIcon"],["matInput","","formControlName","password_confirm","required","",3,"type"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-4"],["color","primary",3,"checked","change",4,"ngFor","ngForOf"],["class","flex justify-center my-4",4,"ngIf"],["class","text-center p-4 bg-gray-50 rounded",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",4,"ngIf"],[1,"flex","items-center","justify-end","p-6","border-t"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","20","class","inline-block",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded","p-4","mb-6"],[1,"text-red-800","font-medium","mb-2"],[1,"list-disc","pl-5"],["class","text-red-700",4,"ngFor","ngForOf"],[1,"text-red-700"],[3,"value"],["matInput","","formControlName","clientCode"],["matInput","","formControlName","taxID"],["matInput","","formControlName","nameAr"],["matInput","","formControlName","nameDe"],["formControlName","type"],["value","Individual"],["value","Company"],["value","Shop"],["color","primary",3,"checked","change"],[1,"flex","justify-center","my-4"],["diameter","30"],[1,"ml-2"],[1,"text-center","p-4","bg-gray-50","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-center"],[1,"mr-2",3,"svgIcon"],["diameter","20",1,"inline-block"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return r.closeDialog()}),e._UZ(6,"mat-icon",4),e.qZA()(),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return r.save()}),e.YNc(8,me,6,4,"div",6),e.TgZ(9,"div",7)(10,"div",0)(11,"h3",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-form-field",9)(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",10),e.YNc(19,_e,3,3,"mat-error",11),e.qZA(),e.TgZ(20,"mat-form-field",9)(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",12),e.YNc(25,ue,3,3,"mat-error",11)(26,pe,3,3,"mat-error",11),e.qZA(),e.TgZ(27,"mat-form-field",9)(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"mat-form-field",9)(33,"mat-label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"mat-select",14)(37,"mat-option",15),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-option",16),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"mat-option",17),e._uU(44),e.ALo(45,"translate"),e.qZA()()()(),e.TgZ(46,"div",0)(47,"h3",8),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"mat-form-field",9)(51,"mat-label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"mat-select",18),e.YNc(55,fe,3,4,"mat-option",19),e.qZA()(),e.TgZ(56,"mat-form-field",9)(57,"mat-label"),e._uU(58),e.ALo(59,"translate"),e.qZA(),e._UZ(60,"input",20),e.TgZ(61,"button",21),e.NdJ("click",function(){return r.toggleVisibility()}),e._UZ(62,"mat-icon",22),e.qZA(),e.YNc(63,he,3,3,"mat-error",11)(64,Ce,3,3,"mat-error",11),e.qZA(),e.TgZ(65,"mat-form-field",9)(66,"mat-label"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"input",23),e.YNc(70,Me,3,3,"mat-error",11),e.qZA()()(),e.YNc(71,xe,42,30,"div",24),e.TgZ(72,"div",25)(73,"h3",8),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"div",26),e.YNc(77,ve,3,4,"mat-checkbox",27),e.qZA()(),e.TgZ(78,"div",25)(79,"h3",8),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.YNc(82,ye,5,3,"div",28)(83,Te,4,3,"div",29)(84,Ae,2,1,"div",30),e.qZA()(),e.TgZ(85,"div",31)(86,"button",32),e.NdJ("click",function(){return r.closeDialog()}),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"button",33),e.NdJ("click",function(){return r.save()}),e.YNc(90,ke,3,3,"span",11)(91,Ue,1,0,"mat-spinner",34),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,36,"CREATE_NEW_USER")),e.xp6(4),e.Q6J("formGroup",r.userForm),e.xp6(),e.Q6J("ngIf",r.errorMessages.length>0),e.xp6(4),e.Oqu(e.lcZ(13,38,"BASIC_INFORMATION")),e.xp6(4),e.Oqu(e.lcZ(17,40,"DISPLAY_NAME")),e.xp6(3),e.Q6J("ngIf",r.userForm.get("displayName").hasError("required")),e.xp6(3),e.Oqu(e.lcZ(23,42,"EMAIL")),e.xp6(3),e.Q6J("ngIf",r.userForm.get("email").hasError("required")),e.xp6(),e.Q6J("ngIf",r.userForm.get("email").hasError("email")),e.xp6(3),e.Oqu(e.lcZ(30,44,"PHONE_NUMBER")),e.xp6(5),e.Oqu(e.lcZ(35,46,"GENDER")),e.xp6(4),e.Oqu(e.lcZ(39,48,"MALE")),e.xp6(3),e.Oqu(e.lcZ(42,50,"FEMALE")),e.xp6(3),e.Oqu(e.lcZ(45,52,"OTHER")),e.xp6(4),e.Oqu(e.lcZ(49,54,"USER_TYPE_SECURITY")),e.xp6(4),e.Oqu(e.lcZ(53,56,"USER_TYPE")),e.xp6(3),e.Q6J("ngForOf",r.userTypes),e.xp6(3),e.Oqu(e.lcZ(59,58,"PASSWORD")),e.xp6(2),e.Q6J("type",r.inputType),e.xp6(2),e.s9C("svgIcon",r.visible?"visibility":"visibility_off"),e.xp6(),e.Q6J("ngIf",r.userForm.get("password").hasError("required")),e.xp6(),e.Q6J("ngIf",r.userForm.get("password").hasError("minlength")),e.xp6(3),e.Oqu(e.lcZ(68,60,"CONFIRM_PASSWORD")),e.xp6(2),e.Q6J("type",r.inputType),e.xp6(),e.Q6J("ngIf",r.userForm.get("password_confirm").hasError("required")),e.xp6(),e.Q6J("ngIf",5===r.userForm.get("userType").value),e.xp6(3),e.Oqu(e.lcZ(75,62,"USER_ROLES")),e.xp6(3),e.Q6J("ngForOf",r.roles),e.xp6(3),e.Oqu(e.lcZ(81,64,"FOLDER_CATEGORIES")),e.xp6(2),e.Q6J("ngIf",r.loadingFolderTypes),e.xp6(),e.Q6J("ngIf",!r.loadingFolderTypes&&0===r.folderTypes.length),e.xp6(),e.Q6J("ngIf",!r.loadingFolderTypes&&r.folderTypes.length>0),e.xp6(3),e.Oqu(e.lcZ(88,66,"CANCEL")),e.xp6(2),e.Q6J("disabled",r.loading),e.xp6(),e.Q6J("ngIf",!r.loading),e.xp6(),e.Q6J("ngIf",r.loading))},dependencies:[p.ez,p.sg,p.O5,c.u5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.UX,c.sg,c.u,b.Is,M.ot,M.lW,M.RK,x.lN,x.KE,x.hX,x.TO,x.R9,s.c,s.Nt,o.LD,o.gD,Y.ey,N.p9,N.oG,Z.Ps,Z.Hw,ge.FA,Y.XK,f.aw,f.X$,Q.t,G.ie,v.Nh,B.Cq,B.Ou],styles:[".create-user-form[_ngcontent-%COMP%]{width:100%;min-width:600px;max-width:900px;margin:0 auto;background:white;border-radius:8px;box-shadow:0 2px 4px #0000001a}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px 24px;background:linear-gradient(to right,#5065c5,#6c7ed6);border-radius:8px 8px 0 0;color:#fff}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{margin-right:16px}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;object-fit:cover;border:3px solid rgba(255,255,255,.7);box-shadow:0 2px 8px #0003}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:500;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.1)}.create-user-form[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 0;color:#0009}.create-user-form[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:0;max-height:70vh;overflow-y:auto}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:24px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-bottom:16px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 0;color:#00000080}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px;margin-bottom:12px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .roles-section[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinics-section[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .categories-section[_ngcontent-%COMP%]{padding:24px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .roles-grid[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinics-grid[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px;margin-bottom:16px}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{padding:12px;border-radius:8px;background:#f5f5f5;transition:all .2s ease;cursor:pointer;border:1px solid transparent}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]:hover, .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]:hover, .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-2px);box-shadow:0 2px 6px #0000000d}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card.selected[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card.selected[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card.selected[_ngcontent-%COMP%]{background:rgba(80,101,197,.08);border-color:#5065c5}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{display:flex;align-items:center}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-icon[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{margin-right:8px;color:#5065c5}.create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .clinic-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .clinic-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:14px;color:#333}.create-user-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;background:#f9f9f9;border-radius:0 0 8px 8px;display:flex;justify-content:flex-end;gap:12px}.create-user-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.create-user-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background-color:#5065c5}.create-user-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]:hover{background-color:#4257b2}  .mat-form-field{width:100%}  .mat-form-field .mat-form-field-wrapper{margin:0}  .mat-form-field .mat-form-field-outline{background:white}  .mat-form-field .mat-form-field-prefix{margin-right:8px}  .mat-form-field .mat-icon{color:#5065c5}  .mat-form-field .mat-form-field-label{font-size:14px}  .mat-form-field input.mat-input-element,   .mat-form-field textarea.mat-input-element{font-size:14px}  .mat-tab-group .mat-tab-label{height:48px;padding:0 24px;font-weight:500}  .mat-tab-group .mat-tab-label.mat-tab-label-active{color:#5065c5;opacity:1}  .mat-tab-group .mat-tab-body-content{padding:0}  .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#5065c5}  .mat-dialog-container{padding:0!important;border-radius:8px;overflow:hidden}@media (max-width: 768px){.create-user-form[_ngcontent-%COMP%]{min-width:auto;width:100%}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:16px}.create-user-form[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{margin-right:0;margin-bottom:12px}.create-user-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.create-user-form[_ngcontent-%COMP%]   .roles-grid[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .clinics-grid[_ngcontent-%COMP%], .create-user-form[_ngcontent-%COMP%]   .categories-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}}.error-container[_ngcontent-%COMP%]{background-color:#ff00000d;border-radius:4px;border-left:4px solid #f44336;margin:16px;padding:12px}.error-container[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.error-container[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:#f44336}.error-container[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#f44336}.error-container[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]{margin:0;padding-left:32px}.error-container[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;color:#000000b3}.error-container[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section-info[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#2196f30d;border-radius:4px;padding:12px;margin-bottom:16px}.form-section-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:#2196f3}.form-section-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000b3}.mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}.mat-checkbox[_ngcontent-%COMP%]{margin-bottom:8px}"]})}return n})();var we=g(1993),W=g(2596),$=g(7988),Ie=g(9488),H=g(182),L=g(3305),D=g(5195),V=g(2557);function Ne(n,l){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner",10),e.qZA())}function Ee(n,l){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner",18),e.TgZ(2,"span",19),e._uU(3,"Loading clients..."),e.qZA()())}function Re(n,l){if(1&n&&(e.TgZ(0,"mat-option",24)(1,"div",25),e._UZ(2,"mat-icon",26),e.TgZ(3,"div",0)(4,"span",27),e._uU(5),e.qZA(),e.TgZ(6,"span",28),e._uU(7),e.qZA()()()()),2&n){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(5),e.Oqu(t.displayName),e.xp6(2),e.AsE("",t.email," (",t.clientCode,")")}}function Se(n,l){1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mat-icon",30),e.TgZ(2,"p",31),e._uU(3,"No clients found"),e.qZA(),e.TgZ(4,"p",32),e._uU(5,"Please create some clients first before assigning folder permissions."),e.qZA()())}function qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",20)(2,"mat-label"),e._uU(3,"Client"),e.qZA(),e.TgZ(4,"mat-select",21),e.NdJ("selectionChange",function(r){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onClientChange(r.value))}),e.YNc(5,Re,8,4,"mat-option",22),e.qZA()(),e.YNc(6,Se,6,0,"div",23),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("value",t.selectedClientId),e.xp6(),e.Q6J("ngForOf",t.clients),e.xp6(),e.Q6J("ngIf",0===t.clients.length)}}function De(n,l){1&n&&e._UZ(0,"mat-divider")}function Je(n,l){if(1&n&&(e.TgZ(0,"div",33)(1,"mat-card",34)(2,"mat-card-content",35)(3,"div",25),e._UZ(4,"mat-icon",36),e.TgZ(5,"div")(6,"h3",37),e._uU(7),e.qZA(),e.TgZ(8,"p",38),e._uU(9),e.qZA()()()()()()),2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(t.selectedClient.displayName),e.xp6(2),e.Oqu(t.selectedClient.email)}}function Le(n,l){if(1&n&&(e.TgZ(0,"div",45)(1,"mat-chip-list")(2,"mat-chip",46),e._uU(3),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(t.getPermissionsSummary())}}function Qe(n,l){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner",18),e.TgZ(2,"span",19),e._uU(3,"Loading folders..."),e.qZA()())}function je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",47),e._UZ(1,"mat-icon",48),e.TgZ(2,"h3",49),e._uU(3,"No folders found"),e.qZA(),e.TgZ(4,"p",50),e._uU(5,"This client doesn't have any folders yet."),e.qZA(),e.TgZ(6,"button",51),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.createFolders())}),e._UZ(7,"mat-icon",52),e._uU(8," Create Default Folders "),e.qZA()()}}function Be(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"h4",54),e._uU(2,"Quick Actions"),e.qZA(),e.TgZ(3,"div",55)(4,"button",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.toggleAllFolderAccess(!0))}),e._UZ(5,"mat-icon",57),e._uU(6," Grant All Access "),e.qZA(),e.TgZ(7,"button",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.toggleAllFolderAccess(!1))}),e._UZ(8,"mat-icon",58),e._uU(9," Revoke All Access "),e.qZA()()()}}function $e(n,l){1&n&&(e.TgZ(0,"mat-chip",79),e._uU(1,"Read"),e.qZA())}function Ye(n,l){1&n&&(e.TgZ(0,"mat-chip",80),e._uU(1,"Write"),e.qZA())}function Ge(n,l){1&n&&(e.TgZ(0,"mat-chip",81),e._uU(1,"Delete"),e.qZA())}function ze(n,l){1&n&&(e.TgZ(0,"mat-chip",82),e._uU(1,"No Access"),e.qZA())}function Ke(n,l){if(1&n&&(e.TgZ(0,"div",83)(1,"p",84),e._UZ(2,"mat-icon",85),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.folder.description," ")}}function We(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",61)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"div",25),e._UZ(4,"mat-icon",62),e.TgZ(5,"span"),e._uU(6),e.qZA()()(),e.TgZ(7,"mat-panel-description")(8,"div",63)(9,"span",64),e._uU(10),e.qZA(),e.TgZ(11,"mat-chip-list"),e.YNc(12,$e,2,0,"mat-chip",65)(13,Ye,2,0,"mat-chip",66)(14,Ge,2,0,"mat-chip",67)(15,ze,2,0,"mat-chip",68),e.qZA()()()(),e.TgZ(16,"div",69),e.YNc(17,Ke,4,1,"div",70),e.TgZ(18,"h4",71),e._uU(19,"Permission Settings"),e.qZA(),e.TgZ(20,"div",72)(21,"mat-checkbox",73),e.NdJ("change",function(r){const d=e.CHM(t).$implicit,T=e.oxw(4);return e.KtG(T.toggleAllPermissions(d.folder.id,"read",r))}),e.TgZ(22,"div",0)(23,"span",27),e._uU(24,"Read Access"),e.qZA(),e.TgZ(25,"span",74),e._uU(26,"View and download files in this folder"),e.qZA()()(),e.TgZ(27,"mat-checkbox",75),e.NdJ("change",function(r){const d=e.CHM(t).$implicit,T=e.oxw(4);return e.KtG(T.toggleAllPermissions(d.folder.id,"write",r))}),e.TgZ(28,"div",0)(29,"span",27),e._uU(30,"Write Access"),e.qZA(),e.TgZ(31,"span",74),e._uU(32,"Upload and modify files in this folder"),e.qZA()()(),e.TgZ(33,"mat-checkbox",76),e.NdJ("change",function(r){const d=e.CHM(t).$implicit,T=e.oxw(4);return e.KtG(T.toggleAllPermissions(d.folder.id,"delete",r))}),e.TgZ(34,"div",0)(35,"span",27),e._uU(36,"Delete Access"),e.qZA(),e.TgZ(37,"span",74),e._uU(38,"Remove files from this folder"),e.qZA()()()(),e.TgZ(39,"div",77)(40,"div",78)(41,"div"),e._uU(42),e.qZA(),e.TgZ(43,"div"),e._uU(44),e.ALo(45,"date"),e.qZA(),e.TgZ(46,"div"),e._uU(47),e.qZA()()()()()}if(2&n){const t=l.$implicit;e.xp6(4),e.Q6J("svgIcon","mat:"+((null==t.folder.folderType?null:t.folder.folderType.icon)||"folder")),e.xp6(2),e.Oqu(t.folder.folderName),e.xp6(4),e.Oqu(null==t.folder.folderType?null:t.folder.folderType.name),e.xp6(2),e.Q6J("ngIf",t.canRead),e.xp6(),e.Q6J("ngIf",t.canWrite),e.xp6(),e.Q6J("ngIf",t.canDelete),e.xp6(),e.Q6J("ngIf",!t.canRead&&!t.canWrite&&!t.canDelete),e.xp6(2),e.Q6J("ngIf",t.folder.description),e.xp6(4),e.Q6J("checked",t.canRead),e.xp6(6),e.Q6J("checked",t.canWrite),e.xp6(6),e.Q6J("checked",t.canDelete),e.xp6(9),e.hij("Folder Type: ",null==t.folder.folderType?null:t.folder.folderType.name,""),e.xp6(2),e.hij("Created: ",e.xi3(45,14,t.folder.createdAt,"short"),""),e.xp6(3),e.hij("Status: ",t.folder.isActive?"Active":"Inactive","")}}function He(n,l){if(1&n&&(e.TgZ(0,"div")(1,"mat-accordion",59),e.YNc(2,We,48,17,"mat-expansion-panel",60),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.folderPermissions)("ngForTrackBy",t.trackFolderPermission)}}function Ve(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Save Permissions"),e.qZA())}function Xe(n,l){1&n&&e._UZ(0,"mat-spinner",92)}function et(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Saving..."),e.qZA())}function tt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card-actions",86)(1,"button",87),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.createFolders())}),e._UZ(2,"mat-icon",88),e._uU(3," Add Standard Folders "),e.qZA(),e.TgZ(4,"div",55)(5,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.closeDialog())}),e._uU(6,"Cancel"),e.qZA(),e.TgZ(7,"button",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.save())}),e.YNc(8,Ve,2,0,"span",15)(9,Xe,1,0,"mat-spinner",91)(10,et,2,0,"span",15),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(),e.Q6J("disabled",t.loading),e.xp6(6),e.Q6J("disabled",t.loading),e.xp6(),e.Q6J("ngIf",!t.loading),e.xp6(),e.Q6J("ngIf",t.loading),e.xp6(),e.Q6J("ngIf",t.loading)}}function nt(n,l){if(1&n&&(e.TgZ(0,"div",39)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),e._UZ(4,"mat-icon",40),e._uU(5," Folder Permissions "),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e._uU(7," Set read, write, and delete permissions for each folder "),e.YNc(8,Le,4,1,"div",41),e.qZA()(),e.TgZ(9,"mat-card-content",14),e.YNc(10,Qe,4,0,"div",6)(11,je,9,0,"div",42)(12,Be,10,0,"div",43)(13,He,3,2,"div",15),e.qZA(),e.YNc(14,tt,11,5,"mat-card-actions",44),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.folderPermissions.length>0),e.xp6(2),e.Q6J("ngIf",t.loadingFolders),e.xp6(),e.Q6J("ngIf",!t.loadingFolders&&0===t.clientFolders.length),e.xp6(),e.Q6J("ngIf",t.folderPermissions.length>0),e.xp6(),e.Q6J("ngIf",!t.loadingFolders&&t.folderPermissions.length>0),e.xp6(),e.Q6J("ngIf",t.folderPermissions.length>0)}}function ot(n,l){if(1&n&&(e.TgZ(0,"div",11)(1,"mat-card",12)(2,"mat-card-header")(3,"mat-card-title"),e._UZ(4,"mat-icon",13),e._uU(5," Select Client "),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e._uU(7,"Choose which client's folders this user can access"),e.qZA()(),e.TgZ(8,"mat-card-content",14),e.YNc(9,Ee,4,0,"div",6)(10,qe,7,3,"div",15),e.qZA()(),e.YNc(11,De,1,0,"mat-divider",15)(12,Je,10,2,"div",16)(13,nt,15,6,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngIf",t.loadingClients),e.xp6(),e.Q6J("ngIf",!t.loadingClients),e.xp6(),e.Q6J("ngIf",t.selectedClient),e.xp6(),e.Q6J("ngIf",t.selectedClient),e.xp6(),e.Q6J("ngIf",t.selectedClientId)}}function rt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",93)(1,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(2,"Close"),e.qZA()()}}let at=(()=>{class n{constructor(t,a,r,i){this.dialogRef=t,this.data=a,this.adminService=r,this.toastrService=i,this.folderPermissions=[],this.loading=!1,this.loadingClients=!1,this.loadingFolders=!1,this.clientFolders=[],this.selectedClientId=null,this.clients=[],this.selectedClient=null,this.user=a.user}ngOnInit(){this.loadClients()}loadClients(){this.loadingClients=!0,this.adminService.getClients().subscribe({next:t=>{this.clients=t||[],this.loadingClients=!1,0===this.clients.length&&this.toastrService.warning("No clients found. Please create clients first.")},error:t=>{console.error("Error loading clients:",t),this.toastrService.error("Failed to load clients"),this.loadingClients=!1,this.createMockClients()}})}createMockClients(){this.clients=[{id:1,userName:"client1@example.com",displayName:"John Smith",email:"client1@example.com",clientCode:"CLIENT001",isActive:!0},{id:2,userName:"client2@example.com",displayName:"Sarah Johnson",email:"client2@example.com",clientCode:"CLIENT002",isActive:!0}],this.toastrService.info("Using mock clients for testing")}onClientChange(t){this.selectedClientId=t,this.selectedClient=this.clients.find(a=>a.id===t)||null,this.clientFolders=[],this.folderPermissions=[],t&&(this.loadClientFolders(t),this.loadUserFolderPermissions(t))}loadClientFolders(t){this.loadingFolders=!0,this.adminService.getClientFolders(t).subscribe({next:a=>{this.clientFolders=a||[],this.loadingFolders=!1,this.initializeFolderPermissions(),0===this.clientFolders.length&&this.toastrService.info("No folders found for this client. You can create default folders.")},error:a=>{console.error("Error loading client folders:",a),this.toastrService.error("Failed to load client folders"),this.loadingFolders=!1,this.createMockFolders()}})}createMockFolders(){this.clientFolders=[{id:1,folderName:"Tax Returns",description:"Annual tax return documents",folderTypeId:1,clientID:this.selectedClientId,createdAt:new Date,isActive:!0,folderType:{id:1,name:"Tax Returns",arabicName:"\u0639\u0648\u0627\u0626\u062f \u0627\u0644\u0636\u0631\u0627\u0626\u0628",description:"Tax return documents",icon:"description",isActive:!0,allowChildren:!1,displayOrder:1,createdAt:new Date}},{id:2,folderName:"Receipts",description:"Business expense receipts",folderTypeId:2,clientID:this.selectedClientId,createdAt:new Date,isActive:!0,folderType:{id:2,name:"Receipts",arabicName:"\u0625\u064a\u0635\u0627\u0644\u0627\u062a",description:"Receipt documents",icon:"receipt",isActive:!0,allowChildren:!1,displayOrder:2,createdAt:new Date}}],this.initializeFolderPermissions(),this.toastrService.info("Using mock folders for testing")}initializeFolderPermissions(){this.clientFolders.forEach(t=>{this.folderPermissions.find(r=>r.folder.id===t.id)||this.folderPermissions.push({folder:t,canRead:!1,canWrite:!1,canDelete:!1})}),this.folderPermissions=this.folderPermissions.filter(t=>this.clientFolders.some(a=>a.id===t.folder.id))}loadUserFolderPermissions(t){this.adminService.getFolderPermissions(this.user.id).subscribe({next:a=>{a&&Array.isArray(a)&&a.forEach(r=>{const i=this.folderPermissions.findIndex(d=>d.folder.id===r.folderId);-1!==i&&(this.folderPermissions[i].canRead=r.canRead,this.folderPermissions[i].canWrite=r.canWrite,this.folderPermissions[i].canDelete=r.canDelete)})},error:a=>{console.error("Error loading folder permissions:",a),this.toastrService.warning("Could not load existing permissions. Starting with default settings.")}})}createFolders(){this.selectedClientId?(this.loading=!0,this.adminService.createClientFolders(this.selectedClientId).subscribe({next:()=>{this.toastrService.success("Default folders created successfully"),this.loadClientFolders(this.selectedClientId)},error:t=>{console.error("Error creating folders:",t),this.toastrService.error("Failed to create default folders"),this.loading=!1}})):this.toastrService.error("Please select a client first")}save(){this.loading=!0;const t=this.folderPermissions.map(a=>({folderId:a.folder.id,userId:this.user.id,canRead:a.canRead,canWrite:a.canWrite,canDelete:a.canDelete}));this.adminService.updateUserFolderPermissions(this.user.id,t).subscribe({next:()=>{this.loading=!1,this.toastrService.success("Folder permissions updated successfully"),this.dialogRef.close(!0)},error:a=>{this.loading=!1,console.error("Error updating folder permissions:",a),this.toastrService.error("Failed to update folder permissions")}})}closeDialog(){this.dialogRef.close()}toggleAllPermissions(t,a,r){const i=r.checked,d=this.folderPermissions.find(T=>T.folder.id===t);if(d)switch(a){case"read":d.canRead=i;break;case"write":d.canWrite=i,i&&(d.canRead=!0);break;case"delete":d.canDelete=i,i&&(d.canRead=!0,d.canWrite=!0)}}getFolderPermission(t,a){const r=this.folderPermissions.find(i=>i.folder.id===t);if(!r)return!1;switch(a){case"read":return r.canRead;case"write":return r.canWrite;case"delete":return r.canDelete;default:return!1}}toggleAllFolderAccess(t){this.folderPermissions.forEach(a=>{a.canRead=t,a.canWrite=t,a.canDelete=t})}getPermissionsSummary(){const t=this.folderPermissions.length;return`Read: ${this.folderPermissions.filter(d=>d.canRead).length}/${t}, Write: ${this.folderPermissions.filter(d=>d.canWrite).length}/${t}, Delete: ${this.folderPermissions.filter(d=>d.canDelete).length}/${t}`}trackFolderPermission(t,a){return a.folder.id}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(b.so),e.Y36(b.WI),e.Y36(C.l),e.Y36(z._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-folder-permissions"]],standalone:!0,features:[e.jDz],decls:10,vars:4,consts:[[1,"flex","flex-col"],[1,"flex","items-center","justify-between","p-6","bg-primary-50"],[1,"headline","m-0"],["type","button","mat-icon-button","",3,"click"],["svgIcon","mat:close"],[1,"p-6"],["class","flex justify-center my-4",4,"ngIf"],["class","flex flex-col gap-6",4,"ngIf"],["class","flex items-center justify-end p-6 border-t",4,"ngIf"],[1,"flex","justify-center","my-4"],["diameter","40"],[1,"flex","flex-col","gap-6"],[1,"client-selection-card"],["svgIcon","mat:person",1,"mr-2"],[1,"pt-4"],[4,"ngIf"],["class","selected-client-info",4,"ngIf"],["class","folder-permissions-section",4,"ngIf"],["diameter","24"],[1,"ml-2"],["appearance","outline",1,"w-full"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-center p-4 bg-amber-50 rounded-md",4,"ngIf"],[3,"value"],[1,"flex","items-center"],["svgIcon","mat:account_circle",1,"mr-2","text-blue-500"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"text-center","p-4","bg-amber-50","rounded-md"],["svgIcon","mat:warning",1,"text-amber-500","mb-2"],[1,"text-amber-700","mb-2"],[1,"text-sm","text-amber-600"],[1,"selected-client-info"],[1,"bg-blue-50"],[1,"py-3"],["svgIcon","mat:account_circle",1,"text-blue-500","mr-3"],[1,"m-0","text-lg","font-medium"],[1,"m-0","text-sm","text-gray-600"],[1,"folder-permissions-section"],["svgIcon","mat:folder_shared",1,"mr-2"],["class","mt-2",4,"ngIf"],["class","text-center p-6 bg-gray-50 rounded-md",4,"ngIf"],["class","quick-actions mb-4 p-3 bg-gray-50 rounded-md",4,"ngIf"],["class","flex justify-between p-4",4,"ngIf"],[1,"mt-2"],["color","primary","selected",""],[1,"text-center","p-6","bg-gray-50","rounded-md"],["svgIcon","mat:folder_off",1,"text-gray-400","mb-3",2,"font-size","48px","width","48px","height","48px"],[1,"text-lg","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","mat:create_new_folder",1,"mr-2"],[1,"quick-actions","mb-4","p-3","bg-gray-50","rounded-md"],[1,"text-sm","font-medium","mb-3","text-gray-700"],[1,"flex","gap-2"],["mat-stroked-button","",1,"text-sm",3,"click"],["svgIcon","mat:check_box",1,"mr-1"],["svgIcon","mat:check_box_outline_blank",1,"mr-1"],["multi","true"],["class","mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-2"],[1,"mr-2","text-blue-500",3,"svgIcon"],[1,"flex","items-center","gap-2"],[1,"text-sm"],["color","primary","selected","","class","text-xs",4,"ngIf"],["color","accent","selected","","class","text-xs",4,"ngIf"],["color","warn","selected","","class","text-xs",4,"ngIf"],["class","text-xs",4,"ngIf"],[1,"folder-permission-details"],["class","mb-4 p-3 bg-blue-50 rounded-md",4,"ngIf"],[1,"text-base","font-medium","mb-3"],[1,"permission-checkboxes","grid","grid-cols-1","gap-3"],["color","primary",3,"checked","change"],[1,"text-sm","text-gray-600"],["color","accent",3,"checked","change"],["color","warn",3,"checked","change"],[1,"folder-info","mt-4","p-3","bg-gray-50","rounded-md"],[1,"text-xs","text-gray-600"],["color","primary","selected","",1,"text-xs"],["color","accent","selected","",1,"text-xs"],["color","warn","selected","",1,"text-xs"],[1,"text-xs"],[1,"mb-4","p-3","bg-blue-50","rounded-md"],[1,"text-sm","text-blue-800","m-0"],["svgIcon","mat:info",1,"mr-1","text-sm"],[1,"flex","justify-between","p-4"],["mat-stroked-button","",3,"disabled","click"],["svgIcon","mat:add",1,"mr-2"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","16","class","inline-block mr-2",4,"ngIf"],["diameter","16",1,"inline-block","mr-2"],[1,"flex","items-center","justify-end","p-6","border-t"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.closeDialog()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Ne,2,0,"div",6)(8,ot,14,5,"div",7),e.qZA(),e.YNc(9,rt,3,0,"div",8),e.qZA()),2&a&&(e.xp6(3),e.hij("Manage Folder Permissions for ",null==r.user?null:r.user.displayName,""),e.xp6(4),e.Q6J("ngIf",r.loading),e.xp6(),e.Q6J("ngIf",!r.loading),e.xp6(),e.Q6J("ngIf",!r.selectedClientId))},dependencies:[p.ez,p.sg,p.O5,p.uU,c.u5,c.UX,b.Is,M.ot,M.lW,M.RK,x.lN,x.KE,x.hX,s.c,N.p9,N.oG,Z.Ps,Z.Hw,o.LD,o.gD,Y.ey,Q.t,Q.d,B.Cq,B.Ou,f.aw,L.To,L.pp,L.ib,L.yz,L.yK,L.u4,G.ie,D.QW,D.a8,D.hq,D.dn,D.dk,D.$j,D.n5,V.Hi,V.HS],styles:[".mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:8px}.mat-checkbox[_ngcontent-%COMP%]{margin-right:16px}.mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})}return n})();function it(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"User Accounts"),e.qZA())}function ct(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"s"),e.qZA())}function st(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,ct,2,0,"span",3),e._uU(3," selected"),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.hij("",t.selection.selected.length," User"),e.xp6(),e.Q6J("ngIf",t.selection.selected.length>1)}}function lt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteUsers(r.selection.selected))}),e._UZ(2,"mat-icon",27),e._uU(3," Delete Selected "),e.qZA()()}}function gt(n,l){if(1&n&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",t.label," ")}}function dt(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(2),e.hij(" ",t[a.property]," ")}}const mt=(n,l,t,a)=>({"bg-green-500":n,"bg-blue-500":l,"bg-purple-500":t,"bg-amber-500":a});function _t(n,l){if(1&n&&(e.TgZ(0,"span")(1,"span",36),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(),e.Q6J("ngClass",e.l5B(2,mt,0===t.userType,1===t.userType,2===t.userType,5===t.userType)),e.xp6(),e.hij(" ",a.getUserTypeName(t.userType)," ")}}function ut(n,l){if(1&n&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(),e.hij(" ",t," ")}}function pt(n,l){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,ut,2,1,"span",38),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(),e.Q6J("ngForOf",t.roles)}}function ft(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,i=e.oxw(2);return e.KtG(i.manageFolderPermissions(r))}),e._UZ(1,"mat-icon",50),e.TgZ(2,"span"),e._uU(3,"Folder Permissions"),e.qZA()()}}function ht(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",40),e._UZ(2,"mat-icon",41),e.qZA(),e.TgZ(3,"mat-menu",null,42)(5,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.openRolesDialog(r))}),e._UZ(6,"mat-icon",44),e.TgZ(7,"span"),e._uU(8,"Manage Roles"),e.qZA()(),e.TgZ(9,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.openDialogRestPassword(r))}),e._UZ(10,"mat-icon",45),e.TgZ(11,"span"),e._uU(12,"Reset Password"),e.qZA()(),e.YNc(13,ft,4,0,"button",46),e.TgZ(14,"button",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.deleteUser(r))}),e._UZ(15,"mat-icon",48),e.TgZ(16,"span",49),e._uU(17,"Delete"),e.qZA()()()()}if(2&n){const t=e.MAs(4),a=e.oxw().$implicit;e.xp6(),e.Q6J("matMenuTriggerFor",t),e.xp6(12),e.Q6J("ngIf",5===a.userType)}}function Ct(n,l){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,dt,3,1,"ng-container",33)(2,_t,3,7,"span",33)(3,pt,2,1,"div",34)(4,ht,18,2,"div",33),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(),e.Q6J("ngSwitchCase","text"),e.xp6(),e.Q6J("ngSwitchCase","userType"),e.xp6(),e.Q6J("ngSwitchCase","roles"),e.xp6(),e.Q6J("ngSwitchCase","button")}}function Mt(n,l){if(1&n&&(e.ynx(0)(1,28),e.YNc(2,gt,2,1,"th",29)(3,Ct,5,5,"td",30),e.BQk()()),2&n){const t=l.$implicit;e.xp6(),e.Q6J("matColumnDef",t.property)}}function bt(n,l){1&n&&e._UZ(0,"tr",51)}function Pt(n,l){1&n&&e._UZ(0,"tr",52),2&n&&e.Q6J("@fadeInUp",void 0)}function Ot(n,l){if(1&n&&(e.TgZ(0,"tr",53)(1,"td",54),e._uU(2," No users found "),e.qZA()()),2&n){const t=e.oxw();e.xp6(),e.uIk("colspan",t.visibleColumns.length)}}function xt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(r){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.toggleColumnVisibility(d,r))}),e.TgZ(1,"mat-checkbox",56),e.NdJ("click",function(r){return r.stopPropagation()})("ngModelChange",function(r){const d=e.CHM(t).$implicit;return e.KtG(d.visible=r)}),e._uU(2),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(),e.Q6J("ngModel",t.visible),e.xp6(),e.hij(" ",t.label," ")}}let vt=(()=>{class n{toggleTableRows(){this.isTableExpanded=!this.isTableExpanded,this.dataSource.data.forEach(t=>{t.isExpanded=this.isTableExpanded})}constructor(t,a,r){this.adminService=t,this.dialog=a,this.toastrService=r,this.layoutCtrl=new c.p4("fullwidth"),this.isTableExpanded=!1,this.subject$=new m.t(1),this.data$=this.subject$.asObservable(),this.users=[],this.columns=[{label:"ID",property:"id",type:"text",visible:!0,cssClasses:["font-medium"],matColumnDef:"id"},{label:"Name",property:"displayName",type:"text",visible:!0,cssClasses:["font-medium"],matColumnDef:"displayName"},{label:"Email",property:"email",type:"text",visible:!0,cssClasses:["font-medium"],matColumnDef:"email"},{label:"Roles",property:"roles",type:"roles",visible:!0,cssClasses:["font-medium"],matColumnDef:"roles"},{label:"User Type",property:"userType",type:"userType",visible:!0,cssClasses:["font-medium"],matColumnDef:"userType"},{label:"Actions",property:"actions",type:"button",visible:!0,matColumnDef:"actions"}],this.pageSize=10,this.pageSizeOptions=[5,10,20,50],this.selection=new F.Ov(!0,[]),this.searchCtrl=new c.p4,this.labels=h,this.destroyRef=(0,e.f3M)(e.ktI)}ngOnInit(){this.dataSource=new O.by,this.data$.subscribe(t=>{this.dataSource.data=t}),this.searchCtrl.valueChanges.pipe((0,we.sL)(this.destroyRef)).subscribe(t=>this.onFilterChange(t)),this.getUsersWithRoles()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getUsersWithRoles(){this.adminService.getUserWithRoles().subscribe({next:t=>{this.users=t,this.subject$.next(t),this.dataSource.data=t},error:t=>{console.error("Error fetching users:",t),this.toastrService.error("Failed to load users")}})}openRolesDialog(t){this.dialog.open(oe,{width:"800px",data:{user:t,roles:this.getRoles(t)}}).afterClosed().subscribe(a=>{if(a){const r=a.selectedRoles.map(i=>i.name);this.updateUserRoles(t.id,r)}})}openDialogRestPassword(t){this.dialog.open(le,{width:"500px",data:{user:t}}).afterClosed().subscribe(r=>{r&&(this.toastrService.info("Resetting password for user: "+t.userName),this.adminService.restPassword(t.id,r).subscribe({next:()=>{this.toastrService.success("Password reset successful")},error:i=>{console.error("Error resetting password:",i),this.toastrService.error("Failed to reset password: "+(i.message||"Unknown error"))}}))})}getRoles(t){const a=[{name:"Admin",value:"Admin",checked:!1},{name:"Accountant",value:"Accountant",checked:!1},{name:"Client",value:"Client",checked:!1},{name:"Member",value:"Member",checked:!1}];return t.roles&&a.forEach(r=>{r.checked=t.roles.includes(r.name)}),a}getUserTypeName(t){switch(t){case R.Admin:return"Admin";case R.Accountant:return"Accountant";case R.Client:return"Client";case R.TaxManager:return"Tax Manager";default:return"User"}}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}createUser(){this.dialog.open(Fe,{width:"800px"}).afterClosed().subscribe(t=>{t&&(this.getUsersWithRoles(),this.toastrService.success("User created successfully"))})}deleteUser(t){this.dialog.open(H.$,{width:"400px",data:{title:"Confirm Delete",message:`Are you sure you want to delete user ${t.userName}?`}}).afterClosed().subscribe(r=>{r&&this.adminService.deleteUser(t).subscribe({next:()=>{this.getUsersWithRoles(),this.toastrService.success("User deleted successfully")},error:i=>{this.toastrService.error("Failed to delete user: "+i.message)}})})}manageFolderPermissions(t){this.dialog.open(at,{width:"800px",data:{user:t}}).afterClosed().subscribe(a=>{a&&this.toastrService.success("Folder permissions updated successfully")})}deleteUsers(t){this.dialog.open(H.$,{data:{title:"Confirm Delete",message:`Are you sure you want to delete ${t.length} users?`}}).afterClosed().subscribe(r=>{})}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}toggleColumnVisibility(t,a){a.stopPropagation(),a.stopImmediatePropagation(),t.visible=!t.visible}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}trackByProperty(t,a){return a.property}updateUserRoles(t,a){this.adminService.updateUserRoles({userId:t,roles:a}).subscribe({next:()=>{this.toastrService.success("User roles updated successfully"),this.getUsersWithRoles()},error:i=>{console.error("Error updating user roles:",i),this.toastrService.error("Failed to update user roles")}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(C.l),e.Y36(b.uw),e.Y36(z._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-management"]],viewQuery:function(a,r){if(1&a&&(e.Gf(A.NW,7),e.Gf(k.YE,7)),2&a){let i;e.iGM(i=e.CRH())&&(r.paginator=i.first),e.iGM(i=e.CRH())&&(r.sort=i.first)}},standalone:!0,features:[e._Bn([{provide:x.o2,useValue:{appearance:"outline"}}]),e.jDz],decls:30,vars:12,consts:[[1,"card","overflow-auto","mt-8"],[1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0","flex","items-center"],[1,"title","my-0","ltr:pr-4","rtl:pl-4","ltr:mr-4","rtl:ml-4","ltr:border-r","rtl:border-l","hidden","sm:block","flex-none"],[4,"ngIf"],["class","mr-4 pr-4 border-r flex items-center space-x-2",4,"ngIf"],[1,"search-container","flex-auto","flex","items-center"],["svgIcon","mat:search",1,"icon-sm","text-secondary"],["placeholder","Search users...","type","search",1,"px-4","py-2",3,"formControl"],[1,"flex-1"],["mat-stroked-button","","matTooltip","Filter Columns","type","button",1,"ml-4","flex-none",3,"matMenuTriggerFor"],["svgIcon","mat:filter_list",1,"mr-2"],["color","primary","mat-flat-button","","matTooltip","Add User","type","button",1,"ml-4","flex-none",3,"click"],["svgIcon","mat:add",1,"mr-2"],[1,"table-container"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-hover trans-ease-out cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["xPosition","before","yPosition","below"],["columnFilterMenu","matMenu"],[1,"px-3","py-2","text-secondary","bg-app-bar"],[1,"text-sm","font-medium"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],[1,"mr-4","pr-4","border-r","flex","items-center","space-x-2"],["color","warn","mat-flat-button","","matTooltip","Delete selected","type","button",1,"rounded-full",3,"click"],["svgIcon","mat:delete",1,"mr-2"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["class","flex flex-wrap gap-1",4,"ngSwitchCase"],[1,"flex","items-center"],[1,"px-2","py-1","rounded","text-white","text-xs","font-medium",3,"ngClass"],[1,"flex","flex-wrap","gap-1"],["class","px-2 py-1 rounded bg-gray-100 text-xs",4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","bg-gray-100","text-xs"],["mat-icon-button","",3,"matMenuTriggerFor"],["svgIcon","mat:more_horiz"],["menu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","mat:manage_accounts"],["svgIcon","mat:lock_reset"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","color","warn",3,"click"],["color","warn","svgIcon","mat:delete"],[1,"text-red-500"],["svgIcon","mat:folder_shared"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","trans-ease-out","cursor-pointer"],[1,"mat-row"],[1,"mat-cell","text-center","py-4"],[1,"checkbox-item","mat-menu-item",3,"click"],["color","primary",3,"ngModel","click","ngModelChange"]],template:function(a,r){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e.YNc(3,it,2,0,"span",3)(4,st,4,2,"span",3),e.qZA(),e.YNc(5,lt,4,0,"div",4),e.TgZ(6,"div",5),e._UZ(7,"mat-icon",6)(8,"input",7),e.qZA(),e._UZ(9,"span",8),e.TgZ(10,"button",9),e._UZ(11,"mat-icon",10),e._uU(12," Columns "),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return r.createUser()}),e._UZ(14,"mat-icon",12),e._uU(15," Add User "),e.qZA()(),e.TgZ(16,"div",13)(17,"table",14),e.YNc(18,Mt,4,1,"ng-container",15)(19,bt,1,0,"tr",16)(20,Pt,1,1,"tr",17)(21,Ot,3,1,"tr",18),e.qZA(),e._UZ(22,"mat-paginator",19),e.qZA()(),e.TgZ(23,"mat-menu",20,21)(25,"div",22)(26,"span",23),e._uU(27,"Visible Columns"),e.qZA()(),e._UZ(28,"mat-divider"),e.YNc(29,xt,3,2,"button",24),e.qZA()),2&a){const i=e.MAs(24);e.xp6(3),e.Q6J("ngIf",r.selection.isEmpty()),e.xp6(),e.Q6J("ngIf",r.selection.hasValue()),e.xp6(),e.Q6J("ngIf",r.selection.hasValue()),e.xp6(3),e.Q6J("formControl",r.searchCtrl),e.xp6(2),e.Q6J("matMenuTriggerFor",i),e.xp6(7),e.Q6J("dataSource",r.dataSource),e.xp6(),e.Q6J("ngForOf",r.columns),e.xp6(),e.Q6J("matHeaderRowDef",r.visibleColumns),e.xp6(),e.Q6J("matRowDefColumns",r.visibleColumns),e.xp6(2),e.Q6J("pageSize",r.pageSize)("pageSizeOptions",r.pageSizeOptions),e.xp6(7),e.Q6J("ngForOf",r.columns)}},dependencies:[p.ez,p.mk,p.sg,p.O5,p.RF,p.n9,O.p0,O.BZ,O.fO,O.as,O.w1,O.Dz,O.nj,O.ge,O.ev,O.XQ,O.Gk,O.Ee,A.TU,A.NW,k.JX,k.YE,k.nU,b.Is,x.lN,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,o.LD,M.ot,M.lW,M.RK,Z.Ps,Z.Hw,W.AV,W.gM,N.p9,N.oG,$.Tx,$.VK,$.OP,$.p6,s.c,Ie.vV,Q.t,Q.d,G.ie,f.aw],styles:[".card[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:2rem}.title[_ngcontent-%COMP%]{color:#5c77ff;font-weight:500;font-size:1.25rem}.bg-app-bar[_ngcontent-%COMP%]{background-color:#f8f9ff;border-bottom:1px solid #e0e0e0}.search-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:24px;padding:.25rem 1rem;transition:all .2s ease}.search-container[_ngcontent-%COMP%]:focus-within{border-color:#5c77ff;box-shadow:0 0 0 2px #5c77ff1a}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;padding:.5rem;width:100%;color:#000000de}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#00000061}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000000de;font-weight:500;padding:1rem;text-transform:uppercase;font-size:.75rem;letter-spacing:.025em}table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:1rem;color:#000000de;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{transition:background-color .2s ease}table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#f8f9ff}.mat-paginator[_ngcontent-%COMP%]{background:transparent;border-top:1px solid #e0e0e0}.mat-button-toggle-group[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:24px;overflow:hidden}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{background:white;color:#0009;border:none;padding:0 1rem}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#5c77ff;color:#fff}.mat-mini-fab[_ngcontent-%COMP%]{background-color:#5c77ff;color:#fff;box-shadow:0 3px 5px #5c77ff33}.mat-mini-fab[_ngcontent-%COMP%]:hover{background-color:#4362ff}.checkbox-item[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin-right:.5rem}.trans-ease-out[_ngcontent-%COMP%]{transition:all .2s ease-out}.hover\\:bg-hover[_ngcontent-%COMP%]:hover{background-color:#f8f9ff}@media (max-width: 600px){.card[_ngcontent-%COMP%]{margin:1rem}.title[_ngcontent-%COMP%]{font-size:1.125rem}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:.75rem}}"],data:{animation:[y.$,w.KF]}})}return n})()},182:(j,S,g)=>{g.d(S,{$:()=>q});var e=g(6814),p=g(9347),m=g(2296),O=g(1365),A=g(617),k=g(6223),b=g(4170),F=g(2032),x=g(8525),c=g(5986),o=g(9212),y=g(3680);function w(C,I){if(1&C&&(o.TgZ(0,"mat-icon",9),o._uU(1),o.qZA()),2&C){const _=o.oxw();o.xp6(),o.Oqu(_.data.icon)}}function h(C,I){if(1&C&&(o.TgZ(0,"p"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&C){const _=o.oxw();o.xp6(),o.Oqu(o.lcZ(2,1,_.data.message))}}function J(C,I){if(1&C&&(o.TgZ(0,"p",10),o._uU(1),o.qZA()),2&C){const _=o.oxw();o.xp6(),o.Oqu(_.data.itemName)}}function M(C,I){if(1&C){const _=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"input",17),o.NdJ("ngModelChange",function(P){o.CHM(_);const E=o.oxw().$implicit;return o.KtG(E.value=P)}),o.qZA()()}if(2&C){const _=o.oxw().$implicit;o.xp6(2),o.Oqu(_.label),o.xp6(),o.Q6J("ngModel",_.value)("required",_.required)}}function N(C,I){if(1&C){const _=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"textarea",18),o.NdJ("ngModelChange",function(P){o.CHM(_);const E=o.oxw().$implicit;return o.KtG(E.value=P)}),o.qZA()()}if(2&C){const _=o.oxw().$implicit;o.xp6(2),o.Oqu(_.label),o.xp6(),o.Q6J("ngModel",_.value)("required",_.required)}}function s(C,I){if(1&C&&(o.TgZ(0,"mat-option",21),o._uU(1),o.qZA()),2&C){const _=I.$implicit;o.Q6J("value",_.value),o.xp6(),o.hij(" ",_.label," ")}}function u(C,I){if(1&C){const _=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",19),o.NdJ("ngModelChange",function(P){o.CHM(_);const E=o.oxw().$implicit;return o.KtG(E.value=P)}),o.YNc(4,s,2,2,"mat-option",20),o.qZA()()}if(2&C){const _=o.oxw().$implicit;o.xp6(2),o.Oqu(_.label),o.xp6(),o.Q6J("ngModel",_.value)("required",_.required),o.xp6(),o.Q6J("ngForOf",_.options)}}function f(C,I){if(1&C){const _=o.EpF();o.TgZ(0,"mat-checkbox",22),o.NdJ("ngModelChange",function(P){o.CHM(_);const E=o.oxw().$implicit;return o.KtG(E.value=P)}),o._uU(1),o.qZA()}if(2&C){const _=o.oxw().$implicit;o.Q6J("ngModel",_.value),o.xp6(),o.hij(" ",_.label," ")}}function v(C,I){if(1&C&&(o.TgZ(0,"div",13),o.YNc(1,M,4,3,"mat-form-field",14)(2,N,4,3,"mat-form-field",14)(3,u,5,4,"mat-form-field",14)(4,f,2,2,"mat-checkbox",15),o.qZA()),2&C){const _=I.$implicit;o.xp6(),o.Q6J("ngIf","text"===_.type),o.xp6(),o.Q6J("ngIf","textarea"===_.type),o.xp6(),o.Q6J("ngIf","select"===_.type),o.xp6(),o.Q6J("ngIf","checkbox"===_.type)}}function Z(C,I){if(1&C&&(o.TgZ(0,"div",11),o.YNc(1,v,5,4,"div",12),o.qZA()),2&C){const _=o.oxw();o.xp6(),o.Q6J("ngForOf",_.data.formFields)}}let q=(()=>{class C{constructor(_,U){this.dialogRef=_,this.data=U}onNoClick(){this.dialogRef.close(!1)}onYesClick(){if(this.data.isForm&&this.data.formFields){const _=this.data.formFields.reduce((U,P)=>(U[P.name]=P.value,U),{});this.dialogRef.close(_)}else this.dialogRef.close(!0)}static#e=this.\u0275fac=function(U){return new(U||C)(o.Y36(p.so),o.Y36(p.WI))};static#t=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-confirm-dialog"]],standalone:!0,features:[o.jDz],decls:16,vars:14,consts:[[1,"confirm-dialog","p-6"],["mat-dialog-title","",1,"text-xl","font-semibold","mb-4","flex","items-center"],["class","mr-2",4,"ngIf"],[4,"ngIf"],["class","font-bold mt-2",4,"ngIf"],["class","form-fields mt-4",4,"ngIf"],["align","end",1,"mt-6"],["mat-button","",3,"click"],["mat-raised-button","",3,"color","click"],[1,"mr-2"],[1,"font-bold","mt-2"],[1,"form-fields","mt-4"],["class","field-item mb-4",4,"ngFor","ngForOf"],[1,"field-item","mb-4"],["class","w-full",4,"ngIf"],["class","block",3,"ngModel","ngModelChange",4,"ngIf"],[1,"w-full"],["matInput","",3,"ngModel","required","ngModelChange"],["matInput","","rows","3",3,"ngModel","required","ngModelChange"],[3,"ngModel","required","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"block",3,"ngModel","ngModelChange"]],template:function(U,P){1&U&&(o.TgZ(0,"div",0)(1,"h2",1),o.YNc(2,w,2,1,"mat-icon",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"mat-dialog-content"),o.YNc(6,h,3,3,"p",3)(7,J,2,1,"p",4)(8,Z,2,1,"div",5),o.qZA(),o.TgZ(9,"mat-dialog-actions",6)(10,"button",7),o.NdJ("click",function(){return P.onNoClick()}),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"button",8),o.NdJ("click",function(){return P.onYesClick()}),o._uU(14),o.ALo(15,"translate"),o.qZA()()()),2&U&&(o.xp6(2),o.Q6J("ngIf",P.data.icon),o.xp6(),o.hij(" ",o.lcZ(4,8,P.data.title)," "),o.xp6(3),o.Q6J("ngIf",P.data.message),o.xp6(),o.Q6J("ngIf",P.data.itemName),o.xp6(),o.Q6J("ngIf",P.data.isForm&&P.data.formFields),o.xp6(3),o.hij(" ",o.lcZ(12,10,P.data.cancelText||"CANCEL")," "),o.xp6(2),o.Q6J("color",P.data.color||"primary"),o.xp6(),o.hij(" ",o.lcZ(15,12,P.data.confirmText||"CONFIRM")," "))},dependencies:[e.ez,e.sg,e.O5,p.Is,p.uh,p.H8,p.xY,m.ot,m.lW,A.Ps,A.Hw,b.lN,b.KE,b.hX,F.c,F.Nt,x.LD,x.gD,y.ey,c.p9,c.oG,k.u5,k.Fj,k.JJ,k.Q7,k.On,O.aw,O.X$],styles:["[_nghost-%COMP%]{display:block}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:0}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000000de}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{margin:0;padding:0}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;margin-left:8px}[dir=rtl][_ngcontent-%COMP%]   .confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}"]})}return C})()},9488:(j,S,g)=>{g.d(S,{A9:()=>w,Yi:()=>h,vV:()=>J});var e=g(4300),p=g(8337),m=g(9212),O=g(6223),A=g(3680);const k=["button"],b=["*"],F=new m.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),x=new m.OlP("MatButtonToggleGroup"),c={provide:O.JU,useExisting:(0,m.Gpc)(()=>w),multi:!0};let o=0;class y{constructor(N,s){this.source=N,this.value=s}}let w=(()=>{class M{get name(){return this._name}set name(s){this._name=s,this._markButtonsForCheck()}get value(){const s=this._selectionModel?this._selectionModel.selected:[];return this.multiple?s.map(u=>u.value):s[0]?s[0].value:void 0}set value(s){this._setSelectionByValue(s),this.valueChange.emit(this.value)}get selected(){const s=this._selectionModel?this._selectionModel.selected:[];return this.multiple?s:s[0]||null}get multiple(){return this._multiple}set multiple(s){this._multiple=s,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._markButtonsForCheck()}constructor(s,u){this._changeDetector=s,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+o++,this.valueChange=new m.vpe,this.change=new m.vpe,this.appearance=u&&u.appearance?u.appearance:"standard"}ngOnInit(){this._selectionModel=new p.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(s=>s.checked))}writeValue(s){this.value=s,this._changeDetector.markForCheck()}registerOnChange(s){this._controlValueAccessorChangeFn=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}_emitChangeEvent(s){const u=new y(s,this.value);this._rawValue=u.value,this._controlValueAccessorChangeFn(u.value),this.change.emit(u)}_syncButtonToggle(s,u,f=!1,v=!1){!this.multiple&&this.selected&&!s.checked&&(this.selected.checked=!1),this._selectionModel?u?this._selectionModel.select(s):this._selectionModel.deselect(s):v=!0,v?Promise.resolve().then(()=>this._updateModelValue(s,f)):this._updateModelValue(s,f)}_isSelected(s){return this._selectionModel&&this._selectionModel.isSelected(s)}_isPrechecked(s){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(u=>null!=s.value&&u===s.value):s.value===this._rawValue)}_setSelectionByValue(s){this._rawValue=s,this._buttonToggles&&(this.multiple&&s?(Array.isArray(s),this._clearSelection(),s.forEach(u=>this._selectValue(u))):(this._clearSelection(),this._selectValue(s)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(s=>s.checked=!1)}_selectValue(s){const u=this._buttonToggles.find(f=>null!=f.value&&f.value===s);u&&(u.checked=!0,this._selectionModel.select(u))}_updateModelValue(s,u){u&&this._emitChangeEvent(s),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(s=>s._markForCheck())}static#e=this.\u0275fac=function(u){return new(u||M)(m.Y36(m.sBO),m.Y36(F,8))};static#t=this.\u0275dir=m.lG2({type:M,selectors:[["mat-button-toggle-group"]],contentQueries:function(u,f,v){if(1&u&&m.Suo(v,h,5),2&u){let Z;m.iGM(Z=m.CRH())&&(f._buttonToggles=Z)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(u,f){2&u&&(m.uIk("aria-disabled",f.disabled),m.ekj("mat-button-toggle-vertical",f.vertical)("mat-button-toggle-group-appearance-standard","standard"===f.appearance))},inputs:{appearance:"appearance",name:"name",vertical:["vertical","vertical",m.VuI],value:"value",multiple:["multiple","multiple",m.VuI],disabled:["disabled","disabled",m.VuI]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[m._Bn([c,{provide:x,useExisting:M}]),m.Xq5]})}return M})(),h=(()=>{class M{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(s){this._appearance=s}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(s){s!==this._checked&&(this._checked=s,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(s){this._disabled=s}constructor(s,u,f,v,Z,q){this._changeDetectorRef=u,this._elementRef=f,this._focusMonitor=v,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new m.vpe;const C=Number(Z);this.tabIndex=C||0===C?C:null,this.buttonToggleGroup=s,this.appearance=q&&q.appearance?q.appearance:"standard"}ngOnInit(){const s=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+o++,s&&(s._isPrechecked(this)?this.checked=!0:s._isSelected(this)!==this._checked&&s._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const s=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),s&&s._isSelected(this)&&s._syncButtonToggle(this,!1,!1,!0)}focus(s){this._buttonElement.nativeElement.focus(s)}_onButtonClick(){const s=!!this._isSingleSelector()||!this._checked;s!==this._checked&&(this._checked=s,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new y(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(u){return new(u||M)(m.Y36(x,8),m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(e.tE),m.$8M("tabindex"),m.Y36(F,8))};static#t=this.\u0275cmp=m.Xpm({type:M,selectors:[["mat-button-toggle"]],viewQuery:function(u,f){if(1&u&&m.Gf(k,5),2&u){let v;m.iGM(v=m.CRH())&&(f._buttonElement=v.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(u,f){1&u&&m.NdJ("focus",function(){return f.focus()}),2&u&&(m.uIk("aria-label",null)("aria-labelledby",null)("id",f.id)("name",null),m.ekj("mat-button-toggle-standalone",!f.buttonToggleGroup)("mat-button-toggle-checked",f.checked)("mat-button-toggle-disabled",f.disabled)("mat-button-toggle-appearance-standard","standard"===f.appearance))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:["disableRipple","disableRipple",m.VuI],appearance:"appearance",checked:["checked","checked",m.VuI],disabled:["disabled","disabled",m.VuI]},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[m.Xq5],ngContentSelectors:b,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(u,f){if(1&u&&(m.F$t(),m.TgZ(0,"button",0,1),m.NdJ("click",function(){return f._onButtonClick()}),m.TgZ(2,"span",2),m.Hsn(3),m.qZA()(),m._UZ(4,"span",3)(5,"span",4)),2&u){const v=m.MAs(1);m.Q6J("id",f.buttonId)("disabled",f.disabled||null),m.uIk("tabindex",f.disabled?-1:f.tabIndex)("aria-pressed",f.checked)("name",f._getButtonName())("aria-label",f.ariaLabel)("aria-labelledby",f.ariaLabelledby),m.xp6(5),m.Q6J("matRippleTrigger",v)("matRippleDisabled",f.disableRipple||f.disabled)}},dependencies:[A.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return M})(),J=(()=>{class M{static#e=this.\u0275fac=function(u){return new(u||M)};static#t=this.\u0275mod=m.oAB({type:M});static#n=this.\u0275inj=m.cJS({imports:[A.BQ,A.si,A.BQ]})}return M})()}}]);