"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[421],{421:(tt,M,a)=>{a.r(M),a.d(M,{ClientPortalComponent:()=>q});var g=a(6814),m=a(6223),p=a(2296),E=a(5195),f=a(617),D=a(4104),u=a(5940),T=a(6007),I=a(2557),A=a(7988),U=a(2596),h=a(1476),k=a(5313),L=a(4170),R=a(2032),z=a(5986),F=a(9347),b=a(1365),K=a(8645),x=a(2572),P=a(2096),B=a(9773),c=a(6306),v=a(4716),y=a(7398),l=a(4697),W=a(9979),N=a(3694),t=a(9212),w=a(8109),Z=a(4855),S=a(4301),j=a(5836),$=a(9862),V=a(2425);function Y(i,d){1&i&&(t.TgZ(0,"div",8),t._UZ(1,"app-client-dashboard"),t.qZA())}function H(i,d){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"app-client-files"),t.qZA())}function Q(i,d){1&i&&(t.TgZ(0,"div",10),t._UZ(1,"app-client-files"),t.qZA())}function G(i,d){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"app-client-dashboard"),t.qZA())}function J(i,d){1&i&&(t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"mat-spinner",14),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"LOADING_CLIENT_PORTAL")))}function X(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"div",17),t._UZ(3,"mat-icon",18),t.TgZ(4,"div",19)(5,"h4"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",20)(12,"button",21),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.goBackToClientManagement())}),t._UZ(13,"mat-icon",22),t._uU(14),t.ALo(15,"translate"),t.qZA()()()()}if(2&i){const n=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,4,"ADMIN_VIEW_MODE")),t.xp6(3),t.AsE("",t.lcZ(10,6,"VIEWING_CLIENT_PORTAL"),": ",n.viewingClient.displayName||n.viewingClient.email,""),t.xp6(5),t.hij(" ",t.lcZ(15,8,"BACK_TO_CLIENT_MANAGEMENT")," ")}}let q=(()=>{class i{constructor(n,e,o,r,s,_,O,C){this.route=n,this.router=e,this.authService=o,this.taxFileService=r,this.clientService=s,this.http=_,this.toastr=O,this.fb=C,this.destroy$=new K.x,this.loading=!0,this.currentView="dashboard",this.user=null,this.isAdminView=!1,this.viewingClient=null,this.clientPortalData=null,this.folderHierarchy={currentTask:null,archivedTasks:[]},this.routeParams={folderId:null,mode:"view",action:null,clientId:null}}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){(0,x.a)([this.authService.currentUser$,this.route.queryParams]).pipe((0,B.R)(this.destroy$)).subscribe(([n,e])=>{n&&(this.user=n,this.isAdminView=this.checkIfAdminView(n),this.handleRouteParams(e),this.isAdminView&&e.clientId?this.loadClientForAdmin(parseInt(e.clientId)):this.loadClientPortalData())})}checkIfAdminView(n){return n.roles?.includes("Admin")||n.roles?.includes("TaxManager")||!1}handleRouteParams(n){this.routeParams={folderId:n.folderId?parseInt(n.folderId):null,mode:n.mode||"view",action:n.action||null,clientId:n.clientId?parseInt(n.clientId):null},this.currentView="create-task"===this.routeParams.action?"create-task":this.routeParams.folderId?"files":"dashboard"}loadClientForAdmin(n){this.loading=!0,this.http.get(`${l.N.apiUrl}/Client/${n}`).pipe((0,c.K)(e=>{throw console.error("Error loading client for admin:",e),this.toastr.error("Failed to load client data"),e}),(0,v.x)(()=>this.loading=!1)).subscribe(e=>{this.viewingClient=e,this.loadClientPortalDataForUser(e)})}loadClientPortalData(){this.user&&this.loadClientPortalDataForUser(this.user)}loadClientPortalDataForUser(n){this.loading=!0;const e=this.viewingClient?.id||n.id;(0,x.a)([this.loadFolders(e),this.loadFolderTypes(e),this.loadClientStats(e)]).pipe((0,y.U)(([o,r,s])=>this.organizeFolderHierarchy(o,r,s)),(0,c.K)(o=>{throw console.error("Error loading client portal data:",o),this.toastr.error("Failed to load client portal data"),o}),(0,v.x)(()=>this.loading=!1)).subscribe(o=>{this.clientPortalData=o,this.folderHierarchy=this.extractFolderHierarchy(o.folders)})}loadFolders(n){return this.http.get(`${l.N.apiUrl}/taxfile/client/${n}/folders`).pipe((0,c.K)(e=>(console.error("Error loading folders:",e),(0,P.of)([]))))}loadFolderTypes(n){return this.http.get(`${l.N.apiUrl}/taxfile/client/${n}/folder-types`).pipe((0,y.U)(e=>{const o=Array.isArray(e)?e:[e];return this.enhanceFolderTypesWithStats(o)}),(0,c.K)(e=>(console.error("Error loading folder types:",e),(0,P.of)(this.getDefaultFolderTypes()))))}loadClientStats(n){return this.http.get(`${l.N.apiUrl}/taxfile/client/${n}/stats`).pipe((0,c.K)(e=>(console.error("Error loading client stats:",e),(0,P.of)({totalFiles:0,activeFiles:0,submittedFolderTypes:0,completedFolderTypes:0}))))}enhanceFolderTypesWithStats(n){return Array.isArray(n)||(console.warn("folderTypes is not an array, converting to array"),n=[n]),n.map(e=>({...e,fileCount:0,lastFileUpload:void 0,workingStatus:"active"}))}getDefaultFolderTypes(){return[{id:1,name:"Tax Returns",arabicName:"\u0639\u0648\u0627\u0626\u062f \u0627\u0644\u0636\u0631\u0627\u0626\u0628",description:"Annual tax return documents",icon:"description",allowChildren:!1,isActive:!0,displayOrder:1,fileCount:0,workingStatus:"active"},{id:2,name:"Receipts",arabicName:"\u0625\u064a\u0635\u0627\u0644\u0627\u062a",description:"Business expense receipts",icon:"receipt",allowChildren:!1,isActive:!0,displayOrder:2,fileCount:0,workingStatus:"active"},{id:3,name:"Income",arabicName:"\u0627\u0644\u062f\u062e\u0644",description:"Income documentation",icon:"attach_money",allowChildren:!1,isActive:!0,displayOrder:3,fileCount:0,workingStatus:"active"}]}organizeFolderHierarchy(n,e,o){return{client:this.viewingClient||this.user,folders:n,folderTypes:e,files:[],stats:o}}extractFolderHierarchy(n){return{currentTask:n.find(r=>!r.folderName.includes("-finished")&&!r.submittedAt)||null,archivedTasks:n.filter(r=>r.folderName.includes("-finished")||r.submittedAt)}}navigateToView(n,e){this.currentView=n;const o={};"files"===n&&e?.folderId&&(o.folderId=e.folderId,o.mode=e.mode||"view"),"create-task"===n&&(o.action="create-task"),this.isAdminView&&this.viewingClient&&(o.clientId=this.viewingClient.id),this.router.navigate([],{relativeTo:this.route,queryParams:o,queryParamsHandling:"merge"})}goBackToClientManagement(){this.router.navigate(this.isAdminView?["/admin/client-management"]:["/main-dashboard"])}createNewTask(n,e){const o=this.viewingClient?.id||this.user?.id;if(!o)throw new Error("No client ID available");const r=(new Date).toISOString().split("T")[0],O={folderName:`folder-tax-${n.toLowerCase().replace(/\s+/g,"-")}-${r}`,description:e||`Tax task: ${n}`,folderTypeId:1,clientID:o};return this.http.post(`${l.N.apiUrl}/taxfile/folders`,O).pipe((0,c.K)(C=>{throw console.error("Error creating task:",C),this.toastr.error("Failed to create new task"),C}))}markTaskAsFinished(n){return this.http.put(`${l.N.apiUrl}/taxfile/folder/${n}/complete`,{}).pipe((0,c.K)(e=>{throw console.error("Error marking task as finished:",e),this.toastr.error("Failed to mark task as finished"),e}))}submitTaskForReview(n,e){const o={folderId:n,submittedAt:(new Date).toISOString(),notes:e||"Submitted for tax review"};return this.http.post(`${l.N.apiUrl}/taxfile/submit`,o).pipe((0,c.K)(r=>{throw console.error("Error submitting task:",r),this.toastr.error("Failed to submit task for review"),r}))}uploadFilesToFolder(n,e){const o=new FormData;return e.forEach(r=>o.append("files",r)),o.append("folderId",n.toString()),this.http.post(`${l.N.apiUrl}/taxfile/upload-multiple`,o,{reportProgress:!0,observe:"events"}).pipe((0,c.K)(r=>{throw console.error("Error uploading files:",r),this.toastr.error("Failed to upload files"),r}))}downloadFolderFiles(n){this.http.get(`${l.N.apiUrl}/taxfile/folder/${n}/download`,{responseType:"blob"}).subscribe({next:e=>{const o=this.clientPortalData?.folders.find(_=>_.id===n),r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=`${o?.folderName||"folder"}-files.zip`,s.click(),window.URL.revokeObjectURL(r),this.toastr.success("Files downloaded successfully")},error:e=>{console.error("Error downloading folder files:",e),this.toastr.error("Failed to download files")}})}getFileIcon(n){switch(n.split(".").pop()?.toLowerCase()){case"pdf":return"mat:picture_as_pdf";case"doc":case"docx":return"mat:description";case"xls":case"xlsx":return"mat:table_chart";case"jpg":case"jpeg":case"png":case"gif":return"mat:image";default:return"mat:insert_drive_file"}}getStatusClass(n){switch(n?.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending-review":case"submitted":return"bg-yellow-100 text-yellow-800";case"processing":case"active":case"current":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}getStatusIcon(n){switch(n?.toLowerCase()){case"completed":return"mat:check_circle";case"pending-review":case"submitted":return"mat:hourglass_empty";case"processing":return"mat:sync";case"active":case"current":return"mat:edit";default:return"mat:help"}}formatFileSize(n){if(0===n)return"0 Bytes";const r=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]}refreshData(){this.loadClientPortalData()}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(w.gz),t.Y36(w.F0),t.Y36(Z.e),t.Y36(S.I),t.Y36(j.y),t.Y36($.eN),t.Y36(V._W),t.Y36(m.qu))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-client-portal"]],viewQuery:function(e,o){if(1&e&&t.Gf(h.NW,5),2&e){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:8,vars:6,consts:[[1,"client-portal-container"],[1,"portal-content",3,"ngSwitch"],["class","dashboard-view",4,"ngSwitchCase"],["class","files-view",4,"ngSwitchCase"],["class","create-task-view",4,"ngSwitchCase"],["class","fallback-view",4,"ngSwitchDefault"],["class","global-loading-overlay",4,"ngIf"],["class","admin-view-banner",4,"ngIf"],[1,"dashboard-view"],[1,"files-view"],[1,"create-task-view"],[1,"fallback-view"],[1,"global-loading-overlay"],[1,"loading-content"],["diameter","60"],[1,"admin-view-banner"],[1,"banner-content"],[1,"banner-info"],["svgIcon","mat:admin_panel_settings",1,"admin-icon"],[1,"admin-text"],[1,"banner-actions"],["mat-raised-button","","color","warn",3,"click"],["svgIcon","mat:arrow_back"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Y,2,0,"div",2)(3,H,2,0,"div",3)(4,Q,2,0,"div",4)(5,G,2,0,"div",5),t.qZA(),t.YNc(6,J,6,3,"div",6)(7,X,16,10,"div",7),t.qZA()),2&e&&(t.xp6(),t.Q6J("ngSwitch",o.currentView),t.xp6(),t.Q6J("ngSwitchCase","dashboard"),t.xp6(),t.Q6J("ngSwitchCase","files"),t.xp6(),t.Q6J("ngSwitchCase","create-task"),t.xp6(2),t.Q6J("ngIf",o.loading),t.xp6(),t.Q6J("ngIf",o.isAdminView&&o.viewingClient))},dependencies:[g.ez,g.O5,g.RF,g.n9,g.ED,m.u5,m.UX,p.ot,p.lW,E.QW,f.Ps,f.Hw,D.Nh,u.Cq,u.Ou,T.Cv,I.Hi,A.Tx,U.AV,h.TU,k.p0,L.lN,R.c,z.p9,F.Is,b.aw,b.X$,W.ClientDashboardComponent,N.ClientFilesComponent],styles:[".client-portal-container[_ngcontent-%COMP%]{min-height:100vh;position:relative}.client-portal-container[_ngcontent-%COMP%]   .portal-content[_ngcontent-%COMP%], .client-portal-container[_ngcontent-%COMP%]   .portal-content[_ngcontent-%COMP%]   .dashboard-view[_ngcontent-%COMP%], .client-portal-container[_ngcontent-%COMP%]   .portal-content[_ngcontent-%COMP%]   .files-view[_ngcontent-%COMP%], .client-portal-container[_ngcontent-%COMP%]   .portal-content[_ngcontent-%COMP%]   .create-task-view[_ngcontent-%COMP%], .client-portal-container[_ngcontent-%COMP%]   .portal-content[_ngcontent-%COMP%]   .fallback-view[_ngcontent-%COMP%]{width:100%;min-height:100vh}.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999}.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:3rem 4rem;text-align:center;box-shadow:0 8px 24px #00000026}.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1rem;font-weight:500}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background:linear-gradient(45deg,#ff5722,#ff7043);color:#fff;z-index:1000;box-shadow:0 2px 8px #00000026}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:.75rem 2rem;display:flex;justify-content:space-between;align-items:center}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-info[_ngcontent-%COMP%]   .admin-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#fff}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-info[_ngcontent-%COMP%]   .admin-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1rem;font-weight:600;color:#fff}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-info[_ngcontent-%COMP%]   .admin-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#ffffffe6}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);color:#fff;border:1px solid rgba(255,255,255,.3)}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.3)}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%] + .portal-content[_ngcontent-%COMP%]{padding-top:4rem}.portal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f5f5 0%,#e0e0e0 100%);border-radius:12px;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.portal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem}@media (max-width: 768px){.portal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.portal-header[_ngcontent-%COMP%]   .user-welcome[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.portal-header[_ngcontent-%COMP%]   .user-welcome[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#1976d2}.portal-header[_ngcontent-%COMP%]   .user-welcome[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600;color:#333}.portal-header[_ngcontent-%COMP%]   .user-welcome[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#666;font-size:1rem}.portal-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}@media (max-width: 768px){.portal-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}.stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{border-radius:12px;transition:all .3s ease;border:2px solid transparent}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#1976d2}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem 0}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.primary-color[_ngcontent-%COMP%]{color:#1976d2}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.accent-color[_ngcontent-%COMP%]{color:#ff4081}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.warn-color[_ngcontent-%COMP%]{color:#ff9800}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.success-color[_ngcontent-%COMP%]{color:#4caf50}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;line-height:1}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.document-categories-section[_ngcontent-%COMP%]{margin-bottom:2rem}.document-categories-section[_ngcontent-%COMP%]   .categories-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a}.document-categories-section[_ngcontent-%COMP%]   .categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}@media (max-width: 768px){.document-categories-section[_ngcontent-%COMP%]   .categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:12px;padding:1.5rem;cursor:pointer;transition:all .3s ease;background:white;position:relative;overflow:hidden}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 8px 25px #0000001a;transform:translateY(-2px)}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f9ff;box-shadow:0 0 0 3px #1976d21a}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card.submitted[_ngcontent-%COMP%]{border-color:#ff9800;background:#fff8e1}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card.processing[_ngcontent-%COMP%]{border-color:#f44336;background:#ffebee}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card.completed[_ngcontent-%COMP%]{border-color:#4caf50;background:#e8f5e8}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card.drag-over[_ngcontent-%COMP%]{border-color:#1976d2;background:#e3f2fd;box-shadow:0 0 20px #1976d24d}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   mat-icon.primary-color[_ngcontent-%COMP%]{color:#1976d2}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   mat-icon.accent-color[_ngcontent-%COMP%]{color:#ff4081}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   mat-icon.warn-color[_ngcontent-%COMP%]{color:#ff9800}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   mat-icon.success-color[_ngcontent-%COMP%]{color:#4caf50}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{flex:1}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.2rem;font-weight:600;color:#333}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .arabic-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#666;font-style:italic}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#777;line-height:1.4}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-status[_ngcontent-%COMP%]{margin-bottom:1rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-status[_ngcontent-%COMP%]   mat-chip.primary[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-status[_ngcontent-%COMP%]   mat-chip.accent[_ngcontent-%COMP%]{background-color:#fce4ec;color:#c2185b}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-status[_ngcontent-%COMP%]   mat-chip.warn[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-status[_ngcontent-%COMP%]   mat-chip.success[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#388e3c}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#666}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:1.5rem;text-align:center;transition:all .3s ease;margin-bottom:1rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#f3f9ff}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#1976d2;margin-bottom:.5rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]{display:block;color:#666;font-size:.875rem}.document-categories-section[_ngcontent-%COMP%]   .category-upload-card[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.files-section[_ngcontent-%COMP%]   .files-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a}.files-section[_ngcontent-%COMP%]   .files-card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.files-section[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;border-radius:8px;background:#f3f9ff;border:1px solid #e3f2fd}.files-section[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;text-align:center;color:#1976d2;font-weight:500}.files-section[_ngcontent-%COMP%]   .files-table-container[_ngcontent-%COMP%]{margin-top:1rem;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]{width:100%}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#666}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{display:flex;flex-direction:column}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:.25rem}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:.75rem;color:#666;text-transform:uppercase}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   mat-row.needs-review[_ngcontent-%COMP%]{border-left:4px solid #ff9800;background:rgba(255,152,0,.05)}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   mat-row.under-review[_ngcontent-%COMP%]{border-left:4px solid #2196f3;background:rgba(33,150,243,.05)}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   mat-row.approved[_ngcontent-%COMP%]{border-left:4px solid #4caf50;background:rgba(76,175,80,.05)}.files-section[_ngcontent-%COMP%]   .files-table[_ngcontent-%COMP%]   mat-row.rejected[_ngcontent-%COMP%]{border-left:4px solid #f44336;background:rgba(244,67,54,.05)}.files-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#666}.files-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:1rem}.files-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;color:#555}.files-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#777}.status-completed[_ngcontent-%COMP%], .status-approved[_ngcontent-%COMP%]{background-color:#e8f5e8!important;color:#388e3c!important}.status-review[_ngcontent-%COMP%], .status-under-review[_ngcontent-%COMP%]{background-color:#e3f2fd!important;color:#1976d2!important}.status-rejected[_ngcontent-%COMP%]{background-color:#ffebee!important;color:#d32f2f!important}.status-pending[_ngcontent-%COMP%]{background-color:#fff3e0!important;color:#f57c00!important}.submit-dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]{background:white;border-radius:12px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #0000004d}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:1.5rem}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .submission-info[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;padding:1rem;background:#e3f2fd;border-radius:8px;border-left:4px solid #1976d2}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .submission-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:1.5rem;width:1.5rem;height:1.5rem;flex-shrink:0;margin-top:.25rem}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .submission-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;color:#1976d2}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .submission-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555;line-height:1.4}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   mat-checkbox.confirmation-checkbox[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.submit-dialog-overlay[_ngcontent-%COMP%]   .submit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e0e0e0}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.9);display:flex;align-items:center;justify-content:center;z-index:999}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;color:#666}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem}@media (max-width: 768px){.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-info[_ngcontent-%COMP%]{justify-content:center;text-align:center}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%], .client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%] + .portal-content[_ngcontent-%COMP%]{padding-top:6rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.portal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:1rem}.submit-dialog[_ngcontent-%COMP%]{margin:1rem}}.portal-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (prefers-color-scheme: dark){.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{background:#2d2d2d;color:#e0e0e0}.client-portal-container[_ngcontent-%COMP%]   .global-loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0}.client-portal-container[_ngcontent-%COMP%]   .admin-view-banner[_ngcontent-%COMP%]{background:linear-gradient(45deg,#d32f2f,#f57c00)}}",".folder-type-item[_ngcontent-%COMP%] {\n    cursor: pointer;\n    transition: background-color 0.2s;\n  }\n  \n  .folder-type-item[_ngcontent-%COMP%]:hover, .folder-type-item.active[_ngcontent-%COMP%] {\n    background-color: rgba(63, 81, 181, 0.1);\n  }\n  \n  .folders-grid[_ngcontent-%COMP%] {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 1rem;\n  }\n  \n  .folder-card[_ngcontent-%COMP%] {\n    transition: all 0.2s ease;\n  }\n  \n  .folder-card[_ngcontent-%COMP%]:hover {\n    border-color: #3f51b5;\n  }\n  \n  .folder-card.selected[_ngcontent-%COMP%] {\n    border-color: #3f51b5;\n    background-color: rgba(63, 81, 181, 0.05);\n  }\n  \n  .file-name-cell[_ngcontent-%COMP%] {\n    max-width: 200px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  \n  .from-client[_ngcontent-%COMP%] {\n    background-color: #e3f2fd;\n    margin-left: 2rem;\n  }\n  \n  .from-accountant[_ngcontent-%COMP%] {\n    background-color: #f5f5f5;\n    margin-right: 2rem;\n  }\n  \n  .upload-section[_ngcontent-%COMP%] {\n    transition: all 0.2s ease;\n  }"]})}return i})()}}]);