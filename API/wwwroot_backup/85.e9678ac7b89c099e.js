"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[85],{8085:(ut,T,c)=>{c.r(T),c.d(T,{AuditLogComponent:()=>_t});var u=c(6814),l=c(5313),P=c(1476),C=c(3566),M=c(4170),L=c(2032),E=c(8525),A=c(2296),D=c(617),_=c(5195),h=c(2557),U=c(5940),w=c(8034),Z=c(3680),I=c(2596),d=c(6223),v=c(1365),R=c(4697),q=c(6306),N=c(4716),G=c(2096),t=c(9212),$=c(2425),W=c(9862);function B(n,i){if(1&n&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(),t.hij(" ",e," ")}}function F(n,i){if(1&n&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(),t.hij(" ",e," ")}}function Q(n,i){if(1&n&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(),t.hij(" ",e," ")}}function k(n,i){1&n&&(t.TgZ(0,"div",37),t._UZ(1,"mat-spinner",38),t.TgZ(2,"span",39),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"AUDIT_LOG.LOADING_AUDIT_LOGS")))}function J(n,i){1&n&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.TIMESTAMP")))}function K(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"div")(2,"p",60),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"p",61),t._uU(6),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,2,e.timestamp,"MMM d, y, h:mm a")),t.xp6(3),t.Oqu(o.getRelativeTime(e.timestamp))}}function Y(n,i){1&n&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.USER")))}function j(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"div",62),t._UZ(2,"mat-icon",63),t.TgZ(3,"div")(4,"p",60),t._uU(5),t.qZA(),t.TgZ(6,"p",61),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(5),t.Oqu(e.userName),t.xp6(2),t.AsE("",t.lcZ(8,3,"TABLE.ID"),": ",e.userId,"")}}function z(n,i){1&n&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.ACTION")))}const H=(n,i,e,o)=>({"text-green-600":n,"text-blue-600":i,"text-red-600":e,"text-purple-600":o});function V(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"div",62),t._UZ(2,"mat-icon",65),t.TgZ(3,"span",66),t._uU(4),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.MGl("svgIcon","mat:",o.getActionTypeIcon(e.action),""),t.Q6J("ngClass",t.l5B(3,H,e.action.includes("Create"),e.action.includes("Update")||e.action.includes("View"),e.action.includes("Delete"),e.action.includes("Login")||e.action.includes("Logout"))),t.xp6(2),t.Oqu(e.action)}}function X(n,i){1&n&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.RESOURCE")))}function tt(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"mat-chip",67),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(),t.Q6J("color","primary"),t.xp6(),t.hij(" ",e.resourceType," ")}}function et(n,i){1&n&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.DETAILS")))}function nt(n,i){if(1&n&&(t.TgZ(0,"td",68)(1,"p",69),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(),t.Q6J("title",e.details),t.xp6(),t.hij(" ",e.details," ")}}function ot(n,i){1&n&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.STATUS")))}function at(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"mat-chip",70),t._UZ(2,"mat-icon",71),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(),t.Q6J("color",e.success?"primary":"warn"),t.xp6(),t.MGl("svgIcon","mat:",e.success?"check_circle":"error",""),t.xp6(),t.hij(" ",e.success?t.lcZ(4,3,"AUDIT_LOG.SUCCESS"):t.lcZ(5,5,"AUDIT_LOG.FAILED")," ")}}function it(n,i){1&n&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(),t.Oqu(t.lcZ(2,1,"TABLE.SEVERITY")))}function rt(n,i){if(1&n&&(t.TgZ(0,"td",59)(1,"mat-chip",72)(2,"mat-icon",73),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(),t.Q6J("color",o.getSeverityColor(e.severity)),t.xp6(2),t.Oqu(o.getSeverityIcon(e.severity)),t.xp6(),t.hij(" ",e.severity," ")}}function ct(n,i){1&n&&t._UZ(0,"tr",74)}function st(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",75),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.viewLogDetails(r))}),t.qZA()}}function lt(n,i){1&n&&(t.TgZ(0,"div",76),t._UZ(1,"mat-icon",77),t.TgZ(2,"h3",78),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p",79),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"AUDIT_LOG.NO_AUDIT_LOGS")),t.xp6(3),t.Oqu(t.lcZ(7,4,"AUDIT_LOG.NO_AUDIT_ENTRIES")))}const dt=()=>[25,50,100,250];function gt(n,i){if(1&n&&(t.TgZ(0,"mat-card",40)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",41)(9,"table",42),t.ynx(10,43),t.YNc(11,J,3,3,"th",44)(12,K,7,5,"td",45),t.BQk(),t.ynx(13,46),t.YNc(14,Y,3,3,"th",44)(15,j,9,5,"td",45),t.BQk(),t.ynx(16,47),t.YNc(17,z,3,3,"th",48)(18,V,5,8,"td",45),t.BQk(),t.ynx(19,49),t.YNc(20,X,3,3,"th",44)(21,tt,3,2,"td",45),t.BQk(),t.ynx(22,50),t.YNc(23,et,3,3,"th",48)(24,nt,3,2,"td",51),t.BQk(),t.ynx(25,52),t.YNc(26,ot,3,3,"th",48)(27,at,6,7,"td",45),t.BQk(),t.ynx(28,53),t.YNc(29,it,3,3,"th",44)(30,rt,5,3,"td",45),t.BQk(),t.YNc(31,ct,1,0,"tr",54)(32,st,1,0,"tr",55),t.qZA(),t.YNc(33,lt,8,6,"div",56),t._UZ(34,"mat-paginator",57),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,8,"AUDIT_LOG.AUDIT_ENTRIES")),t.xp6(3),t.AsE("",e.dataSource.data.length," ",t.lcZ(7,10,"AUDIT_LOG.ENTRIES_FOUND"),""),t.xp6(3),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(),t.Q6J("ngIf",0===e.dataSource.data.length),t.xp6(),t.Q6J("pageSizeOptions",t.DdM(12,dt))}}let _t=(()=>{class n{constructor(e,o,a){this.fb=e,this.toastrService=o,this.http=a,this.displayedColumns=["timestamp","user","action","resourceType","details","ipAddress","success","severity"],this.dataSource=new l.by([]),this.loading=!1,this.exporting=!1,this.actionTypes=["CREATE","UPDATE","DELETE","VIEW","LOGIN","LOGOUT","UPLOAD","DOWNLOAD","SYSTEM"],this.severityLevels=["LOW","MEDIUM","HIGH","CRITICAL"],this.resourceTypes=["User","TaxFile","Client","Folder","System","Session","Setting","Report","Backup"],this.auditStats={totalEntries:0,todayEntries:0,failedActions:0,criticalEvents:0,uniqueUsers:0},this.initializeFilterForm()}ngOnInit(){this.loadAuditLogs(),this.setupTableSorting()}initializeFilterForm(){this.filterForm=this.fb.group({search:[""],actionType:[""],severity:[""],resourceType:[""],userId:[""],success:[""],dateFrom:[""],dateTo:[""],ipAddress:[""]}),this.filterForm.valueChanges.subscribe(()=>{this.applyFilters()})}setupTableSorting(){setTimeout(()=>{this.paginator&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort,this.sort.sort({id:"timestamp",start:"desc",disableClear:!1}))})}loadAuditLogs(){this.loading=!0,this.http.get(`${R.N.apiUrl}/audit/logs`).pipe((0,q.K)(e=>(console.error("Error loading audit logs:",e),this.toastrService.error("Failed to load audit logs"),(0,G.of)(this.getMockAuditLogs()))),(0,N.x)(()=>{this.loading=!1})).subscribe(e=>{this.dataSource.data=e,this.updateStatistics(e)})}getMockAuditLogs(){const e=[{id:1,name:"John Smith",email:"john.smith@email.com"},{id:2,name:"Sarah Johnson",email:"sarah.johnson@email.com"},{id:3,name:"Mike Wilson",email:"mike.wilson@email.com"},{id:4,name:"Lisa Davis",email:"lisa.davis@email.com"}],o=[];for(let a=0;a<50;a++){const r=e[Math.floor(Math.random()*e.length)],s=["CREATE","UPDATE","DELETE","VIEW","LOGIN","LOGOUT","UPLOAD","DOWNLOAD"],g=["LOW","MEDIUM","HIGH","CRITICAL"],f=["User","TaxFile","Client","Folder","System","Session"],O=s[Math.floor(Math.random()*s.length)],m=f[Math.floor(Math.random()*f.length)],x=g[Math.floor(Math.random()*g.length)],p=Math.random()>.1;o.push({id:a+1,timestamp:new Date(Date.now()-7*Math.random()*24*60*60*1e3),userId:r.id,userName:r.name,userEmail:r.email,action:this.generateActionDescription(O,m),actionType:O,resourceType:m,resourceId:Math.floor(1e3*Math.random())+1,resourceName:`${m} ${Math.floor(100*Math.random())+1}`,details:this.generateActionDetails(O,m,p),ipAddress:`192.168.1.${Math.floor(254*Math.random())+1}`,userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",success:p,errorMessage:p?void 0:"Access denied or resource not found",sessionId:`sess_${Math.random().toString(36).substr(2,9)}`,severity:x})}return o.sort((a,r)=>r.timestamp.getTime()-a.timestamp.getTime())}generateActionDescription(e,o){return{CREATE:`Created new ${o.toLowerCase()}`,UPDATE:`Updated ${o.toLowerCase()}`,DELETE:`Deleted ${o.toLowerCase()}`,VIEW:`Viewed ${o.toLowerCase()}`,LOGIN:"User logged in",LOGOUT:"User logged out",UPLOAD:`Uploaded ${o.toLowerCase()}`,DOWNLOAD:`Downloaded ${o.toLowerCase()}`}[e]||`${e} ${o}`}generateActionDetails(e,o,a){if(!a)return`Failed to ${e.toLowerCase()} ${o.toLowerCase()} - insufficient permissions or resource not found`;const s={CREATE:[`New ${o.toLowerCase()} created successfully`,`${o} added to system`],UPDATE:[`${o} properties modified`,`Updated ${o.toLowerCase()} information`],DELETE:[`${o} removed from system`,`${o} deleted permanently`],VIEW:[`Accessed ${o.toLowerCase()} details`,`Viewed ${o.toLowerCase()} information`],LOGIN:["Successful authentication","User session started"],LOGOUT:["User session ended","Logout completed"],UPLOAD:[`File uploaded to ${o.toLowerCase()}`,"New document added"],DOWNLOAD:[`File downloaded from ${o.toLowerCase()}`,"Document retrieved"]}[e]||[`${e} completed on ${o}`];return s[Math.floor(Math.random()*s.length)]}updateStatistics(e){const o=new Date;o.setHours(0,0,0,0),this.auditStats={totalEntries:e.length,todayEntries:e.filter(a=>a.timestamp>=o).length,failedActions:e.filter(a=>!a.success).length,criticalEvents:e.filter(a=>"CRITICAL"===a.severity).length,uniqueUsers:new Set(e.map(a=>a.userId)).size}}applyFilters(){const e=this.filterForm.value;this.dataSource.filterPredicate=(o,a)=>{const r=e.search?.toLowerCase()||"",s=!r||o.userName.toLowerCase().includes(r)||o.action.toLowerCase().includes(r)||o.details.toLowerCase().includes(r)||o.resourceType.toLowerCase().includes(r),g=!e.actionType||o.actionType===e.actionType,f=!e.severity||o.severity===e.severity,O=!e.resourceType||o.resourceType===e.resourceType,m=!e.userId||o.userId.toString()===e.userId,x=""===e.success||o.success.toString()===e.success,p=!e.ipAddress||o.ipAddress.includes(e.ipAddress);let b=!0;if(e.dateFrom&&e.dateTo){const y=new Date(o.timestamp),mt=new Date(e.dateFrom),S=new Date(e.dateTo);S.setHours(23,59,59,999),b=y>=mt&&y<=S}return s&&g&&f&&O&&m&&x&&p&&b},this.dataSource.filter=Math.random().toString()}clearFilters(){this.filterForm.reset(),this.dataSource.filter=""}getSeverityColor(e){switch(e){case"CRITICAL":return"warn";case"HIGH":return"accent";case"MEDIUM":return"primary";default:return""}}getSeverityIcon(e){switch(e){case"CRITICAL":return"error";case"HIGH":return"warning";case"MEDIUM":return"info";case"LOW":return"check_circle";default:return"help"}}getActionTypeIcon(e){switch(e){case"CREATE":return"add_circle";case"UPDATE":return"edit";case"DELETE":return"delete";case"VIEW":return"visibility";case"LOGIN":return"login";case"LOGOUT":return"logout";case"UPLOAD":return"upload";case"DOWNLOAD":return"download";case"SYSTEM":return"settings";default:return"info"}}exportAuditLog(){this.exporting=!0,this.toastrService.info("Preparing audit log export..."),setTimeout(()=>{const e=this.generateCSVContent(),o=new Blob([e],{type:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(o),a.download=`audit-log-${(new Date).toISOString().split("T")[0]}.csv`,a.click(),this.exporting=!1,this.toastrService.success("Audit log exported successfully")},2e3)}generateCSVContent(){return[["Timestamp","User","Action","Resource Type","Details","IP Address","Success","Severity"],...this.dataSource.filteredData.map(a=>[a.timestamp.toISOString(),a.userName,a.action,a.resourceType,a.details,a.ipAddress,a.success.toString(),a.severity])].map(a=>a.map(r=>`"${r.toString().replace(/"/g,'""')}"`).join(",")).join("\n")}refreshLogs(){this.loadAuditLogs(),this.toastrService.success("Audit logs refreshed")}viewLogDetails(e){this.toastrService.info(`Viewing details for log entry #${e.id}`)}getRelativeTime(e){const a=(new Date).getTime()-e.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),g=Math.floor(a/864e5);return g>0?`${g} day${g>1?"s":""} ago`:s>0?`${s} hour${s>1?"s":""} ago`:r>0?`${r} minute${r>1?"s":""} ago`:"Just now"}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(d.qu),t.Y36($._W),t.Y36(W.eN))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-log"]],viewQuery:function(o,a){if(1&o&&(t.Gf(P.NW,5),t.Gf(C.YE,5)),2&o){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first),t.iGM(r=t.CRH())&&(a.sort=r.first)}},standalone:!0,features:[t.jDz],decls:103,vars:61,consts:[[1,"audit-log-container","p-6"],[1,"header-section","mb-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-3xl","font-bold","text-gray-800","mb-2"],[1,"text-gray-600"],[1,"flex","gap-2"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","mat:download"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","mat:refresh"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"stat-card"],[1,"p-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-2xl","font-bold","text-blue-600"],["svgIcon","mat:list_alt",1,"text-blue-600","text-3xl"],[1,"text-2xl","font-bold","text-green-600"],["svgIcon","mat:today",1,"text-green-600","text-3xl"],[1,"text-2xl","font-bold","text-red-600"],["svgIcon","mat:error",1,"text-red-600","text-3xl"],[1,"text-2xl","font-bold","text-orange-600"],["svgIcon","mat:warning",1,"text-orange-600","text-3xl"],[1,"filters-card","mb-6"],[1,"filters-form",3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["appearance","outline"],["matInput","","formControlName","search",3,"placeholder"],["matSuffix","","svgIcon","mat:search"],["formControlName","actionType"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","severity"],["formControlName","resourceType"],["class","flex justify-center my-8",4,"ngIf"],["class","audit-table-card",4,"ngIf"],[3,"value"],[1,"flex","justify-center","my-8"],["diameter","50"],[1,"ml-4","text-lg"],[1,"audit-table-card"],[1,"table-container"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","resourceType"],["matColumnDef","details"],["mat-cell","","class","max-w-xs",4,"matCellDef"],["matColumnDef","success"],["matColumnDef","severity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 cursor-pointer",3,"click",4,"matRowDef","matRowDefColumns"],["class","text-center py-8",4,"ngIf"],["showFirstLastButtons","",1,"border-t",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","items-center"],["svgIcon","mat:person",1,"mr-2","text-gray-500"],["mat-header-cell",""],[1,"mr-2",3,"svgIcon","ngClass"],[1,"text-sm","text-gray-900"],[1,"resource-chip",3,"color"],["mat-cell","",1,"max-w-xs"],[1,"text-sm","text-gray-700","truncate",3,"title"],[1,"status-chip",3,"color"],["matChipAvatar","",3,"svgIcon"],[1,"severity-chip",3,"color"],["matChipAvatar",""],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50","cursor-pointer",3,"click"],[1,"text-center","py-8"],["svgIcon","mat:history",1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"p",4),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",5)(11,"button",6),t.NdJ("click",function(){return a.exportAuditLog()}),t._UZ(12,"mat-icon",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return a.refreshLogs()}),t.ALo(16,"translate"),t._UZ(17,"mat-icon",9),t.qZA()()(),t.TgZ(18,"div",10)(19,"mat-card",11)(20,"mat-card-content",12)(21,"div",13)(22,"div")(23,"p",14),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"p",15),t._uU(27),t.qZA()(),t._UZ(28,"mat-icon",16),t.qZA()()(),t.TgZ(29,"mat-card",11)(30,"mat-card-content",12)(31,"div",13)(32,"div")(33,"p",14),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"p",17),t._uU(37),t.qZA()(),t._UZ(38,"mat-icon",18),t.qZA()()(),t.TgZ(39,"mat-card",11)(40,"mat-card-content",12)(41,"div",13)(42,"div")(43,"p",14),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"p",19),t._uU(47),t.qZA()(),t._UZ(48,"mat-icon",20),t.qZA()()(),t.TgZ(49,"mat-card",11)(50,"mat-card-content",12)(51,"div",13)(52,"div")(53,"p",14),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"p",21),t._uU(57),t.qZA()(),t._UZ(58,"mat-icon",22),t.qZA()()()()(),t.TgZ(59,"mat-card",23)(60,"mat-card-header")(61,"mat-card-title"),t._uU(62),t.ALo(63,"translate"),t.qZA()(),t.TgZ(64,"mat-card-content")(65,"form",24)(66,"div",25)(67,"mat-form-field",26)(68,"mat-label"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t._UZ(71,"input",27),t.ALo(72,"translate"),t._UZ(73,"mat-icon",28),t.qZA(),t.TgZ(74,"mat-form-field",26)(75,"mat-label"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"mat-select",29)(79,"mat-option",30),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.YNc(82,B,2,2,"mat-option",31),t.qZA()(),t.TgZ(83,"mat-form-field",26)(84,"mat-label"),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"mat-select",32)(88,"mat-option",30),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.YNc(91,F,2,2,"mat-option",31),t.qZA()(),t.TgZ(92,"mat-form-field",26)(93,"mat-label"),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"mat-select",33)(97,"mat-option",30),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.YNc(100,Q,2,2,"mat-option",31),t.qZA()()()()()(),t.YNc(101,k,5,3,"div",34)(102,gt,35,13,"mat-card",35),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,27,"AUDIT_LOG.AUDIT_LOG")),t.xp6(3),t.Oqu(t.lcZ(9,29,"AUDIT_LOG.TRACK_MONITOR_ACTIVITIES")),t.xp6(5),t.hij(" ",t.lcZ(14,31,"AUDIT_LOG.EXPORT_LOG")," "),t.xp6(2),t.Q6J("matTooltip",t.lcZ(16,33,"COMMON.REFRESH")),t.xp6(9),t.Oqu(t.lcZ(25,35,"AUDIT_LOG.TOTAL_ENTRIES")),t.xp6(3),t.Oqu(a.auditStats.totalEntries),t.xp6(7),t.Oqu(t.lcZ(35,37,"AUDIT_LOG.TODAYS_ENTRIES")),t.xp6(3),t.Oqu(a.auditStats.todayEntries),t.xp6(7),t.Oqu(t.lcZ(45,39,"AUDIT_LOG.FAILED_ACTIONS")),t.xp6(3),t.Oqu(a.auditStats.failedActions),t.xp6(7),t.Oqu(t.lcZ(55,41,"AUDIT_LOG.CRITICAL_EVENTS")),t.xp6(3),t.Oqu(a.auditStats.criticalEvents),t.xp6(5),t.Oqu(t.lcZ(63,43,"AUDIT_LOG.FILTERS")),t.xp6(3),t.Q6J("formGroup",a.filterForm),t.xp6(4),t.Oqu(t.lcZ(70,45,"COMMON.SEARCH")),t.xp6(2),t.Q6J("placeholder",t.lcZ(72,47,"COMMON.SEARCH_LOGS")),t.xp6(5),t.Oqu(t.lcZ(77,49,"AUDIT_LOG.ACTION_TYPE")),t.xp6(4),t.Oqu(t.lcZ(81,51,"AUDIT_LOG.ALL_ACTIONS")),t.xp6(2),t.Q6J("ngForOf",a.actionTypes),t.xp6(3),t.Oqu(t.lcZ(86,53,"AUDIT_LOG.SEVERITY")),t.xp6(4),t.Oqu(t.lcZ(90,55,"AUDIT_LOG.ALL_SEVERITIES")),t.xp6(2),t.Q6J("ngForOf",a.severityLevels),t.xp6(3),t.Oqu(t.lcZ(95,57,"AUDIT_LOG.RESOURCE_TYPE")),t.xp6(4),t.Oqu(t.lcZ(99,59,"AUDIT_LOG.ALL_RESOURCES")),t.xp6(2),t.Q6J("ngForOf",a.resourceTypes),t.xp6(),t.Q6J("ngIf",a.loading),t.xp6(),t.Q6J("ngIf",!a.loading))},dependencies:[u.ez,u.mk,u.sg,u.O5,u.uU,d.UX,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,d.u5,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,P.TU,P.NW,C.JX,C.YE,C.nU,M.lN,M.KE,M.hX,M.R9,L.c,L.Nt,E.LD,E.gD,Z.ey,A.ot,A.lW,A.RK,D.Ps,D.Hw,_.QW,_.a8,_.dn,_.dk,_.$j,_.n5,h.Hi,h.HS,h.EC,U.Cq,U.Ou,w.FA,Z.XK,I.AV,I.gM,v.aw,v.X$],styles:[".audit-log-container[_ngcontent-%COMP%]{background-color:#f8fafc;min-height:100vh}.audit-log-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.audit-log-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid #e2e8f0;border-radius:12px;background:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);overflow:hidden}.audit-log-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border-color:#cbd5e0}.audit-log-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem!important}.audit-log-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.audit-log-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 0}.audit-log-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937}.audit-log-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.audit-log-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 0}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151;background-color:#f9fafb;border-bottom:2px solid #e5e7eb}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding:16px 8px}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .max-w-xs[_ngcontent-%COMP%]{max-width:20rem}.audit-log-container[_ngcontent-%COMP%]   .audit-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.audit-log-container[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;border-radius:.375rem}.audit-log-container[_ngcontent-%COMP%]   mat-chip.resource-chip[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0277bd}.audit-log-container[_ngcontent-%COMP%]   mat-chip.status-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.audit-log-container[_ngcontent-%COMP%]   mat-chip.severity-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.audit-log-container[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.audit-log-container[_ngcontent-%COMP%]   .text-green-600[_ngcontent-%COMP%]{color:#16a34a}.audit-log-container[_ngcontent-%COMP%]   .text-blue-600[_ngcontent-%COMP%]{color:#2563eb}.audit-log-container[_ngcontent-%COMP%]   .text-red-600[_ngcontent-%COMP%]{color:#dc2626}.audit-log-container[_ngcontent-%COMP%]   .text-purple-600[_ngcontent-%COMP%]{color:#9333ea}.audit-log-container[_ngcontent-%COMP%]   .text-orange-600[_ngcontent-%COMP%]{color:#ea580c}.audit-log-container[_ngcontent-%COMP%]   .text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.audit-log-container[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.audit-log-container[_ngcontent-%COMP%]   .text-gray-700[_ngcontent-%COMP%]{color:#374151}.audit-log-container[_ngcontent-%COMP%]   .text-gray-800[_ngcontent-%COMP%]{color:#1f2937}.audit-log-container[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#111827}.audit-log-container[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}.audit-log-container[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex}.audit-log-container[_ngcontent-%COMP%]   .items-center[_ngcontent-%COMP%]{align-items:center}.audit-log-container[_ngcontent-%COMP%]   .justify-between[_ngcontent-%COMP%]{justify-content:space-between}.audit-log-container[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.audit-log-container[_ngcontent-%COMP%]   .gap-2[_ngcontent-%COMP%]{gap:.5rem}.audit-log-container[_ngcontent-%COMP%]   .gap-4[_ngcontent-%COMP%]{gap:1rem}.audit-log-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid}.audit-log-container[_ngcontent-%COMP%]   .grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.audit-log-container[_ngcontent-%COMP%]   .mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.audit-log-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.audit-log-container[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.audit-log-container[_ngcontent-%COMP%]   .mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.audit-log-container[_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.audit-log-container[_ngcontent-%COMP%]   .ml-4[_ngcontent-%COMP%]{margin-left:1rem}.audit-log-container[_ngcontent-%COMP%]   .my-8[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.audit-log-container[_ngcontent-%COMP%]   .p-4[_ngcontent-%COMP%]{padding:1rem}.audit-log-container[_ngcontent-%COMP%]   .p-6[_ngcontent-%COMP%]{padding:1.5rem}.audit-log-container[_ngcontent-%COMP%]   .py-8[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.audit-log-container[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.audit-log-container[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.audit-log-container[_ngcontent-%COMP%]   .text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.audit-log-container[_ngcontent-%COMP%]   .text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.audit-log-container[_ngcontent-%COMP%]   .text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.audit-log-container[_ngcontent-%COMP%]   .text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.audit-log-container[_ngcontent-%COMP%]   .text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.audit-log-container[_ngcontent-%COMP%]   .text-6xl[_ngcontent-%COMP%]{font-size:3.75rem;line-height:1}.audit-log-container[_ngcontent-%COMP%]   .font-medium[_ngcontent-%COMP%]{font-weight:500}.audit-log-container[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-weight:700}.audit-log-container[_ngcontent-%COMP%]   .border-t[_ngcontent-%COMP%]{border-top-width:1px;border-color:#e5e7eb}@media (min-width: 768px){.audit-log-container[_ngcontent-%COMP%]   .md\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.audit-log-container[_ngcontent-%COMP%]   .md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){.audit-log-container[_ngcontent-%COMP%]   .lg\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}.audit-log-container[_ngcontent-%COMP%]   .hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.audit-log-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]     circle{stroke:#1976d2}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block;margin:0 auto 1rem}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   mat-icon.text-6xl[_ngcontent-%COMP%]{font-size:3.75rem}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   mat-icon.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.125rem;font-weight:500;color:#111827}.audit-log-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#6b7280}@keyframes _ngcontent-%COMP%_fadeInRow{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRow .3s ease-out}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})}return n})()}}]);