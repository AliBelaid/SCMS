info: API.Program[0]
      Starting application initialization and database seeding...
info: API.Program[0]
      Connection string from configuration: True
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Migrations[20411]
      Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (120ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      DECLARE @result int;
      EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
      SELECT @result
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
      BEGIN
          CREATE TABLE [__EFMigrationsHistory] (
              [MigrationId] nvarchar(150) NOT NULL,
              [ProductVersion] nvarchar(32) NOT NULL,
              CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
          );
      END;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: Microsoft.EntityFrameworkCore.Migrations[20405]
      No migrations were applied. The database is already up to date.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      DECLARE @result int;
      EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
      SELECT @result
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT CASE
          WHEN EXISTS (
              SELECT 1
              FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
          ELSE CAST(0 AS bit)
      END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT CASE
          WHEN EXISTS (
              SELECT 1
              FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
          ELSE CAST(0 AS bit)
      END
info: API.Program[0]
      Identity database migration and seeding completed successfully.
info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[61]
      User profile not available. Using 'HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-2892227210-3549739472-665080510-3785172963-1779350310\DataProtection' as key repository and Windows DPAPI to encrypt keys at rest.
warn: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer[0]
      Increasing the MaxRequestBodySize conflicts with the max value for IIS limit maxAllowedContentLength. HTTP requests that have a content length greater than maxAllowedContentLength will still be rejected by IIS. You can disable the limit by either removing or setting the maxAllowedContentLength value to a higher limit.
info: Infrastructure.Services.OrderHistoryCleanupService[0]
      Order history cleanup service starting.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[@__cutoff_0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SELECT [o].[Id], [o].[Action], [o].[Description], [o].[IpAddress], [o].[NewValue], [o].[Notes], [o].[OldValue], [o].[OrderId], [o].[PerformedAt], [o].[PerformedById], [o].[UserAgent]
      FROM [OrderHistories] AS [o]
      WHERE [o].[PerformedAt] < @__cutoff_0
info: Infrastructure.Services.OrderHistoryCleanupService[0]
      Completed order history cleanup cycle.
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: D:\myApps\SCMS\API\testApp
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 264.7956ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 498.5571ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/VisitReports/summary?fromDate=2025-12-07&toDate=2025-12-07 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitReportsController.GetSummaryReport (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetSummaryReport", controller = "VisitReports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitSummaryDto]] GetSummaryReport(System.String, System.String) on controller API.Controllers.VisitReportsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName]
      FROM [Visits] AS [v]
      WHERE [v].[CheckInAt] >= @__startDate_0 AND [v].[CheckInAt] <= @__endDate_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.VisitorManagement.VisitSummaryDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitReportsController.GetSummaryReport (API) in 133.7208ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitReportsController.GetSummaryReport (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/VisitReports/summary?fromDate=2025-12-07&toDate=2025-12-07 - 200 241 application/json;+charset=utf-8 141.9817ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 16.8381ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 22.8615ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/VisitorDepartments - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorDepartmentsController.GetDepartments (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetDepartments", controller = "VisitorDepartments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.DepartmentDto]]] GetDepartments() on controller API.Controllers.VisitorDepartmentsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[Name]
      FROM [VisitorDepartments] AS [v]
      WHERE [v].[IsActive] = CAST(1 AS bit)
      ORDER BY [v].[Name]
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.DepartmentDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorDepartmentsController.GetDepartments (API) in 27.4955ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorDepartmentsController.GetDepartments (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/VisitorDepartments - 200 135 application/json;+charset=utf-8 33.6364ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=b - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 50.1256ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=b - 404 48 application/json;+charset=utf-8 53.8851ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bg - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 3.1848ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bg - 404 48 application/json;+charset=utf-8 3.9567ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgg - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 3.1915ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgg - 404 48 application/json;+charset=utf-8 3.8105ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bggg - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.1801ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bggg - 404 48 application/json;+charset=utf-8 2.7188ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggv - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.2067ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggv - 404 48 application/json;+charset=utf-8 4.0489ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvg - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.9701ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvg - 404 48 application/json;+charset=utf-8 3.7047ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.1365ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf - 404 48 application/json;+charset=utf-8 2.8686ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 3.4485ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf - 404 48 application/json;+charset=utf-8 4.8324ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 17.1786ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8 - 404 48 application/json;+charset=utf-8 17.9662ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 1.4586ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85 - 404 48 application/json;+charset=utf-8 2.1082ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 1.7074ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855 - 404 48 application/json;+charset=utf-8 2.1944ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.3312ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555 - 404 48 application/json;+charset=utf-8 3.3237ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.8237ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555 - 404 48 application/json;+charset=utf-8 3.5439ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855559 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.4674ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855559 - 404 48 application/json;+charset=utf-8 3.0478ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555598 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 2.198ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555598 - 404 48 application/json;+charset=utf-8 2.6505ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555988 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 1.6159ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555988 - 404 48 application/json;+charset=utf-8 2.0485ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855559889 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 3.2286ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=855559889 - 404 48 application/json;+charset=utf-8 3.7131ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555598898 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 1.675ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=8555598898 - 404 48 application/json;+charset=utf-8 2.1286ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555988988 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorByIdentifier", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitorDto]] GetVisitorByIdentifier(System.String, System.String) on controller API.Controllers.VisitorsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__nationalId_0='?' (Size = 50), @__phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__nationalId_0 OR [v].[Phone] = @__phone_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'API.Errors.ApiResponse'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorByIdentifier (API) in 1.7789ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorByIdentifier (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/lookup?nationalId=bgggvgf&phone=85555988988 - 404 48 application/json;+charset=utf-8 2.2650ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Visits - application/json 79907
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.CreateVisit (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "CreateVisit", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitDto]] CreateVisit(Core.Dtos.VisitorManagement.CreateVisitDto) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__createDto_Visitor_NationalId_0='?' (Size = 50), @__createDto_Visitor_Phone_1='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[NationalId] = @__createDto_Visitor_NationalId_0 OR [v].[Phone] = @__createDto_Visitor_Phone_1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 500), @p4='?' (DbType = Boolean), @p5='?' (Size = 500), @p6='?' (Size = 50), @p7='?' (Size = 500), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [Visitors] ([Company], [CreatedAt], [FullName], [IdCardImageUrl], [IsBlocked], [MedicalNotes], [NationalId], [PersonImageUrl], [Phone], [UpdatedAt])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (188ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 500)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Visitors] SET [IdCardImageUrl] = @p0, [PersonImageUrl] = @p1
      OUTPUT 1
      WHERE [Id] = @p2;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[Description], [v].[IsActive], [v].[Name]
      FROM [VisitorDepartments] AS [v]
      WHERE [v].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[@__todayStart_0='?' (DbType = DateTime2), @__todayEnd_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SELECT COUNT(*)
      FROM [Visits] AS [v]
      WHERE [v].[CreatedAt] >= @__todayStart_0 AND [v].[CreatedAt] < @__todayEnd_1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 20), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (Size = 500), @p15='?' (DbType = Int32), @p16='?' (Size = 200)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [Visits] ([CarImageUrl], [CarPlate], [CheckInAt], [CheckOutAt], [CreatedAt], [CreatedByUserId], [CreatedByUserName], [DepartmentId], [DepartmentName], [EmployeeToVisit], [ExpectedDurationHours], [Status], [UpdatedAt], [VisitNumber], [VisitReason], [VisitorId], [VisitorName])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
info: API.Controllers.VisitsController[0]
      Visit created: V20251207-0003 by user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing CreatedAtActionResult, writing value of type 'Core.Dtos.VisitorManagement.VisitDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.CreateVisit (API) in 670.17ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.CreateVisit (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Visits - 201 505 application/json;+charset=utf-8 674.0088ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/pos/imagesCar/car_V20251207-0003_20251207180626_d07e16795f5748c1b9fe2041dfab9ca2.jpg - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/8/profile - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorsController.GetVisitorProfile (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitorProfile", controller = "Visitors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetVisitorProfile(Int32) on controller API.Controllers.VisitorsController (API).
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/pos/imagesCar/car_V20251207-0003_20251207180626_d07e16795f5748c1b9fe2041dfab9ca2.jpg'. Physical path: 'D:\myApps\SCMS\API\testApp\wwwroot\pos\imagesCar\car_V20251207-0003_20251207180626_d07e16795f5748c1b9fe2041dfab9ca2.jpg'
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[Company], [v].[CreatedAt], [v].[FullName], [v].[IdCardImageUrl], [v].[IsBlocked], [v].[MedicalNotes], [v].[NationalId], [v].[PersonImageUrl], [v].[Phone], [v].[UpdatedAt]
      FROM [Visitors] AS [v]
      WHERE [v].[Id] = @__p_0
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/pos/imagesCar/car_V20251207-0003_20251207180626_d07e16795f5748c1b9fe2041dfab9ca2.jpg - 200 21050 image/jpeg 30.3722ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(@__p_1) [v].[Id], [v].[VisitNumber], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[Status], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt]
      FROM [Visits] AS [v]
      WHERE [v].[VisitorId] = @__id_0
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT COUNT(*)
      FROM [Visits] AS [v]
      WHERE [v].[VisitorId] = @__id_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type '<>f__AnonymousType47`3[[Core.Dtos.VisitorManagement.VisitorDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType46`8[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorsController.GetVisitorProfile (API) in 44.5448ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorsController.GetVisitorProfile (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visitors/8/profile - 200 629 application/json;+charset=utf-8 47.9142ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/pos/imagesPerson/person_8_20251207180625_1046f1f5d63f4bbab1bea490cc82f364.jpg - - -
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/pos/imagesPerson/person_8_20251207180625_1046f1f5d63f4bbab1bea490cc82f364.jpg'. Physical path: 'D:\myApps\SCMS\API\testApp\wwwroot\pos\imagesPerson\person_8_20251207180625_1046f1f5d63f4bbab1bea490cc82f364.jpg'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/pos/imagesPerson/person_8_20251207180625_1046f1f5d63f4bbab1bea490cc82f364.jpg - 200 19128 image/jpeg 11.7687ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/number/V20251207-0003 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetVisitByNumber (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitByNumber", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitDto]] GetVisitByNumber(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__visitNumber_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[VisitNumber] = @__visitNumber_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.VisitorManagement.VisitDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetVisitByNumber (API) in 48.5701ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetVisitByNumber (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/number/V20251207-0003 - 200 503 application/json;+charset=utf-8 52.0657ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/number/V20251207-0003 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetVisitByNumber (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetVisitByNumber", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitDto]] GetVisitByNumber(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[@__visitNumber_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[VisitNumber] = @__visitNumber_0
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.VisitorManagement.VisitDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetVisitByNumber (API) in 8.0861ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetVisitByNumber (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/number/V20251207-0003 - 200 503 application/json;+charset=utf-8 8.8859ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Visits/checkout/V20251207-0003 - application/json 0
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.CheckoutVisit (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "CheckoutVisit", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitDto]] CheckoutVisit(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__visitNumber_0='?' (Size = 50)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[VisitNumber] = @__visitNumber_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (257ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 20), @p2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Visits] SET [CheckOutAt] = @p0, [Status] = @p1, [UpdatedAt] = @p2
      OUTPUT 1
      WHERE [Id] = @p3;
info: API.Controllers.VisitsController[0]
      Visit checked out: V20251207-0003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.VisitorManagement.VisitDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.CheckoutVisit (API) in 264.3388ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.CheckoutVisit (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Visits/checkout/V20251207-0003 - 200 531 application/json;+charset=utf-8 266.8222ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (111ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (168ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 426.4561ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 432.1141ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (14ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 73.964ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 74.5675ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (14ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 75.1467ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 75.7609ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (21ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 71.7918ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 72.3939ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (8ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (22ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 75.7847ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 76.3518ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (13ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (20ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 114.2443ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 114.5375ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (8ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (19ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 77.5344ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 78.0147ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (19ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 80.3304ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 80.9114ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/ - - -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller API.Controllers.FallbackController (API).
info: API.Controllers.FallbackController[0]
      Fallback request for path: root
warn: API.Controllers.FallbackController[0]
      Index.html not found in wwwroot directory
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing NotFoundObjectResult, writing value of type 'System.String'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.FallbackController.Index (API) in 14.6993ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/ - 404 - text/plain;+charset=utf-8 19.3610ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger - 301 - - 0.7232ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger/index.html - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger/index.html - 200 - text/html;charset=utf-8 54.3868ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui.css - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger-ui/swagger-ui.css - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger-ui/swagger-ui-standalone-preset.js - - -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller API.Controllers.FallbackController (API).
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller API.Controllers.FallbackController (API).
info: API.Controllers.FallbackController[0]
      Fallback request for path: swagger-ui/swagger-ui.css
info: API.Controllers.FallbackController[0]
      Not serving SPA for API/system path: swagger-ui/swagger-ui.css
info: API.Controllers.FallbackController[0]
      Fallback request for path: swagger-ui/swagger-ui-standalone-preset.js
info: API.Controllers.FallbackController[0]
      Not serving SPA for API/system path: swagger-ui/swagger-ui-standalone-preset.js
info: Microsoft.AspNetCore.Mvc.StatusCodeResult[1]
      Executing StatusCodeResult, setting HTTP status code 404
info: Microsoft.AspNetCore.Mvc.StatusCodeResult[1]
      Executing StatusCodeResult, setting HTTP status code 404
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.FallbackController.Index (API) in 3.1355ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.FallbackController.Index (API) in 3.1526ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.FallbackController.Index (API)'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui.css - 200 144929 text/css 9.0924ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui-bundle.js - - -
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 26.8872ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui-standalone-preset.js - - -
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 8.3593ms
fail: API.Errors.ExceptionMiddleware[0]
      Failed to proxy the request to http://localhost:4400/errors/404, because the request to the proxy target failed. Check that the proxy target server is running and accepting requests to http://localhost:4400/.

The underlying exception message was 'No connection could be made because the target machine actively refused it. (localhost:4400)'.Check the InnerException for more details.
      System.Net.Http.HttpRequestException: Failed to proxy the request to http://localhost:4400/errors/404, because the request to the proxy target failed. Check that the proxy target server is running and accepting requests to http://localhost:4400/.

The underlying exception message was 'No connection could be made because the target machine actively refused it. (localhost:4400)'.Check the InnerException for more details.
       ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:4400)
       ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
         at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
         --- End of inner exception stack trace ---
         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
         at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
         at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
         at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
         --- End of inner exception stack trace ---
         at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
         at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
      --- End of stack trace from previous location ---
         at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
      --- End of stack trace from previous location ---
         at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
         at API.Errors.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\myApps\SCMS\API\Errors\ExceptionMiddleware.cs:line 26
fail: API.Errors.ExceptionMiddleware[0]
      Failed to proxy the request to http://localhost:4400/errors/404, because the request to the proxy target failed. Check that the proxy target server is running and accepting requests to http://localhost:4400/.

The underlying exception message was 'No connection could be made because the target machine actively refused it. (localhost:4400)'.Check the InnerException for more details.
      System.Net.Http.HttpRequestException: Failed to proxy the request to http://localhost:4400/errors/404, because the request to the proxy target failed. Check that the proxy target server is running and accepting requests to http://localhost:4400/.

The underlying exception message was 'No connection could be made because the target machine actively refused it. (localhost:4400)'.Check the InnerException for more details.
       ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:4400)
       ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
         at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
         --- End of inner exception stack trace ---
         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
         at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
         at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
         at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
         at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
         at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
         --- End of inner exception stack trace ---
         at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
         at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
      --- End of stack trace from previous location ---
         at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
      --- End of stack trace from previous location ---
         at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
         at API.Errors.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\myApps\SCMS\API\Errors\ExceptionMiddleware.cs:line 26
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger-ui/swagger-ui.css - 500 - application/json 4190.8400ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger-ui/swagger-ui-standalone-preset.js - 500 - application/json 4190.8301ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/swagger/v1/swagger.json - - -
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 143.9751ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json-patch+json 54
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      CORS policy execution successful.
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: ADMIN001
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 1 - ADMIN001 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user ADMIN001
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 1 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user ADMIN001
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 103.567ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 647 application/json;+charset=utf-8 107.3997ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (197ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 271.3388ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 272.0946ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (15ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 76.4398ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 76.9352ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 34.991ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 46.1180ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (72ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 238.0668ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 239.3137ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 85.0742ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 85.5903ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (8ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 73.153ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 73.5626ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 11.7137ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 12.9720ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (22ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 87.8761ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 647 application/json;+charset=utf-8 88.2762ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 46.1043ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 46.4847ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (19ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (19ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 99.9685ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 100.7027ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (19ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (17ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 87.3752ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 87.9167ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 4.8876ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 9.5034ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/VisitReports/summary?fromDate=2025-12-07&toDate=2025-12-07 - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitReportsController.GetSummaryReport (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetSummaryReport", controller = "VisitReports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.VisitorManagement.VisitSummaryDto]] GetSummaryReport(System.String, System.String) on controller API.Controllers.VisitReportsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName]
      FROM [Visits] AS [v]
      WHERE [v].[CheckInAt] >= @__startDate_0 AND [v].[CheckInAt] <= @__endDate_1
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.VisitorManagement.VisitSummaryDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitReportsController.GetSummaryReport (API) in 17.8094ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitReportsController.GetSummaryReport (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/VisitReports/summary?fromDate=2025-12-07&toDate=2025-12-07 - 200 322 application/json;+charset=utf-8 24.9180ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - application/json 44
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Dtos.DocumentViewer.UserDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
info: API.Controllers.AccountController[0]
      Login attempt for code: MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (10ms) [Parameters=[@__loginDto_Code_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='120']
      SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[CodeUser], [a2].[ConcurrencyStamp], [a2].[Country], [a2].[Email], [a2].[EmailConfirmed], [a2].[IsActive], [a2].[LastActive], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[PreferredLanguage], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[ConcurrencyStamp], [s].[Name], [s].[NormalizedName]
      FROM (
          SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
          FROM [AspNetUsers] AS [a]
          WHERE [a].[CodeUser] = @__loginDto_Code_0
      ) AS [a2]
      LEFT JOIN (
          SELECT [a0].[UserId], [a0].[RoleId], [a1].[Id], [a1].[ConcurrencyStamp], [a1].[Name], [a1].[NormalizedName]
          FROM [AspNetUserRoles] AS [a0]
          INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
      ) AS [s] ON [a2].[Id] = [s].[UserId]
      ORDER BY [a2].[Id], [s].[UserId], [s].[RoleId]
info: API.Controllers.AccountController[0]
      User found: 4 - MEMBER003 - IsActive: True
info: API.Controllers.AccountController[0]
      Checking password for user MEMBER003
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='120']
      SELECT [a0].[Name]
      FROM [AspNetUserRoles] AS [a]
      INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
      WHERE [a].[UserId] = @__userId_0
info: Infrastructure.Services.TokenService[0]
      Token generated for user 4 with 5 claims
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CodeUser], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PreferredLanguage], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
      FROM [AspNetUsers] AS [a]
      WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (17ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='Text', CommandTimeout='120']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CodeUser] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastActive] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PreferredLanguage] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
      OUTPUT 1
      WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
info: API.Controllers.AccountController[0]
      Login successful for user MEMBER003
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'Core.Dtos.DocumentViewer.UserDto'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.AccountController.Login (API) in 74.5113ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.AccountController.Login (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 POST http://10.17.178.34:5050/api/Account/login - 200 648 application/json;+charset=utf-8 74.7933ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 7.1301ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 7.7989ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 1.5418ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 1.9137ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 1.8113ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 2.3617ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 1.8931ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 2.4261ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing'
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 8.2382ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active - 200 2 application/json;+charset=utf-8 8.7561ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (18ms) [Parameters=[@__search_0_contains='?' (Size = 50), @__search_0_contains_1='?' (Size = 200)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing' AND ([v].[VisitNumber] LIKE @__search_0_contains ESCAPE N'\' OR [v].[VisitorName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[DepartmentName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[EmployeeToVisit] LIKE @__search_0_contains_1 ESCAPE N'\')
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 63.8683ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - 200 2 application/json;+charset=utf-8 64.3217ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 50), @__search_0_contains_1='?' (Size = 200)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing' AND ([v].[VisitNumber] LIKE @__search_0_contains ESCAPE N'\' OR [v].[VisitorName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[DepartmentName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[EmployeeToVisit] LIKE @__search_0_contains_1 ESCAPE N'\')
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 1.807ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - 200 2 application/json;+charset=utf-8 2.2891ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 50), @__search_0_contains_1='?' (Size = 200)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing' AND ([v].[VisitNumber] LIKE @__search_0_contains ESCAPE N'\' OR [v].[VisitorName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[DepartmentName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[EmployeeToVisit] LIKE @__search_0_contains_1 ESCAPE N'\')
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 1.9907ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=al - 200 2 application/json;+charset=utf-8 2.2775ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=ali - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetActiveVisits", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.VisitDto]]] GetActiveVisits(System.String) on controller API.Controllers.VisitsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 50), @__search_0_contains_1='?' (Size = 200)], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[CarImageUrl], [v].[CarPlate], [v].[CheckInAt], [v].[CheckOutAt], [v].[CreatedAt], [v].[CreatedByUserId], [v].[CreatedByUserName], [v].[DepartmentId], [v].[DepartmentName], [v].[EmployeeToVisit], [v].[ExpectedDurationHours], [v].[Status], [v].[UpdatedAt], [v].[VisitNumber], [v].[VisitReason], [v].[VisitorId], [v].[VisitorName], [v0].[Id], [v0].[Company], [v0].[CreatedAt], [v0].[FullName], [v0].[IdCardImageUrl], [v0].[IsBlocked], [v0].[MedicalNotes], [v0].[NationalId], [v0].[PersonImageUrl], [v0].[Phone], [v0].[UpdatedAt]
      FROM [Visits] AS [v]
      INNER JOIN [Visitors] AS [v0] ON [v].[VisitorId] = [v0].[Id]
      WHERE [v].[Status] = N'ongoing' AND ([v].[VisitNumber] LIKE @__search_0_contains ESCAPE N'\' OR [v].[VisitorName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[DepartmentName] LIKE @__search_0_contains_1 ESCAPE N'\' OR [v].[EmployeeToVisit] LIKE @__search_0_contains_1 ESCAPE N'\')
      ORDER BY [v].[CheckInAt] DESC
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.VisitDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitsController.GetActiveVisits (API) in 2.233ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitsController.GetActiveVisits (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/Visits/active?search=ali - 200 2 application/json;+charset=utf-8 2.5551ms
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/1.1 GET http://10.17.178.34:5050/api/VisitorDepartments - application/json -
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'API.Controllers.VisitorDepartmentsController.GetDepartments (API)'
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102]
      Route matched with {action = "GetDepartments", controller = "VisitorDepartments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Dtos.VisitorManagement.DepartmentDto]]] GetDepartments() on controller API.Controllers.VisitorDepartmentsController (API).
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='120']
      SELECT [v].[Id], [v].[Name]
      FROM [VisitorDepartments] AS [v]
      WHERE [v].[IsActive] = CAST(1 AS bit)
      ORDER BY [v].[Name]
info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1]
      Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Dtos.VisitorManagement.DepartmentDto, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105]
      Executed action API.Controllers.VisitorDepartmentsController.GetDepartments (API) in 5.4268ms
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'API.Controllers.VisitorDepartmentsController.GetDepartments (API)'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/1.1 GET http://10.17.178.34:5050/api/VisitorDepartments - 200 135 application/json;+charset=utf-8 5.8332ms
info: Microsoft.Hosting.Lifetime[0]
      Application is shutting down...
info: Infrastructure.Services.OrderHistoryCleanupService[0]
      Order history cleanup service stopping.
