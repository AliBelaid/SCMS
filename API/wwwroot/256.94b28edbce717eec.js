"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[256],{256:(z,j,c)=>{c.r(j),c.d(j,{OrderFormComponent:()=>je});var F=c(4523),x=c(177),l=c(9417),N=c(1413),D=c(4843),b=c(6977),k=c(2385),G=c(1780),T=c(3808),R=c(5312),y=c(9213),g=c(6013),_=c(8834),s=c(5596),m=c(2102),C=c(9631),f=c(2798),P=c(2765),h=c(5084),I=c(6600),M=c(9454),$=c(6471),B=c(4823),S=c(9183),L=c(5416),e=c(4438),V=c(8287),K=c(5048),W=c(9192),X=c(1626);function J(r,i){1&r&&e.EFF(0,"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629")}function q(r,i){1&r&&(e.j41(0,"mat-error"),e.EFF(1," \u0646\u0648\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0645\u0637\u0644\u0648\u0628 "),e.k0s())}function H(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nameAr," (",t.code,") ")}}function Q(r,i){1&r&&(e.j41(0,"mat-error"),e.EFF(1," \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 "),e.k0s())}function Z(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nameAr," (",t.code,") ")}}function ee(r,i){1&r&&(e.j41(0,"mat-hint"),e.EFF(1,"\u0627\u062e\u062a\u0631 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0623\u0648\u0644\u0627\u064b"),e.k0s())}function te(r,i){1&r&&(e.j41(0,"mat-error"),e.EFF(1," \u0627\u0644\u0645\u0648\u0636\u0648\u0639 \u0645\u0637\u0644\u0648\u0628 "),e.k0s())}function ne(r,i){1&r&&(e.j41(0,"mat-error"),e.EFF(1," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0645\u0637\u0644\u0648\u0628 "),e.k0s())}function re(r,i){1&r&&(e.j41(0,"mat-error"),e.EFF(1," \u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628 "),e.k0s())}function oe(r,i){1&r&&e.EFF(0,"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062a")}function ie(r,i){if(1&r&&(e.j41(0,"div",89),e.nrm(1,"img",90),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Y8G("src",t.preview,e.B4B)("alt",t.file.name)}}function ae(r,i){if(1&r){const t=e.RV6();e.j41(0,"mat-card",83)(1,"div",84)(2,"div",85)(3,"mat-icon",73),e.EFF(4),e.k0s()(),e.j41(5,"div",86)(6,"h4"),e.EFF(7),e.k0s(),e.j41(8,"p"),e.EFF(9),e.k0s()(),e.j41(10,"button",87),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG(2);return e.Njj(a.removeFile(n))}),e.j41(11,"mat-icon"),e.EFF(12,"delete"),e.k0s()()(),e.DNE(13,ie,2,2,"div",88),e.k0s()}if(2&r){const t=i.$implicit,o=e.XpG(2);e.R7$(3),e.Y8G("color","pdf"===t.type?"warn":"primary"),e.R7$(),e.SpI(" ",o.getFileIcon(t.type)," "),e.R7$(3),e.JRh(t.file.name),e.R7$(2),e.JRh(o.formatFileSize(t.file.size)),e.R7$(4),e.Y8G("ngIf",t.preview)}}function ue(r,i){if(1&r&&(e.j41(0,"div",80)(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,ae,14,5,"mat-card",82),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.SpI("\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u062d\u062f\u062f\u0629 (",t.filesPreviews.length,")"),e.R7$(2),e.Y8G("ngForOf",t.filesPreviews)}}function ce(r,i){1&r&&(e.j41(0,"div",91)(1,"mat-icon"),e.EFF(2,"folder_open"),e.k0s(),e.j41(3,"p"),e.EFF(4,"\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0623\u064a \u0645\u0644\u0641\u0627\u062a"),e.k0s()())}function se(r,i){1&r&&e.EFF(0,"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a")}function le(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.name," (",t.code,") ")}}function de(r,i){if(1&r){const t=e.RV6();e.j41(0,"mat-card",92)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.k0s(),e.j41(4,"button",93),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeUserPermission(n))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()(),e.j41(7,"mat-card-content")(8,"mat-form-field",34)(9,"mat-label"),e.EFF(10,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.j41(11,"mat-select",94),e.DNE(12,le,2,3,"mat-option",32),e.k0s()(),e.j41(13,"div",95)(14,"mat-checkbox",96),e.EFF(15,"\u0639\u0631\u0636"),e.k0s(),e.j41(16,"mat-checkbox",97),e.EFF(17,"\u062a\u0639\u062f\u064a\u0644"),e.k0s(),e.j41(18,"mat-checkbox",98),e.EFF(19,"\u062d\u0630\u0641"),e.k0s(),e.j41(20,"mat-checkbox",99),e.EFF(21,"\u0645\u0634\u0627\u0631\u0643\u0629"),e.k0s(),e.j41(22,"mat-checkbox",100),e.EFF(23,"\u062a\u062d\u0645\u064a\u0644"),e.k0s(),e.j41(24,"mat-checkbox",101),e.EFF(25,"\u0637\u0628\u0627\u0639\u0629"),e.k0s(),e.j41(26,"mat-checkbox",102),e.EFF(27,"\u062a\u0639\u0644\u064a\u0642"),e.k0s(),e.j41(28,"mat-checkbox",103),e.EFF(29,"\u0645\u0648\u0627\u0641\u0642\u0629"),e.k0s()(),e.j41(30,"div",20)(31,"mat-form-field",21)(32,"mat-label"),e.EFF(33,"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"),e.k0s(),e.nrm(34,"input",104)(35,"mat-datepicker-toggle",44)(36,"mat-datepicker",null,4),e.j41(38,"mat-hint"),e.EFF(39,"\u0627\u062e\u062a\u064a\u0627\u0631\u064a"),e.k0s()(),e.j41(40,"mat-form-field",21)(41,"mat-label"),e.EFF(42,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.k0s(),e.nrm(43,"input",105),e.k0s()()()()}if(2&r){const t=i.index,o=e.sdS(37),n=e.XpG();e.Y8G("formGroupName",t),e.R7$(3),e.SpI("\u0645\u0633\u062a\u062e\u062f\u0645 ",t+1,""),e.R7$(9),e.Y8G("ngForOf",n.availableUsers),e.R7$(22),e.Y8G("matDatepicker",o),e.R7$(),e.Y8G("for",o)}}function me(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nameAr," (",t.code,") ")}}function pe(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function _e(r,i){if(1&r){const t=e.RV6();e.j41(0,"mat-card",92)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.k0s(),e.j41(4,"button",93),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeDepartmentAccess(n))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()(),e.j41(7,"mat-card-content")(8,"div",20)(9,"mat-form-field",21)(10,"mat-label"),e.EFF(11,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"),e.k0s(),e.j41(12,"mat-select",31),e.DNE(13,me,2,3,"mat-option",32),e.k0s()(),e.j41(14,"mat-form-field",21)(15,"mat-label"),e.EFF(16,"\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0648\u0635\u0648\u0644"),e.k0s(),e.j41(17,"mat-select",106),e.DNE(18,pe,2,2,"mat-option",32),e.k0s()()(),e.j41(19,"div",20)(20,"mat-form-field",21)(21,"mat-label"),e.EFF(22,"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0648\u0635\u0648\u0644"),e.k0s(),e.nrm(23,"input",104)(24,"mat-datepicker-toggle",44)(25,"mat-datepicker",null,5),e.j41(27,"mat-hint"),e.EFF(28,"\u0627\u062e\u062a\u064a\u0627\u0631\u064a"),e.k0s()(),e.j41(29,"mat-form-field",21)(30,"mat-label"),e.EFF(31,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.k0s(),e.nrm(32,"input",105),e.k0s()()()()}if(2&r){const t=i.index,o=e.sdS(26),n=e.XpG();e.Y8G("formGroupName",t),e.R7$(3),e.SpI("\u0625\u062f\u0627\u0631\u0629 ",t+1,""),e.R7$(10),e.Y8G("ngForOf",n.departments),e.R7$(5),e.Y8G("ngForOf",n.accessLevels),e.R7$(5),e.Y8G("matDatepicker",o),e.R7$(),e.Y8G("for",o)}}function ge(r,i){if(1&r&&(e.j41(0,"mat-option",79),e.EFF(1),e.k0s()),2&r){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.name," (",t.code,") ")}}function fe(r,i){if(1&r){const t=e.RV6();e.j41(0,"mat-card",107)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.k0s(),e.j41(4,"button",93),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeUserException(n))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()(),e.j41(7,"mat-card-content")(8,"mat-form-field",34)(9,"mat-label"),e.EFF(10,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0645\u0633\u062a\u062b\u0646\u0649"),e.k0s(),e.j41(11,"mat-select",94),e.DNE(12,ge,2,3,"mat-option",32),e.k0s()(),e.j41(13,"mat-form-field",34)(14,"mat-label"),e.EFF(15,"\u0633\u0628\u0628 \u0627\u0644\u0627\u0633\u062a\u062b\u0646\u0627\u0621"),e.k0s(),e.nrm(16,"input",108),e.j41(17,"mat-hint"),e.EFF(18,"\u0645\u062b\u0627\u0644: \u0645\u0639\u0627\u0645\u0644\u0629 \u0633\u0631\u064a\u0629\u060c \u062a\u0636\u0627\u0631\u0628 \u0645\u0635\u0627\u0644\u062d\u060c \u0625\u0644\u062e"),e.k0s()(),e.j41(19,"mat-form-field",34)(20,"mat-label"),e.EFF(21,"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0627\u0633\u062a\u062b\u0646\u0627\u0621"),e.k0s(),e.nrm(22,"input",104)(23,"mat-datepicker-toggle",44)(24,"mat-datepicker",null,6),e.j41(26,"mat-hint"),e.EFF(27,"\u0627\u062e\u062a\u064a\u0627\u0631\u064a - \u0627\u062a\u0631\u0643 \u0641\u0627\u0631\u063a\u0627\u064b \u0644\u0644\u0627\u0633\u062a\u062b\u0646\u0627\u0621 \u0627\u0644\u062f\u0627\u0626\u0645"),e.k0s()()()()}if(2&r){const t=i.index,o=e.sdS(25),n=e.XpG();e.Y8G("formGroupName",t),e.R7$(3),e.SpI("\u0627\u0633\u062a\u062b\u0646\u0627\u0621 ",t+1,""),e.R7$(9),e.Y8G("ngForOf",n.availableUsers),e.R7$(10),e.Y8G("matDatepicker",o),e.R7$(),e.Y8G("for",o)}}function Ce(r,i){1&r&&e.EFF(0,"\u0645\u0631\u0627\u062c\u0639\u0629")}function Oe(r,i){if(1&r&&(e.j41(0,"mat-chip")(1,"mat-icon"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&r){const t=i.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(o.getFileIcon(t.type)),e.R7$(),e.SpI(" ",t.file.name," ")}}function Fe(r,i){if(1&r&&(e.j41(0,"mat-card",70)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"mat-card-content")(5,"mat-chip-listbox"),e.DNE(6,Oe,4,2,"mat-chip",109),e.k0s()()()),2&r){const t=e.XpG();e.R7$(3),e.SpI("\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062a (",t.filesPreviews.length,")"),e.R7$(3),e.Y8G("ngForOf",t.filesPreviews)}}function Pe(r,i){if(1&r&&(e.j41(0,"mat-chip"),e.EFF(1),e.k0s()),2&r){const t=i.$implicit,o=e.XpG(3);e.R7$(),e.SpI(" ",o.getUserName(t.userId)," ")}}function he(r,i){if(1&r&&(e.j41(0,"div",112)(1,"h4")(2,"mat-icon"),e.EFF(3,"person"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"mat-chip-listbox"),e.DNE(6,Pe,2,1,"mat-chip",109),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.SpI(" \u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",t.userPermissions.length,")"),e.R7$(2),e.Y8G("ngForOf",t.userPermissions.value)}}function Me(r,i){if(1&r&&(e.j41(0,"mat-chip",114),e.EFF(1),e.k0s()),2&r){const t=i.$implicit,o=e.XpG(3);e.R7$(),e.Lme(" ",o.getDepartmentName(t.departmentId)," - ",o.getAccessLevelLabel(t.accessLevel)," ")}}function ve(r,i){if(1&r&&(e.j41(0,"div",112)(1,"h4")(2,"mat-icon"),e.EFF(3,"business"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"mat-chip-listbox"),e.DNE(6,Me,2,2,"mat-chip",113),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.SpI(" \u0648\u0635\u0648\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0627\u062a (",t.departmentAccesses.length,")"),e.R7$(2),e.Y8G("ngForOf",t.departmentAccesses.value)}}function Ee(r,i){if(1&r&&(e.j41(0,"mat-chip",116),e.EFF(1),e.k0s()),2&r){const t=i.$implicit,o=e.XpG(3);e.R7$(),e.SpI(" ",o.getUserName(t.userId)," ")}}function xe(r,i){if(1&r&&(e.j41(0,"div",112)(1,"h4")(2,"mat-icon"),e.EFF(3,"block"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"mat-chip-listbox"),e.DNE(6,Ee,2,1,"mat-chip",115),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.SpI(" \u0627\u0644\u0627\u0633\u062a\u062b\u0646\u0627\u0621\u0627\u062a (",t.userExceptions.length,")"),e.R7$(2),e.Y8G("ngForOf",t.userExceptions.value)}}function be(r,i){if(1&r&&(e.j41(0,"mat-card",70)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"),e.k0s()(),e.j41(4,"mat-card-content")(5,"div",110),e.DNE(6,he,7,2,"div",111)(7,ve,7,2,"div",111)(8,xe,7,2,"div",111),e.k0s()()()),2&r){const t=e.XpG();e.R7$(6),e.Y8G("ngIf",t.userPermissions.length>0),e.R7$(),e.Y8G("ngIf",t.departmentAccesses.length>0),e.R7$(),e.Y8G("ngIf",t.userExceptions.length>0)}}function ke(r,i){1&r&&e.nrm(0,"mat-spinner",117)}function Ae(r,i){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"save"),e.k0s())}let je=(()=>{class r{constructor(t,o,n,a,d,p){this.fb=t,this.orderService=o,this.authService=n,this.router=a,this.snackBar=d,this.http=p,this.departments=[],this.subjects=[],this.filteredSubjects=[],this.availableUsers=[],this.selectedFiles=[],this.filesPreviews=[],this.currentStep=0,this.isLoading=!1,this.isSaving=!1,this.accessLevels=[{value:k.h.ViewOnly,label:"\u0639\u0631\u0636 \u0641\u0642\u0637"},{value:k.h.Edit,label:"\u062a\u0639\u062f\u064a\u0644"},{value:k.h.Full,label:"\u0643\u0627\u0645\u0644"}],this.destroy$=new N.B,this.currentUser=this.authService.getCurrentUser()}ngOnInit(){this.initializeForms(),this.loadDepartments(),this.loadUsers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForms(){this.orderForm=this.fb.group({type:["incoming",l.k0.required],departmentId:["",l.k0.required],subjectId:[{value:"",disabled:!0},l.k0.required],title:["",[l.k0.required,l.k0.maxLength(200)]],description:["",[l.k0.required,l.k0.maxLength(1e3)]],priority:["medium",l.k0.required],status:["pending",l.k0.required],dueDate:[null],expirationDate:[null],isPublic:[!1],notes:["",l.k0.maxLength(500)]}),this.permissionsForm=this.fb.group({userPermissions:this.fb.array([]),departmentAccesses:this.fb.array([]),userExceptions:this.fb.array([])}),this.orderForm.get("departmentId")?.valueChanges.pipe((0,b.Q)(this.destroy$)).subscribe(t=>{this.onDepartmentChange(t)})}get userPermissions(){return this.permissionsForm.get("userPermissions")}get departmentAccesses(){return this.permissionsForm.get("departmentAccesses")}get userExceptions(){return this.permissionsForm.get("userExceptions")}addUserPermission(){const t=this.fb.group({userId:["",l.k0.required],canView:[!0],canEdit:[!1],canDelete:[!1],canShare:[!1],canDownload:[!0],canPrint:[!0],canComment:[!0],canApprove:[!1],expiresAt:[null],notes:[""]});this.userPermissions.push(t)}removeUserPermission(t){this.userPermissions.removeAt(t)}addDepartmentAccess(){const t=this.fb.group({departmentId:["",l.k0.required],accessLevel:[k.h.ViewOnly,l.k0.required],expiresAt:[null],notes:[""]});this.departmentAccesses.push(t)}removeDepartmentAccess(t){this.departmentAccesses.removeAt(t)}addUserException(){const t=this.fb.group({userId:["",l.k0.required],reason:["",l.k0.required],expiresAt:[null]});this.userExceptions.push(t)}removeUserException(t){this.userExceptions.removeAt(t)}onFileSelected(t){const o=t.target.files;for(let n=0;n<o.length;n++){const a=o[n];if(a.size>10485760)this.showMessage("\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064a\u0631 \u062c\u062f\u0627\u064b. \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 10 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a","error");else if(this.selectedFiles.push(a),a.type.startsWith("image/")){const d=new FileReader;d.onload=p=>{this.filesPreviews.push({file:a,preview:p.target.result,type:"image"})},d.readAsDataURL(a)}else this.filesPreviews.push({file:a,type:this.getFileType(a)})}}removeFile(t){this.selectedFiles.splice(t,1),this.filesPreviews.splice(t,1)}getFileType(t){const o=t.name.split(".").pop()?.toLowerCase();return["pdf"].includes(o||"")?"pdf":["doc","docx"].includes(o||"")?"document":["xls","xlsx"].includes(o||"")?"spreadsheet":["jpg","jpeg","png","gif"].includes(o||"")?"image":"other"}getFileIcon(t){return{pdf:"picture_as_pdf",document:"description",spreadsheet:"table_chart",image:"image",other:"insert_drive_file"}[t]||"insert_drive_file"}formatFileSize(t){return t<1024?t+" B":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB"}loadDepartments(){this.isLoading=!0,this.orderService.getAllDepartments().pipe((0,b.Q)(this.destroy$)).subscribe({next:t=>{this.departments=t,this.isLoading=!1},error:t=>{this.showMessage("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0627\u062a","error"),this.isLoading=!1}})}loadUsers(){this.orderService.getAvailableUsers().pipe((0,b.Q)(this.destroy$)).subscribe({next:t=>{this.availableUsers=t},error:()=>{this.availableUsers=[]}})}onDepartmentChange(t){const o=this.orderForm.get("subjectId");if(!t)return this.filteredSubjects=[],o?.disable(),void o?.setValue("");o?.enable(),this.orderService.getSubjectsByDepartment(t).pipe((0,b.Q)(this.destroy$)).subscribe({next:n=>{this.filteredSubjects=n,o?.setValue("")},error:n=>{this.showMessage("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639","error"),o?.disable()}})}onSubmit(){var t=this;return(0,F.A)(function*(){if(t.orderForm.invalid)t.showMessage("\u064a\u0631\u062c\u0649 \u062a\u0639\u0628\u0626\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629","error");else{t.isSaving=!0;try{const o=t.orderForm.value,n=t.departments.find(u=>u.id===o.departmentId),a=t.filteredSubjects.find(u=>u.id===o.subjectId);if(!n||!a)throw new Error("\u0627\u0644\u0642\u0633\u0645 \u0623\u0648 \u0627\u0644\u0645\u0648\u0636\u0648\u0639 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d");const d=[];if(t.selectedFiles.length>0)for(const u of t.selectedFiles)try{const O=yield t.uploadFile(u);O&&d.push(O)}catch(O){console.error("Error uploading file:",O)}const p=t.userPermissions.value.filter(u=>u.userId).map(u=>({userId:Number(u.userId),canView:u.canView??!0,canEdit:u.canEdit??!1,canDelete:u.canDelete??!1,canShare:u.canShare??!1,canDownload:u.canDownload??!0,canPrint:u.canPrint??!0,canComment:u.canComment??!0,canApprove:u.canApprove??!1,expiresAt:u.expiresAt?new Date(u.expiresAt):void 0,notes:u.notes})),A=t.departmentAccesses.value.filter(u=>u.departmentId).map(u=>({departmentId:u.departmentId,accessLevel:u.accessLevel,expiresAt:u.expiresAt?new Date(u.expiresAt):void 0,notes:u.notes})),v=t.userExceptions.value.filter(u=>u.userId).map(u=>({userId:Number(u.userId),reason:u.reason,expiresAt:u.expiresAt?new Date(u.expiresAt):void 0})),w={type:o.type,departmentId:n.id,departmentCode:n.code,subjectId:a.id,subjectCode:a.code,title:o.title,description:o.description,status:o.status,priority:o.priority,dueDate:o.dueDate?new Date(o.dueDate):void 0,expirationDate:o.expirationDate?new Date(o.expirationDate):void 0,notes:o.notes??"",isPublic:o.isPublic??!1,userPermissions:p.length>0?p:void 0,departmentAccesses:A.length>0?A:void 0,userExceptions:v.length>0?v:void 0,attachmentIds:d.length>0?d:void 0},E=yield(0,D._)(t.orderService.addOrder(w));if(!E)throw new Error("\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629");t.showMessage("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0628\u0646\u062c\u0627\u062d","success"),t.router.navigate(["/app/document-management/orders/details",E.id])}catch(o){console.error("Error creating order:",o),t.showMessage(o.message||"\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629","error")}finally{t.isSaving=!1}}})()}uploadFile(t){var o=this;return(0,F.A)(function*(){try{const n=new FormData;return n.append("file",t),n.append("description","Attachment for order"),n.append("category","OrderAttachment"),(yield(0,D._)(o.http.post(`${R.c.apiUrl}/DocumentViewer/upload`,n)))?.id||null}catch(n){return console.error("Error uploading file:",n),null}})()}generateReferenceNumber(t,o,n){const a=(new Date).getFullYear(),d="incoming"===n?"IN":"OUT",p=Math.floor(9999*Math.random())+1;return`${t}-${o}-${d}-${a}-${String(p).padStart(4,"0")}`}nextStep(){0===this.currentStep&&this.orderForm.invalid?this.showMessage("\u064a\u0631\u062c\u0649 \u062a\u0639\u0628\u0626\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629","error"):this.currentStep<3&&this.currentStep++}previousStep(){this.currentStep>0&&this.currentStep--}goToStep(t){(0===t||t>0&&this.orderForm.valid)&&(this.currentStep=t)}getUserName(t){const o=this.availableUsers.find(n=>n.id===t);return o?`${o.name} (${o.code})`:"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"}getDepartmentName(t){const o=this.departments.find(n=>n.id===t);return o?`${o.nameAr} (${o.code})`:"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"}getAccessLevelLabel(t){const o=this.accessLevels.find(n=>n.value===t);return o?o.label:"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"}showMessage(t,o="info"){this.snackBar.open(t,"\u0625\u063a\u0644\u0627\u0642",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:[`snackbar-${o}`]})}cancel(){confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0644\u063a\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629\u061f \u0633\u064a\u062a\u0645 \u0641\u0642\u062f\u0627\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u062e\u0644\u0629.")&&this.router.navigate(["/orders"])}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(l.ok),e.rXU(V.a),e.rXU(K.u),e.rXU(W.Ix),e.rXU(L.UG),e.rXU(X.Qq))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-order-create"]],standalone:!0,features:[e.aNF],decls:267,vars:46,consts:[["stepper",""],["duePicker",""],["expirationPicker",""],["fileInput",""],["permExpPicker",""],["deptExpPicker",""],["excExpPicker",""],[1,"order-create-container",2,"margin-top","70px"],[1,"create-hero"],[1,"hero-content"],[1,"hero-icon"],[1,"hero-title"],[1,"hero-subtitle"],[1,"create-card"],[3,"selectedIndexChange","linear","selectedIndex"],[3,"stepControl","editable"],["matStepLabel",""],[1,"step-content"],[1,"step-title"],[1,"order-form",3,"formGroup"],[1,"form-row"],["appearance","outline",1,"form-field"],["formControlName","type","required",""],["value","incoming"],["value","outgoing"],[4,"ngIf"],["formControlName","priority","required",""],["value","low"],["value","medium"],["value","high"],["value","urgent"],["formControlName","departmentId","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","subjectId","required",""],["appearance","outline",1,"full-width"],["matInput","","formControlName","title","required","","maxlength","200"],["align","end"],["matInput","","formControlName","description","required","","rows","5","maxlength","1000"],["formControlName","status","required",""],["value","pending"],["value","in-progress"],["value","completed"],["formControlName","isPublic",1,"public-checkbox"],["matInput","","formControlName","dueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","expirationDate",3,"matDatepicker"],["matInput","","formControlName","notes","rows","3","maxlength","500"],[1,"step-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"editable"],[1,"upload-section"],[1,"upload-area",3,"click"],[1,"upload-icon"],["type","file","multiple","","hidden","",3,"change"],["class","files-preview",4,"ngIf"],["class","no-files",4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"formGroup"],[1,"permissions-panel"],[1,"permissions-content"],[1,"section-description"],["formArrayName","userPermissions"],["class","permission-card",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",1,"add-button",3,"click"],["formArrayName","departmentAccesses"],["formArrayName","userExceptions"],["class","permission-card exception-card",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",1,"add-button",3,"click"],[1,"review-section"],[1,"review-card"],[1,"review-grid"],[1,"review-item"],[3,"color"],[1,"review-item","full-width"],["class","review-card",4,"ngIf"],["diameter","20",4,"ngIf"],[1,"cancel-section"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"files-preview"],[1,"file-list"],["class","file-card",4,"ngFor","ngForOf"],[1,"file-card"],[1,"file-info"],[1,"file-icon"],[1,"file-details"],["mat-icon-button","","color","warn","matTooltip","\u062d\u0630\u0641 \u0627\u0644\u0645\u0644\u0641",3,"click"],["class","image-preview",4,"ngIf"],[1,"image-preview"],[3,"src","alt"],[1,"no-files"],[1,"permission-card",3,"formGroupName"],["mat-icon-button","","color","warn","matTooltip","\u062d\u0630\u0641",3,"click"],["formControlName","userId","required",""],[1,"permissions-grid"],["formControlName","canView"],["formControlName","canEdit"],["formControlName","canDelete"],["formControlName","canShare"],["formControlName","canDownload"],["formControlName","canPrint"],["formControlName","canComment"],["formControlName","canApprove"],["matInput","","formControlName","expiresAt",3,"matDatepicker"],["matInput","","formControlName","notes"],["formControlName","accessLevel","required",""],[1,"permission-card","exception-card",3,"formGroupName"],["matInput","","formControlName","reason","required",""],[4,"ngFor","ngForOf"],[1,"permissions-summary"],["class","summary-section",4,"ngIf"],[1,"summary-section"],["color","accent",4,"ngFor","ngForOf"],["color","accent"],["color","warn",4,"ngFor","ngForOf"],["color","warn"],["diameter","20"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"mat-icon",10),e.EFF(4,"add_circle"),e.k0s(),e.j41(5,"h1",11),e.EFF(6,"\u0625\u0646\u0634\u0627\u0621 \u0645\u0639\u0627\u0645\u0644\u0629 \u062c\u062f\u064a\u062f\u0629"),e.k0s(),e.j41(7,"p",12),e.EFF(8,"\u0642\u0645 \u0628\u062a\u0639\u0628\u0626\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629"),e.k0s()()(),e.j41(9,"mat-card",13)(10,"mat-stepper",14,0),e.mxI("selectedIndexChange",function(p){return e.eBV(a),e.DH7(n.currentStep,p)||(n.currentStep=p),e.Njj(p)}),e.j41(12,"mat-step",15),e.DNE(13,J,1,0,"ng-template",16),e.j41(14,"div",17)(15,"h2",18)(16,"mat-icon"),e.EFF(17,"description"),e.k0s(),e.EFF(18," \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 "),e.k0s(),e.j41(19,"form",19)(20,"div",20)(21,"mat-form-field",21)(22,"mat-label"),e.EFF(23,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),e.k0s(),e.j41(24,"mat-select",22)(25,"mat-option",23)(26,"mat-icon"),e.EFF(27,"call_received"),e.k0s(),e.EFF(28," \u0648\u0627\u0631\u062f\u0629 "),e.k0s(),e.j41(29,"mat-option",24)(30,"mat-icon"),e.EFF(31,"call_made"),e.k0s(),e.EFF(32," \u0635\u0627\u062f\u0631\u0629 "),e.k0s()(),e.DNE(33,q,2,0,"mat-error",25),e.k0s(),e.j41(34,"mat-form-field",21)(35,"mat-label"),e.EFF(36,"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629"),e.k0s(),e.j41(37,"mat-select",26)(38,"mat-option",27),e.EFF(39,"\u0645\u0646\u062e\u0641\u0636\u0629"),e.k0s(),e.j41(40,"mat-option",28),e.EFF(41,"\u0645\u062a\u0648\u0633\u0637\u0629"),e.k0s(),e.j41(42,"mat-option",29),e.EFF(43,"\u0639\u0627\u0644\u064a\u0629"),e.k0s(),e.j41(44,"mat-option",30),e.EFF(45,"\u0639\u0627\u062c\u0644\u0629"),e.k0s()()()(),e.j41(46,"div",20)(47,"mat-form-field",21)(48,"mat-label"),e.EFF(49,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"),e.k0s(),e.j41(50,"mat-select",31),e.DNE(51,H,2,3,"mat-option",32),e.k0s(),e.DNE(52,Q,2,0,"mat-error",25),e.k0s(),e.j41(53,"mat-form-field",21)(54,"mat-label"),e.EFF(55,"\u0627\u0644\u0645\u0648\u0636\u0648\u0639"),e.k0s(),e.j41(56,"mat-select",33),e.DNE(57,Z,2,3,"mat-option",32),e.k0s(),e.DNE(58,ee,2,0,"mat-hint",25)(59,te,2,0,"mat-error",25),e.k0s()(),e.j41(60,"mat-form-field",34)(61,"mat-label"),e.EFF(62,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),e.k0s(),e.nrm(63,"input",35),e.j41(64,"mat-hint",36),e.EFF(65),e.k0s(),e.DNE(66,ne,2,0,"mat-error",25),e.k0s(),e.j41(67,"mat-form-field",34)(68,"mat-label"),e.EFF(69,"\u0627\u0644\u0648\u0635\u0641"),e.k0s(),e.nrm(70,"textarea",37),e.j41(71,"mat-hint",36),e.EFF(72),e.k0s(),e.DNE(73,re,2,0,"mat-error",25),e.k0s(),e.j41(74,"div",20)(75,"mat-form-field",21)(76,"mat-label"),e.EFF(77,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.k0s(),e.j41(78,"mat-select",38)(79,"mat-option",39),e.EFF(80,"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"),e.k0s(),e.j41(81,"mat-option",40),e.EFF(82,"\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630"),e.k0s(),e.j41(83,"mat-option",41),e.EFF(84,"\u0645\u0643\u062a\u0645\u0644\u0629"),e.k0s()()(),e.j41(85,"mat-checkbox",42),e.EFF(86," \u0645\u0639\u0627\u0645\u0644\u0629 \u0639\u0627\u0645\u0629 (\u064a\u0645\u0643\u0646 \u0644\u0644\u062c\u0645\u064a\u0639 \u0645\u0634\u0627\u0647\u062f\u062a\u0647\u0627) "),e.k0s()(),e.j41(87,"div",20)(88,"mat-form-field",21)(89,"mat-label"),e.EFF(90,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642"),e.k0s(),e.nrm(91,"input",43)(92,"mat-datepicker-toggle",44)(93,"mat-datepicker",null,1),e.j41(95,"mat-hint"),e.EFF(96,"\u0627\u062e\u062a\u064a\u0627\u0631\u064a"),e.k0s()(),e.j41(97,"mat-form-field",21)(98,"mat-label"),e.EFF(99,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.k0s(),e.nrm(100,"input",45)(101,"mat-datepicker-toggle",44)(102,"mat-datepicker",null,2),e.j41(104,"mat-hint"),e.EFF(105,"\u0633\u064a\u062a\u0645 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0628\u0639\u062f \u0647\u0630\u0627 \u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.k0s()()(),e.j41(106,"mat-form-field",34)(107,"mat-label"),e.EFF(108,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629"),e.k0s(),e.nrm(109,"textarea",46),e.j41(110,"mat-hint",36),e.EFF(111),e.k0s()()(),e.j41(112,"div",47)(113,"button",48),e.bIt("click",function(){return e.eBV(a),e.Njj(n.nextStep())}),e.EFF(114," \u0627\u0644\u062a\u0627\u0644\u064a "),e.j41(115,"mat-icon"),e.EFF(116,"arrow_back"),e.k0s()()()()(),e.j41(117,"mat-step",49),e.DNE(118,oe,1,0,"ng-template",16),e.j41(119,"div",17)(120,"h2",18)(121,"mat-icon"),e.EFF(122,"attach_file"),e.k0s(),e.EFF(123," \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062a "),e.k0s(),e.j41(124,"div",50)(125,"div",51),e.bIt("click",function(){e.eBV(a);const p=e.sdS(133);return e.Njj(p.click())}),e.j41(126,"mat-icon",52),e.EFF(127,"cloud_upload"),e.k0s(),e.j41(128,"h3"),e.EFF(129,"\u0627\u0633\u062d\u0628 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0647\u0646\u0627 \u0623\u0648 \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u062d\u0645\u064a\u0644"),e.k0s(),e.j41(130,"p"),e.EFF(131,"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649: 10 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a \u0644\u0643\u0644 \u0645\u0644\u0641"),e.k0s(),e.j41(132,"input",53,3),e.bIt("change",function(p){return e.eBV(a),e.Njj(n.onFileSelected(p))}),e.k0s()(),e.DNE(134,ue,5,2,"div",54)(135,ce,5,0,"div",55),e.k0s(),e.j41(136,"div",47)(137,"button",56),e.bIt("click",function(){return e.eBV(a),e.Njj(n.previousStep())}),e.j41(138,"mat-icon"),e.EFF(139,"arrow_forward"),e.k0s(),e.EFF(140," \u0627\u0644\u0633\u0627\u0628\u0642 "),e.k0s(),e.j41(141,"button",57),e.bIt("click",function(){return e.eBV(a),e.Njj(n.nextStep())}),e.EFF(142," \u0627\u0644\u062a\u0627\u0644\u064a "),e.j41(143,"mat-icon"),e.EFF(144,"arrow_back"),e.k0s()()()()(),e.j41(145,"mat-step",49),e.DNE(146,se,1,0,"ng-template",16),e.j41(147,"div",17)(148,"h2",18)(149,"mat-icon"),e.EFF(150,"security"),e.k0s(),e.EFF(151," \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0648\u0627\u0644\u0648\u0635\u0648\u0644 "),e.k0s(),e.j41(152,"form",58)(153,"mat-expansion-panel",59)(154,"mat-expansion-panel-header")(155,"mat-panel-title")(156,"mat-icon"),e.EFF(157,"person"),e.k0s(),e.EFF(158),e.k0s()(),e.j41(159,"div",60)(160,"p",61),e.EFF(161," \u0645\u0646\u062d \u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0645\u062d\u062f\u062f\u0629 \u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639\u064a\u0646\u064a\u0646 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 "),e.k0s(),e.j41(162,"div",62),e.DNE(163,de,44,5,"mat-card",63),e.k0s(),e.j41(164,"button",64),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addUserPermission())}),e.j41(165,"mat-icon"),e.EFF(166,"add"),e.k0s(),e.EFF(167," \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 "),e.k0s()()(),e.j41(168,"mat-expansion-panel",59)(169,"mat-expansion-panel-header")(170,"mat-panel-title")(171,"mat-icon"),e.EFF(172,"business"),e.k0s(),e.EFF(173),e.k0s()(),e.j41(174,"div",60)(175,"p",61),e.EFF(176," \u0645\u0646\u062d \u0648\u0635\u0648\u0644 \u0644\u0625\u062f\u0627\u0631\u0627\u062a \u0643\u0627\u0645\u0644\u0629 - \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0641\u064a \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0633\u064a\u062d\u0635\u0644\u0648\u0646 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 "),e.k0s(),e.j41(177,"div",65),e.DNE(178,_e,33,6,"mat-card",63),e.k0s(),e.j41(179,"button",64),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addDepartmentAccess())}),e.j41(180,"mat-icon"),e.EFF(181,"add"),e.k0s(),e.EFF(182," \u0625\u0636\u0627\u0641\u0629 \u0625\u062f\u0627\u0631\u0629 "),e.k0s()()(),e.j41(183,"mat-expansion-panel",59)(184,"mat-expansion-panel-header")(185,"mat-panel-title")(186,"mat-icon"),e.EFF(187,"block"),e.k0s(),e.EFF(188),e.k0s()(),e.j41(189,"div",60)(190,"p",61),e.EFF(191," \u0645\u0646\u0639 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u062d\u062f\u062f\u064a\u0646 \u0645\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 - \u062d\u062a\u0649 \u0644\u0648 \u0643\u0627\u0646\u062a \u0625\u062f\u0627\u0631\u062a\u0647\u0645 \u0644\u062f\u064a\u0647\u0627 \u0648\u0635\u0648\u0644 "),e.k0s(),e.j41(192,"div",66),e.DNE(193,fe,28,5,"mat-card",67),e.k0s(),e.j41(194,"button",68),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addUserException())}),e.j41(195,"mat-icon"),e.EFF(196,"add"),e.k0s(),e.EFF(197," \u0625\u0636\u0627\u0641\u0629 \u0627\u0633\u062a\u062b\u0646\u0627\u0621 "),e.k0s()()()(),e.j41(198,"div",47)(199,"button",56),e.bIt("click",function(){return e.eBV(a),e.Njj(n.previousStep())}),e.j41(200,"mat-icon"),e.EFF(201,"arrow_forward"),e.k0s(),e.EFF(202," \u0627\u0644\u0633\u0627\u0628\u0642 "),e.k0s(),e.j41(203,"button",57),e.bIt("click",function(){return e.eBV(a),e.Njj(n.nextStep())}),e.EFF(204," \u0627\u0644\u062a\u0627\u0644\u064a "),e.j41(205,"mat-icon"),e.EFF(206,"arrow_back"),e.k0s()()()()(),e.j41(207,"mat-step",49),e.DNE(208,Ce,1,0,"ng-template",16),e.j41(209,"div",17)(210,"h2",18)(211,"mat-icon"),e.EFF(212,"check_circle"),e.k0s(),e.EFF(213," \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0642\u0628\u0644 \u0627\u0644\u062d\u0641\u0638 "),e.k0s(),e.j41(214,"div",69)(215,"mat-card",70)(216,"mat-card-header")(217,"mat-card-title"),e.EFF(218,"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),e.k0s()(),e.j41(219,"mat-card-content")(220,"div",71)(221,"div",72)(222,"strong"),e.EFF(223,"\u0627\u0644\u0646\u0648\u0639:"),e.k0s(),e.j41(224,"span"),e.EFF(225),e.k0s()(),e.j41(226,"div",72)(227,"strong"),e.EFF(228,"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629:"),e.k0s(),e.j41(229,"mat-chip",73),e.EFF(230),e.k0s()(),e.j41(231,"div",72)(232,"strong"),e.EFF(233,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629:"),e.k0s(),e.j41(234,"span"),e.EFF(235),e.k0s()(),e.j41(236,"div",72)(237,"strong"),e.EFF(238,"\u0627\u0644\u062d\u0627\u0644\u0629:"),e.k0s(),e.j41(239,"span"),e.EFF(240),e.k0s()(),e.j41(241,"div",74)(242,"strong"),e.EFF(243,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"),e.k0s(),e.j41(244,"span"),e.EFF(245),e.k0s()(),e.j41(246,"div",74)(247,"strong"),e.EFF(248,"\u0627\u0644\u0648\u0635\u0641:"),e.k0s(),e.j41(249,"p"),e.EFF(250),e.k0s()()()()(),e.DNE(251,Fe,7,2,"mat-card",75)(252,be,9,3,"mat-card",75),e.k0s(),e.j41(253,"div",47)(254,"button",56),e.bIt("click",function(){return e.eBV(a),e.Njj(n.previousStep())}),e.j41(255,"mat-icon"),e.EFF(256,"arrow_forward"),e.k0s(),e.EFF(257," \u0627\u0644\u0633\u0627\u0628\u0642 "),e.k0s(),e.j41(258,"button",48),e.bIt("click",function(){return e.eBV(a),e.Njj(n.onSubmit())}),e.DNE(259,ke,1,0,"mat-spinner",76)(260,Ae,2,0,"mat-icon",25),e.EFF(261),e.k0s()()()()(),e.j41(262,"div",77)(263,"button",78),e.bIt("click",function(){return e.eBV(a),e.Njj(n.cancel())}),e.j41(264,"mat-icon"),e.EFF(265,"cancel"),e.k0s(),e.EFF(266," \u0625\u0644\u063a\u0627\u0621 "),e.k0s()()()()}if(2&o){let a,d,p,A,v,w,E,u,O;const U=e.sdS(94),Y=e.sdS(103);e.R7$(10),e.Y8G("linear",!0),e.R50("selectedIndex",n.currentStep),e.R7$(2),e.Y8G("stepControl",n.orderForm)("editable",!0),e.R7$(7),e.Y8G("formGroup",n.orderForm),e.R7$(14),e.Y8G("ngIf",null==(a=n.orderForm.get("type"))?null:a.hasError("required")),e.R7$(18),e.Y8G("ngForOf",n.departments),e.R7$(),e.Y8G("ngIf",null==(d=n.orderForm.get("departmentId"))?null:d.hasError("required")),e.R7$(5),e.Y8G("ngForOf",n.filteredSubjects),e.R7$(),e.Y8G("ngIf",!(null!=(p=n.orderForm.get("departmentId"))&&p.value)),e.R7$(),e.Y8G("ngIf",null==(A=n.orderForm.get("subjectId"))?null:A.hasError("required")),e.R7$(6),e.SpI("",(null==(v=n.orderForm.get("title"))||null==v.value?null:v.value.length)||0," / 200"),e.R7$(),e.Y8G("ngIf",null==(w=n.orderForm.get("title"))?null:w.hasError("required")),e.R7$(6),e.SpI("",(null==(E=n.orderForm.get("description"))||null==E.value?null:E.value.length)||0," / 1000"),e.R7$(),e.Y8G("ngIf",null==(u=n.orderForm.get("description"))?null:u.hasError("required")),e.R7$(18),e.Y8G("matDatepicker",U),e.R7$(),e.Y8G("for",U),e.R7$(8),e.Y8G("matDatepicker",Y),e.R7$(),e.Y8G("for",Y),e.R7$(10),e.SpI("",(null==(O=n.orderForm.get("notes"))||null==O.value?null:O.value.length)||0," / 500"),e.R7$(2),e.Y8G("disabled",n.orderForm.invalid),e.R7$(4),e.Y8G("editable",!0),e.R7$(17),e.Y8G("ngIf",n.filesPreviews.length>0),e.R7$(),e.Y8G("ngIf",0===n.filesPreviews.length),e.R7$(10),e.Y8G("editable",!0),e.R7$(7),e.Y8G("formGroup",n.permissionsForm),e.R7$(6),e.SpI(" \u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",n.userPermissions.length,") "),e.R7$(5),e.Y8G("ngForOf",n.userPermissions.controls),e.R7$(10),e.SpI(" \u0648\u0635\u0648\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0627\u062a (",n.departmentAccesses.length,") "),e.R7$(5),e.Y8G("ngForOf",n.departmentAccesses.controls),e.R7$(10),e.SpI(" \u0627\u0633\u062a\u062b\u0646\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",n.userExceptions.length,") "),e.R7$(5),e.Y8G("ngForOf",n.userExceptions.controls),e.R7$(14),e.Y8G("editable",!0),e.R7$(18),e.JRh("incoming"===n.orderForm.value.type?"\u0648\u0627\u0631\u062f\u0629":"\u0635\u0627\u062f\u0631\u0629"),e.R7$(4),e.Y8G("color","urgent"===n.orderForm.value.priority?"warn":"accent"),e.R7$(),e.SpI(" ",n.orderForm.value.priority," "),e.R7$(5),e.JRh(n.getDepartmentName(n.orderForm.value.departmentId)),e.R7$(5),e.JRh(n.orderForm.value.status),e.R7$(5),e.JRh(n.orderForm.value.title),e.R7$(5),e.JRh(n.orderForm.value.description),e.R7$(),e.Y8G("ngIf",n.filesPreviews.length>0),e.R7$(),e.Y8G("ngIf",n.userPermissions.length>0||n.departmentAccesses.length>0||n.userExceptions.length>0),e.R7$(6),e.Y8G("disabled",n.isSaving||n.orderForm.invalid),e.R7$(),e.Y8G("ngIf",n.isSaving),e.R7$(),e.Y8G("ngIf",!n.isSaving),e.R7$(),e.SpI(" ",n.isSaving?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"," ")}},dependencies:[x.MD,x.Sq,x.bT,l.X1,l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.j4,l.JD,l.$R,l.v8,T.yh,G.h,y.m_,y.An,g.aP,g.V5,g.Ti,g.M6,_.Hl,_.$z,_.iY,s.Hu,s.RN,s.m2,s.MM,s.dh,m.RG,m.rl,m.nJ,m.MV,m.TL,m.yw,C.fS,C.fg,f.Ve,f.VO,I.wT,P.g7,P.So,h.X6,h.Vh,h.bZ,h.bU,I.WX,M.MY,M.GK,M.Z2,M.WN,$.YN,$.Jl,$.uI,B.uc,B.oV,S.D6,S.LG,L._T],styles:[".order-create-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:20px;direction:rtl}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;padding:60px 40px;text-align:center;margin-bottom:30px;box-shadow:0 10px 40px #667eea66}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{color:#fff}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;margin-bottom:20px}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0 0 10px;text-shadow:0 2px 4px rgba(0,0,0,.2)}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;opacity:.95;margin:0}.order-create-container[_ngcontent-%COMP%]   .create-card[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px;border-radius:20px;box-shadow:0 10px 40px #0000001a}.order-create-container[_ngcontent-%COMP%]   .create-card[_ngcontent-%COMP%]     .mat-mdc-stepper-header{padding:20px}.order-create-container[_ngcontent-%COMP%]   .create-card[_ngcontent-%COMP%]     .mat-mdc-stepper-header .mat-step-icon{background:linear-gradient(135deg,#667eea,#764ba2)}.order-create-container[_ngcontent-%COMP%]   .create-card[_ngcontent-%COMP%]     .mat-mdc-stepper-header .mat-step-label{font-size:1rem;font-weight:600}.order-create-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{padding:30px 0}.order-create-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;font-size:1.8rem;font-weight:700;margin-bottom:30px;color:#333}.order-create-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#667eea}.order-create-container[_ngcontent-%COMP%]   .order-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}@media (max-width: 768px){.order-create-container[_ngcontent-%COMP%]   .order-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.order-create-container[_ngcontent-%COMP%]   .order-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.order-create-container[_ngcontent-%COMP%]   .order-form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.order-create-container[_ngcontent-%COMP%]   .order-form[_ngcontent-%COMP%]   .public-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;height:56px;padding:0 20px;background:#f5f7fa;border-radius:8px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{border:3px dashed #667eea;border-radius:15px;padding:60px 40px;text-align:center;background:linear-gradient(135deg,#667eea0d,#764ba20d);cursor:pointer;transition:all .3s ease;margin-bottom:30px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#667eea1a,#764ba21a);border-color:#764ba2;transform:scale(1.02)}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#667eea;margin-bottom:20px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 10px;color:#333}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:20px;color:#333}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]{display:grid;gap:15px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]{padding:20px;border-radius:12px;transition:all .3s ease}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #00000026;transform:translateY(-2px)}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]{flex:1}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1rem;color:#333}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .files-preview[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:8px;box-shadow:0 4px 15px #0000001a}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;margin-bottom:15px;opacity:.5}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:12px;overflow:hidden}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{background:linear-gradient(135deg,#f5f7fa,#e9ecef);padding:20px}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-content{align-items:center}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-panel-title{display:flex;align-items:center;gap:10px;font-size:1.2rem;font-weight:600}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-panel-title mat-icon{color:#667eea}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]{padding:30px 20px}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;border-right:4px solid #667eea;margin-bottom:25px;color:#666}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:12px;transition:all .3s ease}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #00000026}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card.exception-card[_ngcontent-%COMP%]{border:2px solid #f44336;background:linear-gradient(135deg,#f443360d,#f4433605)}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:-16px -16px 20px}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin:20px 0}@media (max-width: 768px){.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-grid[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mdc-checkbox__background{border-color:#667eea}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .permission-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-grid[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mdc-checkbox--selected .mdc-checkbox__background{background-color:#667eea;border-color:#667eea}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{width:100%;padding:15px;font-size:1rem;border-radius:10px;margin-top:20px}.order-create-container[_ngcontent-%COMP%]   .permissions-panel[_ngcontent-%COMP%]   .permissions-content[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]{margin-bottom:25px;border-radius:15px;box-shadow:0 4px 15px #0000001a}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px;margin:-16px -16px 20px;border-radius:15px 15px 0 0}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin:0;font-size:1.3rem}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:25px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 768px){.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]   .review-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1.1rem}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .review-grid[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6;margin:5px 0 0}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{margin-bottom:25px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.1rem;color:#333;margin-bottom:15px}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.order-create-container[_ngcontent-%COMP%]   .review-section[_ngcontent-%COMP%]   .review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:15px;margin-top:40px;padding-top:30px;border-top:2px solid #e9ecef}.order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 30px;font-size:1rem;border-radius:25px;transition:all .3s ease}.order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 5px}.order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-left:10px}.order-create-container[_ngcontent-%COMP%]   .cancel-section[_ngcontent-%COMP%]{text-align:center;margin-top:30px;padding-top:20px;border-top:2px solid #e9ecef}.order-create-container[_ngcontent-%COMP%]   .cancel-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 25px;font-size:1rem}.order-create-container[_ngcontent-%COMP%]   .cancel-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}  .mat-mdc-progress-spinner{display:inline-block}  .snackbar-success .mdc-snackbar__surface{background-color:#4caf50}  .snackbar-error .mdc-snackbar__surface{background-color:#f44336}  .snackbar-info .mdc-snackbar__surface{background-color:#2196f3}@media (max-width: 768px){.order-create-container[_ngcontent-%COMP%]{padding:10px}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]{padding:40px 20px}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:1.8rem}.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1rem}.order-create-container[_ngcontent-%COMP%]   .create-card[_ngcontent-%COMP%]{padding:20px}.order-create-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:1.4rem}.order-create-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{padding:40px 20px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px}.order-create-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}}@media print{.order-create-container[_ngcontent-%COMP%]   .create-hero[_ngcontent-%COMP%], .order-create-container[_ngcontent-%COMP%]   .step-actions[_ngcontent-%COMP%], .order-create-container[_ngcontent-%COMP%]   .cancel-section[_ngcontent-%COMP%], .order-create-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none!important}}"]})}}return r})()},3808:(z,j,c)=>{c.d(j,{yh:()=>R});var F=c(4438),x=c(8617);(0,c(6600).J8)(class D{constructor(_,s,m,C,f){this._defaultErrorStateMatcher=_,this._parentForm=s,this._parentFormGroup=m,this.ngControl=C,this.stateChanges=f}}),new F.nKC("ngx-mat-file-input.config");let R=(()=>{class g{}return g.\u0275fac=function(s){return new(s||g)},g.\u0275mod=F.$C({type:g}),g.\u0275inj=F.G2t({providers:[x.FN]}),g})()}}]);