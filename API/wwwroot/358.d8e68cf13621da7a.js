"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[358],{8287:(F,P,i)=>{i.d(P,{a:()=>M});var u=i(1626),l=i(6354),D=i(5312),h=i(4438);let M=(()=>{class p{constructor(e){this.http=e,this.baseUrl=D.c.apiUrl}getAllDepartments(){return this.http.get(`${this.baseUrl}/departments`)}getDepartmentById(e){return this.http.get(`${this.baseUrl}/departments/${e}`)}addDepartment(e){return this.http.post(`${this.baseUrl}/departments`,e)}updateDepartment(e,r){return this.http.put(`${this.baseUrl}/departments/${e}`,r)}deleteDepartment(e){return this.http.delete(`${this.baseUrl}/departments/${e}`)}addUserToDepartment(e,r){return this.http.post(`${this.baseUrl}/departments/${e}/users`,r).pipe((0,l.T)(()=>!0))}removeUserFromDepartment(e,r){return this.http.delete(`${this.baseUrl}/departments/${e}/users/${r}`).pipe((0,l.T)(()=>!0))}updateDepartmentUser(e,r,_){return this.http.put(`${this.baseUrl}/departments/${e}/users/${r}`,_).pipe((0,l.T)(()=>!0))}getAvailableUsersForDepartment(e){return this.http.get(`${this.baseUrl}/departments/${e}/available-users`)}getSubjectsByDepartment(e){return this.http.get(`${this.baseUrl}/departments/${e}/subjects`)}addSubjectToDepartment(e,r){return this.http.post(`${this.baseUrl}/departments/${e}/subjects`,r).pipe((0,l.T)(()=>!0))}updateSubject(e,r,_){return this.http.put(`${this.baseUrl}/departments/${e}/subjects/${r}`,_).pipe((0,l.T)(()=>!0))}deleteSubject(e,r){return this.http.delete(`${this.baseUrl}/departments/${e}/subjects/${r}`).pipe((0,l.T)(()=>!0))}getAllOrders(){return this.http.get(`${this.baseUrl}/orders`)}getOrderById(e){return this.http.get(`${this.baseUrl}/orders/${e}`).pipe((0,l.T)(r=>{const _=(r.permissions||r.userPermissions||[]).map(m=>({id:m.id||0,userId:m.userId,userCode:m.userCode||"",userEmail:m.userEmail||"",canView:m.canView||!1,canEdit:m.canEdit||!1,canDelete:m.canDelete||!1,canShare:m.canShare||!1,canDownload:m.canDownload||!1,canPrint:m.canPrint||!1,canComment:m.canComment||!1,canApprove:m.canApprove||!1,grantedAt:m.grantedAt?new Date(m.grantedAt):new Date,expiresAt:m.expiresAt?new Date(m.expiresAt):void 0,isExpired:m.isExpired||!1,grantedByName:m.grantedByName||""}));return{...r,userPermissions:_}}))}getOrdersByType(e){return this.http.get(`${this.baseUrl}/orders/type/${e}`)}getOrdersByDepartment(e){return this.http.get(`${this.baseUrl}/orders/department/${e}`)}addOrder(e){return this.http.post(`${this.baseUrl}/orders`,e)}updateOrder(e,r){return this.http.put(`${this.baseUrl}/orders/${e}`,r)}deleteOrder(e){return this.http.delete(`${this.baseUrl}/orders/${e}`)}getOrderHistory(e,r=1,_=50){const C=(new u.Nl).set("pageNumber",r.toString()).set("pageSize",_.toString());return this.http.get(`${this.baseUrl}/orders/${e}/history`,{params:C})}getOrderHistoryCount(e){return this.http.get(`${this.baseUrl}/orders/${e}/history-count`)}getMyPermissions(e){return this.http.get(`${this.baseUrl}/orders/${e}/permissions/my`)}getOrderUserPermissions(e){return this.http.get(`${this.baseUrl}/orders/${e}/permissions/users`)}grantUserPermission(e,r){return this.http.post(`${this.baseUrl}/orders/${e}/permissions/user`,r)}revokeUserPermission(e,r){return this.http.delete(`${this.baseUrl}/orders/${e}/permissions/user/${r}`)}updateUserPermission(e,r,_){return this.http.put(`${this.baseUrl}/orders/${e}/permissions/user/${r}`,_)}getOrderDepartmentAccesses(e){return this.http.get(`${this.baseUrl}/orders/${e}/permissions/departments`)}grantDepartmentAccess(e,r){return this.http.post(`${this.baseUrl}/orders/${e}/permissions/department`,r)}revokeDepartmentAccess(e,r){return this.http.delete(`${this.baseUrl}/orders/${e}/permissions/department/${r}`)}getOrderUserExceptions(e){return this.http.get(`${this.baseUrl}/orders/${e}/permissions/user-exceptions`)}addUserException(e,r){return this.http.post(`${this.baseUrl}/orders/${e}/permissions/user-exception`,r)}removeUserException(e,r){return this.http.delete(`${this.baseUrl}/orders/${e}/permissions/user-exception/${r}`)}getAvailableUsers(){return this.http.get(`${this.baseUrl}/orders/permissions/available-users`)}setExpirationDate(e,r){return this.http.put(`${this.baseUrl}/orders/${e}/expiration`,r)}removeExpirationDate(e){return this.http.delete(`${this.baseUrl}/orders/${e}/expiration`)}getExpiredOrders(){return this.http.get(`${this.baseUrl}/orders/expired`)}getOrdersNearExpiration(e=7){const r=(new u.Nl).set("days",e.toString());return this.http.get(`${this.baseUrl}/orders/near-expiration`,{params:r})}getExpirationWarnings(){return this.http.get(`${this.baseUrl}/orders/expiration-warnings`)}archiveExpiredOrders(){return this.http.post(`${this.baseUrl}/orders/archive-expired`,{})}archiveOrder(e,r){return this.http.post(`${this.baseUrl}/orders/${e}/archive`,r)}getArchivedOrders(){return this.http.get(`${this.baseUrl}/orders/archived`)}restoreArchivedOrder(e){return this.http.post(`${this.baseUrl}/orders/archived/${e}/restore`,{})}permanentlyDeleteArchivedOrder(e){return this.http.delete(`${this.baseUrl}/orders/archived/${e}/permanent`)}uploadAttachment(e,r){const _=new FormData;return _.append("file",r),_.append("orderId",e),this.http.post(`${this.baseUrl}/orders/${e}/attachments`,_)}deleteAttachment(e,r){return this.http.delete(`${this.baseUrl}/orders/${e}/attachments/${r}`)}getDashboardStats(){return this.http.get(`${this.baseUrl}/orders/dashboard/stats`)}canViewOrder(e){return this.getMyPermissions(e).pipe((0,l.T)(r=>r.canView))}canEditOrder(e){return this.getMyPermissions(e).pipe((0,l.T)(r=>r.canEdit))}canDeleteOrder(e){return this.getMyPermissions(e).pipe((0,l.T)(r=>r.canDelete))}static{this.\u0275fac=function(r){return new(r||p)(h.KVO(u.Qq))}}static{this.\u0275prov=h.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},5358:(F,P,i)=>{i.r(P),i.d(P,{DepartmentsListComponent:()=>pt});var u=i(177),l=i(9192),D=i(1413),h=i(6977),M=i(5596),p=i(8834),v=i(9213),e=i(9159),r=i(6695),_=i(2042),C=i(2102),m=i(9631),E=i(6471),j=i(4823),f=i(9115),$=i(9183),k=i(4006),x=i(2798),T=i(2765),b=i(9417),t=i(4438),A=i(8287),U=i(5048),L=i(6600);const R=()=>[10,25,50,100];function I(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.navigateToCreate())}),t.j41(1,"mat-icon"),t.EFF(2,"add_business"),t.k0s(),t.EFF(3," \u0625\u0636\u0627\u0641\u0629 \u0642\u0633\u0645 \u062c\u062f\u064a\u062f "),t.k0s()}}function y(a,s){if(1&a&&(t.j41(0,"div",36)(1,"mat-card",37)(2,"mat-card-content")(3,"div",38)(4,"mat-icon"),t.EFF(5,"apartment"),t.k0s()(),t.j41(6,"div",39)(7,"span",40),t.EFF(8),t.k0s(),t.j41(9,"span",41),t.EFF(10,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0642\u0633\u0627\u0645"),t.k0s()()()(),t.j41(11,"mat-card",37)(12,"mat-card-content")(13,"div",42)(14,"mat-icon"),t.EFF(15,"check_circle"),t.k0s()(),t.j41(16,"div",39)(17,"span",40),t.EFF(18),t.k0s(),t.j41(19,"span",41),t.EFF(20,"\u0623\u0642\u0633\u0627\u0645 \u0646\u0634\u0637\u0629"),t.k0s(),t.j41(21,"span",43),t.EFF(22),t.nI1(23,"number"),t.k0s()()()(),t.j41(24,"mat-card",37)(25,"mat-card-content")(26,"div",44)(27,"mat-icon"),t.EFF(28,"topic"),t.k0s()(),t.j41(29,"div",39)(30,"span",40),t.EFF(31),t.k0s(),t.j41(32,"span",41),t.EFF(33,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639"),t.k0s(),t.j41(34,"span",43),t.EFF(35),t.nI1(36,"number"),t.k0s()()()(),t.j41(37,"mat-card",37)(38,"mat-card-content")(39,"div",45)(40,"mat-icon"),t.EFF(41,"people"),t.k0s()(),t.j41(42,"div",39)(43,"span",40),t.EFF(44),t.k0s(),t.j41(45,"span",41),t.EFF(46,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"),t.k0s(),t.j41(47,"span",43),t.EFF(48),t.nI1(49,"number"),t.k0s()()()()()),2&a){const n=t.XpG();t.R7$(8),t.JRh(n.stats.total),t.R7$(10),t.JRh(n.stats.active),t.R7$(4),t.SpI("",t.i5U(23,7,n.getActivePercentage(),"1.0-0"),"%"),t.R7$(9),t.JRh(n.stats.totalSubjects),t.R7$(4),t.SpI("",t.i5U(36,10,n.getAverageSubjectsPerDepartment(),"1.1-1")," \u0644\u0643\u0644 \u0642\u0633\u0645"),t.R7$(9),t.JRh(n.stats.totalUsers),t.R7$(4),t.SpI("",t.i5U(49,13,n.getAverageUsersPerDepartment(),"1.1-1")," \u0644\u0643\u0644 \u0642\u0633\u0645")}}function w(a,s){if(1&a&&(t.j41(0,"mat-chip"),t.EFF(1),t.k0s()),2&a){const n=t.XpG();t.R7$(),t.JRh((null==n.dataSource?null:n.dataSource.filteredData.length)||0)}}function S(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",46),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.clearFilter())}),t.j41(1,"mat-icon"),t.EFF(2,"clear"),t.k0s()()}}function B(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",47),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.clearFilter())}),t.j41(1,"mat-icon"),t.EFF(2,"clear_all"),t.k0s(),t.EFF(3," \u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631 "),t.k0s()}}function G(a,s){1&a&&(t.j41(0,"div",48),t.nrm(1,"mat-spinner",49),t.j41(2,"p"),t.EFF(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."),t.k0s()())}function N(a,s){1&a&&(t.j41(0,"th",66),t.EFF(1,"\u0627\u0644\u0631\u0645\u0632"),t.k0s())}function V(a,s){if(1&a&&(t.j41(0,"td",67)(1,"strong",68),t.EFF(2),t.k0s()()),2&a){const n=s.$implicit;t.R7$(2),t.JRh(n.code)}}function z(a,s){1&a&&(t.j41(0,"th",66),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064a)"),t.k0s())}function K(a,s){if(1&a&&(t.j41(0,"span",72),t.EFF(1),t.nI1(2,"slice"),t.k0s()),2&a){const n=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.brH(2,2,n.description,0,50),"",n.description.length>50?"...":""," ")}}function W(a,s){if(1&a&&(t.j41(0,"td",67)(1,"div",69)(2,"span",70),t.EFF(3),t.k0s(),t.DNE(4,K,3,6,"span",71),t.k0s()()),2&a){const n=s.$implicit;t.R7$(3),t.JRh(n.nameAr),t.R7$(),t.Y8G("ngIf",n.description)}}function Y(a,s){1&a&&(t.j41(0,"th",66),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062c\u0644\u064a\u0632\u064a)"),t.k0s())}function X(a,s){if(1&a&&(t.j41(0,"td",67),t.EFF(1),t.k0s()),2&a){const n=s.$implicit;t.R7$(),t.JRh(n.nameEn)}}function J(a,s){1&a&&(t.j41(0,"th",73),t.EFF(1,"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639"),t.k0s())}function H(a,s){if(1&a&&(t.j41(0,"td",67)(1,"mat-chip-set")(2,"mat-chip",74)(3,"mat-icon"),t.EFF(4,"topic"),t.k0s(),t.EFF(5),t.k0s()()()),2&a){const n=s.$implicit,c=t.XpG(2);t.R7$(5),t.SpI(" ",c.getSubjectsCount(n)," ")}}function Q(a,s){1&a&&(t.j41(0,"th",73),t.EFF(1,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646"),t.k0s())}function Z(a,s){if(1&a&&(t.j41(0,"td",67)(1,"mat-chip-set")(2,"mat-chip",75)(3,"mat-icon"),t.EFF(4,"people"),t.k0s(),t.EFF(5),t.k0s()()()),2&a){const n=s.$implicit,c=t.XpG(2);t.R7$(5),t.SpI(" ",c.getUsersCount(n)," ")}}function q(a,s){1&a&&(t.j41(0,"th",66),t.EFF(1,"\u0627\u0644\u062d\u0627\u0644\u0629"),t.k0s())}function tt(a,s){if(1&a&&(t.j41(0,"td",67)(1,"mat-chip",76)(2,"mat-icon"),t.EFF(3),t.k0s(),t.EFF(4),t.k0s()()),2&a){const n=s.$implicit,c=t.XpG(2);t.R7$(),t.Y8G("color",c.getStatusColor(n.isActive)),t.R7$(2),t.JRh(c.getStatusIcon(n.isActive)),t.R7$(),t.SpI(" ",c.getStatusText(n.isActive)," ")}}function nt(a,s){1&a&&(t.j41(0,"th",73),t.EFF(1,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.k0s())}function et(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,d=t.XpG(2);return t.Njj(d.editDepartment(o))}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s(),t.j41(3,"span"),t.EFF(4,"\u062a\u0639\u062f\u064a\u0644"),t.k0s()()}}function at(a,s){1&a&&t.nrm(0,"mat-divider")}function rt(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",80),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,d=t.XpG(2);return t.Njj(d.deleteDepartment(o))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s(),t.j41(3,"span"),t.EFF(4,"\u062d\u0630\u0641"),t.k0s()()}}function ot(a,s){if(1&a){const n=t.RV6();t.j41(0,"td",67)(1,"button",77)(2,"mat-icon"),t.EFF(3,"more_vert"),t.k0s()(),t.j41(4,"mat-menu",null,1)(6,"button",21),t.bIt("click",function(){const o=t.eBV(n).$implicit,d=t.XpG(2);return t.Njj(d.viewDepartment(o))}),t.j41(7,"mat-icon"),t.EFF(8,"visibility"),t.k0s(),t.j41(9,"span"),t.EFF(10,"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"),t.k0s()(),t.DNE(11,et,5,0,"button",78)(12,at,1,0,"mat-divider",17)(13,rt,5,0,"button",79),t.k0s()()}if(2&a){const n=t.sdS(5),c=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",n),t.R7$(10),t.Y8G("ngIf",c.canEdit()),t.R7$(),t.Y8G("ngIf",c.canDelete()),t.R7$(),t.Y8G("ngIf",c.canDelete())}}function ct(a,s){1&a&&t.nrm(0,"tr",81)}function st(a,s){1&a&&t.nrm(0,"tr",82)}function it(a,s){1&a&&(t.j41(0,"p"),t.EFF(1,"\u062c\u0631\u0651\u0628 \u062a\u063a\u064a\u064a\u0631 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b"),t.k0s())}function dt(a,s){1&a&&(t.j41(0,"p"),t.EFF(1,"\u0644\u0645 \u064a\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0623\u064a \u0642\u0633\u0645 \u0628\u0639\u062f"),t.k0s())}function mt(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.navigateToCreate())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.EFF(3," \u0625\u0646\u0634\u0627\u0621 \u0642\u0633\u0645 \u062c\u062f\u064a\u062f "),t.k0s()}}function _t(a,s){if(1&a){const n=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.clearFilter())}),t.j41(1,"mat-icon"),t.EFF(2,"clear_all"),t.k0s(),t.EFF(3," \u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631 "),t.k0s()}}function lt(a,s){if(1&a&&(t.j41(0,"div",83)(1,"mat-icon"),t.EFF(2,"inbox"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0642\u0633\u0627\u0645"),t.k0s(),t.DNE(5,it,2,0,"p",17)(6,dt,2,0,"p",17)(7,mt,4,0,"button",11)(8,_t,4,0,"button",84),t.k0s()),2&a){const n=t.XpG(2);t.R7$(5),t.Y8G("ngIf",n.searchTerm||"all"!==n.statusFilter),t.R7$(),t.Y8G("ngIf",!n.searchTerm&&"all"===n.statusFilter),t.R7$(),t.Y8G("ngIf",n.canEdit()&&!n.searchTerm&&"all"===n.statusFilter),t.R7$(),t.Y8G("ngIf",n.searchTerm||"all"!==n.statusFilter)}}function ut(a,s){if(1&a&&(t.j41(0,"div",50)(1,"table",51),t.qex(2,52),t.DNE(3,N,2,0,"th",53)(4,V,3,1,"td",54),t.bVm(),t.qex(5,55),t.DNE(6,z,2,0,"th",53)(7,W,5,2,"td",54),t.bVm(),t.qex(8,56),t.DNE(9,Y,2,0,"th",53)(10,X,2,1,"td",54),t.bVm(),t.qex(11,57),t.DNE(12,J,2,0,"th",58)(13,H,6,1,"td",54),t.bVm(),t.qex(14,59),t.DNE(15,Q,2,0,"th",58)(16,Z,6,1,"td",54),t.bVm(),t.qex(17,60),t.DNE(18,q,2,0,"th",53)(19,tt,5,3,"td",54),t.bVm(),t.qex(20,61),t.DNE(21,nt,2,0,"th",58)(22,ot,14,4,"td",54),t.bVm(),t.DNE(23,ct,1,0,"tr",62)(24,st,1,0,"tr",63),t.k0s(),t.nrm(25,"mat-paginator",64),t.DNE(26,lt,9,4,"div",65),t.k0s()),2&a){const n=t.XpG();t.R7$(),t.Y8G("dataSource",n.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,R))("pageSize",10),t.R7$(),t.Y8G("ngIf",n.dataSource&&0===n.dataSource.filteredData.length)}}let pt=(()=>{class a{constructor(n,c,o){this.departmentService=n,this.authService=c,this.router=o,this.departments=[],this.displayedColumns=["code","nameAr","nameEn","subjects","users","isActive","actions"],this.searchTerm="",this.statusFilter="all",this.isLoading=!0,this.stats={total:0,active:0,inactive:0,totalSubjects:0,totalUsers:0},this.destroy$=new D.B,this.currentUser=this.authService.getCurrentUser()}ngOnInit(){this.loadDepartments()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDepartments(){this.isLoading=!0,this.departmentService.getAllDepartments().pipe((0,h.Q)(this.destroy$)).subscribe({next:n=>{this.departments=n,this.calculateStats(),this.initializeDataSource(),this.isLoading=!1},error:n=>{console.error("Error loading departments:",n),this.isLoading=!1}})}calculateStats(){this.stats.total=this.departments.length,this.stats.active=this.departments.filter(n=>n.isActive).length,this.stats.inactive=this.departments.filter(n=>!n.isActive).length,this.stats.totalSubjects=this.departments.reduce((n,c)=>n+(c.subjects?.length||0),0),this.stats.totalUsers=this.departments.reduce((n,c)=>n+(c.usersCount||0),0)}initializeDataSource(){this.dataSource=new e.I6(this.departments),this.dataSource.filterPredicate=(n,c)=>{const o=c.toLowerCase(),d="all"===this.statusFilter||"active"===this.statusFilter&&n.isActive||"inactive"===this.statusFilter&&!n.isActive,g=!o||n.code.toLowerCase().includes(o)||n.nameAr.toLowerCase().includes(o)||n.nameEn.toLowerCase().includes(o);return d&&g},setTimeout(()=>{this.sort&&(this.dataSource.sort=this.sort),this.paginator&&(this.dataSource.paginator=this.paginator)},100)}applyFilter(){this.dataSource.filter=this.searchTerm.trim().toLowerCase()}applyStatusFilter(){this.dataSource.filter=this.searchTerm.trim().toLowerCase()}clearFilter(){this.searchTerm="",this.statusFilter="all",this.applyFilter()}viewDepartment(n){this.router.navigate(["/app/document-management/departments/details",n.id])}editDepartment(n){this.router.navigate(["/app/document-management/departments/edit",n.id])}deleteDepartment(n){confirm(`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 "${n.nameAr}"\u061f\n\n\u0645\u0644\u0627\u062d\u0638\u0629: \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639 \u0648\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u064a\u0646 \u0628\u0647\u0630\u0647 \u0627\u0644\u0625\u062f\u0627\u0631\u0629.`)&&this.departmentService.deleteDepartment(n.id).pipe((0,h.Q)(this.destroy$)).subscribe({next:c=>{c&&(this.loadDepartments(),alert("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"))},error:c=>{console.error("Error deleting department:",c),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0625\u062f\u0627\u0631\u0629. \u0642\u062f \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0647\u0627.")}})}navigateToCreate(){this.router.navigate(["/app/document-management/departments/create"])}navigateToDashboard(){this.router.navigate(["/app/document-management/dashboard"])}getSubjectsCount(n){return n.subjects?.length||0}getUsersCount(n){return n.usersCount||n.users?.length||0}canEdit(){return this.authService.isAdmin()}canDelete(){return this.authService.isAdmin()}exportToExcel(){alert("\u0645\u064a\u0632\u0629 \u0627\u0644\u062a\u0635\u062f\u064a\u0631 \u0625\u0644\u0649 Excel \u0642\u064a\u062f \u0627\u0644\u062a\u0637\u0648\u064a\u0631")}printList(){window.print()}refreshList(){this.loadDepartments()}getStatusColor(n){return n?"primary":"warn"}getStatusText(n){return n?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"}getStatusIcon(n){return n?"check_circle":"cancel"}getActivePercentage(){return this.stats.total>0?this.stats.active/this.stats.total*100:0}getAverageSubjectsPerDepartment(){return this.stats.total>0?this.stats.totalSubjects/this.stats.total:0}getAverageUsersPerDepartment(){return this.stats.total>0?this.stats.totalUsers/this.stats.total:0}static{this.\u0275fac=function(c){return new(c||a)(t.rXU(A.a),t.rXU(U.u),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-departments-list"]],viewQuery:function(c,o){if(1&c&&(t.GBs(_.B4,5),t.GBs(r.iy,5)),2&c){let d;t.mGM(d=t.lsd())&&(o.sort=d.first),t.mGM(d=t.lsd())&&(o.paginator=d.first)}},standalone:!0,features:[t.aNF],decls:71,vars:10,consts:[["moreMenu","matMenu"],["actionMenu","matMenu"],[1,"departments-list-container"],[1,"departments-hero"],[1,"hero-content"],[1,"hero-header"],[1,"title-section"],[1,"hero-icon"],[1,"hero-title"],[1,"hero-subtitle"],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","",3,"click"],["class","stats-container",4,"ngIf"],[1,"departments-card"],[1,"card-title-section"],[1,"title-with-icon"],[4,"ngIf"],[1,"header-actions"],["mat-icon-button","","matTooltip","\u062a\u062d\u062f\u064a\u062b",3,"click"],["mat-icon-button","","matTooltip","\u0627\u0644\u0645\u0632\u064a\u062f",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"filters-section"],["appearance","outline",1,"search-field"],["matInput","","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0642\u0633\u0645...",3,"ngModelChange","keyup","ngModel"],["matPrefix",""],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["appearance","outline",1,"status-field"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","active"],["value","inactive"],["mat-stroked-button","",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"stats-container"],[1,"stat-card"],[1,"stat-icon","total"],[1,"stat-details"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","active"],[1,"stat-percentage"],[1,"stat-icon","subjects"],[1,"stat-icon","users"],["mat-icon-button","","matSuffix","",3,"click"],["mat-stroked-button","",3,"click"],[1,"loading-container"],["diameter","48"],[1,"table-container"],["mat-table","","matSort","",1,"departments-table",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAr"],["matColumnDef","nameEn"],["matColumnDef","subjects"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","users"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","department-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"departments-paginator",3,"pageSizeOptions","pageSize"],["class","empty-state",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"department-code"],[1,"department-name"],[1,"name-primary"],["class","name-secondary",4,"ngIf"],[1,"name-secondary"],["mat-header-cell",""],[1,"count-chip","subjects"],[1,"count-chip","users"],["selected","",1,"status-chip",3,"color"],["mat-icon-button","",1,"action-button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],["mat-header-row",""],["mat-row","",1,"department-row"],[1,"empty-state"],["mat-button","",3,"click",4,"ngIf"]],template:function(c,o){if(1&c){const d=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-icon",7),t.EFF(6,"apartment"),t.k0s(),t.j41(7,"div")(8,"h1",8),t.EFF(9,"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u0642\u0633\u0627\u0645"),t.k0s(),t.j41(10,"p",9),t.EFF(11,"\u0639\u0631\u0636 \u0648\u0625\u062f\u0627\u0631\u0629 \u062c\u0645\u064a\u0639 \u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u0646\u0638\u0645\u0629"),t.k0s()()(),t.j41(12,"div",10),t.DNE(13,I,4,0,"button",11),t.j41(14,"button",12),t.bIt("click",function(){return t.eBV(d),t.Njj(o.navigateToDashboard())}),t.j41(15,"mat-icon"),t.EFF(16,"dashboard"),t.k0s(),t.EFF(17," \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 "),t.k0s()()()()(),t.DNE(18,y,50,16,"div",13),t.j41(19,"mat-card",14)(20,"mat-card-header")(21,"mat-card-title",15)(22,"div",16)(23,"mat-icon"),t.EFF(24,"format_list_bulleted"),t.k0s(),t.j41(25,"span"),t.EFF(26,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0642\u0633\u0627\u0645"),t.k0s(),t.DNE(27,w,2,1,"mat-chip",17),t.k0s(),t.j41(28,"div",18)(29,"button",19),t.bIt("click",function(){return t.eBV(d),t.Njj(o.refreshList())}),t.j41(30,"mat-icon"),t.EFF(31,"refresh"),t.k0s()(),t.j41(32,"button",20)(33,"mat-icon"),t.EFF(34,"more_vert"),t.k0s()(),t.j41(35,"mat-menu",null,0)(37,"button",21),t.bIt("click",function(){return t.eBV(d),t.Njj(o.exportToExcel())}),t.j41(38,"mat-icon"),t.EFF(39,"download"),t.k0s(),t.j41(40,"span"),t.EFF(41,"\u062a\u0635\u062f\u064a\u0631 \u0625\u0644\u0649 Excel"),t.k0s()(),t.j41(42,"button",21),t.bIt("click",function(){return t.eBV(d),t.Njj(o.printList())}),t.j41(43,"mat-icon"),t.EFF(44,"print"),t.k0s(),t.j41(45,"span"),t.EFF(46,"\u0637\u0628\u0627\u0639\u0629"),t.k0s()()()()()(),t.j41(47,"mat-card-content")(48,"div",22)(49,"mat-form-field",23)(50,"mat-label"),t.EFF(51,"\u0628\u062d\u062b"),t.k0s(),t.j41(52,"input",24),t.mxI("ngModelChange",function(O){return t.eBV(d),t.DH7(o.searchTerm,O)||(o.searchTerm=O),t.Njj(O)}),t.bIt("keyup",function(){return t.eBV(d),t.Njj(o.applyFilter())}),t.k0s(),t.j41(53,"mat-icon",25),t.EFF(54,"search"),t.k0s(),t.DNE(55,S,3,0,"button",26),t.k0s(),t.j41(56,"mat-form-field",27)(57,"mat-label"),t.EFF(58,"\u0627\u0644\u062d\u0627\u0644\u0629"),t.k0s(),t.j41(59,"mat-select",28),t.mxI("ngModelChange",function(O){return t.eBV(d),t.DH7(o.statusFilter,O)||(o.statusFilter=O),t.Njj(O)}),t.bIt("selectionChange",function(){return t.eBV(d),t.Njj(o.applyStatusFilter())}),t.j41(60,"mat-option",29),t.EFF(61,"\u0627\u0644\u0643\u0644"),t.k0s(),t.j41(62,"mat-option",30),t.EFF(63,"\u0646\u0634\u0637 \u0641\u0642\u0637"),t.k0s(),t.j41(64,"mat-option",31),t.EFF(65,"\u063a\u064a\u0631 \u0646\u0634\u0637 \u0641\u0642\u0637"),t.k0s()(),t.j41(66,"mat-icon",25),t.EFF(67,"filter_list"),t.k0s()(),t.DNE(68,B,4,0,"button",32),t.k0s(),t.DNE(69,G,4,0,"div",33)(70,ut,27,7,"div",34),t.k0s()()()}if(2&c){const d=t.sdS(36);t.R7$(13),t.Y8G("ngIf",o.canEdit()),t.R7$(5),t.Y8G("ngIf",!o.isLoading),t.R7$(9),t.Y8G("ngIf",!o.isLoading),t.R7$(5),t.Y8G("matMenuTriggerFor",d),t.R7$(20),t.R50("ngModel",o.searchTerm),t.R7$(3),t.Y8G("ngIf",o.searchTerm),t.R7$(4),t.R50("ngModel",o.statusFilter),t.R7$(9),t.Y8G("ngIf",o.searchTerm||"all"!==o.statusFilter),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading)}},dependencies:[u.MD,u.bT,u.P9,u.QX,b.YN,b.me,b.BC,b.vS,l.iI,M.Hu,M.RN,M.m2,M.MM,M.dh,p.Hl,p.$z,p.iY,v.m_,v.An,e.tP,e.Zl,e.tL,e.ji,e.cC,e.YV,e.iL,e.KS,e.$R,e.YZ,e.NB,r.Ou,r.iy,_.NQ,_.B4,_.aE,C.RG,C.rl,C.nJ,C.JW,C.yw,m.fS,m.fg,E.YN,E.Jl,E.Jo,j.uc,j.oV,f.Cn,f.kk,f.fb,f.Cp,$.D6,$.LG,k.hM,x.Ve,x.VO,L.wT,T.g7],styles:[".departments-list-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem;direction:rtl}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px #0000001a}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{font-size:3.5rem;width:3.5rem;height:3.5rem;color:#667eea}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2d3748;margin:0 0 .5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#718096;margin:0}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #e2e8f0;transition:all .3s ease;overflow:hidden}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #00000026}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem!important}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169)}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon.subjects[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ed8936,#dd6b20)}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon.users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4299e1,#3182ce)}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2d3748;line-height:1;margin-bottom:.25rem}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#718096;margin-bottom:.25rem}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]   .stat-percentage[_ngcontent-%COMP%]{font-size:.75rem;color:#a0aec0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f7fafc,#edf2f7);padding:1.5rem;border-bottom:2px solid #e2e8f0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.75rem;width:1.75rem;height:1.75rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#2d3748}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background:#667eea;color:#fff;font-weight:600}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4a5568}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#667eea}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:2rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:2;min-width:300px}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .status-field[_ngcontent-%COMP%]{flex:1;min-width:200px}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{color:#cbd5e0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-label{color:#4a5568}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-focused .mat-form-field-outline{color:#667eea!important}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-focused .mat-form-field-label{color:#667eea!important}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;border:2px solid #e2e8f0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]{width:100%}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     th.mat-header-cell{background:linear-gradient(135deg,#f7fafc,#edf2f7);color:#2d3748;font-weight:600;font-size:.875rem;padding:1rem;border-bottom:2px solid #e2e8f0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell{padding:1rem;font-size:.875rem;color:#4a5568;border-bottom:1px solid #f7fafc}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .department-code{color:#667eea;font-weight:600;font-size:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .department-name{display:flex;flex-direction:column;gap:.25rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .department-name .name-primary{color:#2d3748;font-weight:500}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .department-name .name-secondary{font-size:.75rem;color:#a0aec0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell mat-chip-set{display:flex;gap:.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .count-chip{font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .count-chip mat-icon{font-size:1rem;width:1rem;height:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .count-chip.subjects{background:#fed7e2;color:#97266d}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .count-chip.users{background:#bee3f8;color:#2c5282}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .status-chip{font-size:.75rem;font-weight:600}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .status-chip mat-icon{font-size:1rem;width:1rem;height:1rem;margin-left:.25rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .status-chip[color=primary]{background-color:#48bb78;color:#fff}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .status-chip[color=warn]{background-color:#fc8181;color:#fff}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .action-button{color:#4a5568}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     td.mat-cell .action-button:hover{color:#667eea}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     tr.department-row{transition:background-color .2s ease}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     tr.department-row:hover{background:#f7fafc}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-paginator[_ngcontent-%COMP%]{background:#f7fafc;border-top:2px solid #e2e8f0}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-paginator[_ngcontent-%COMP%]     .mat-paginator-container{padding:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-paginator[_ngcontent-%COMP%]     .mat-select-value, .departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-paginator[_ngcontent-%COMP%]     .mat-paginator-range-label{color:#4a5568}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#f7fafc}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem;color:#cbd5e0;margin-bottom:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#2d3748;margin-bottom:.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#718096;margin-bottom:1.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem}.departments-list-container[_ngcontent-%COMP%]     .delete-action{color:#fc8181}.departments-list-container[_ngcontent-%COMP%]     .delete-action mat-icon{color:#fc8181}.departments-list-container[_ngcontent-%COMP%]     .delete-action:hover{background:#fff5f5}@media (max-width: 1200px){.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.departments-list-container[_ngcontent-%COMP%]{padding:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]{padding:1.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:1.5rem}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;flex-direction:column}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]{width:100%}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .title-with-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.25rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{flex-direction:column}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .status-field[_ngcontent-%COMP%]{min-width:100%;width:100%}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     .mat-column-nameEn, .departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     .mat-column-users{display:none}}@media (max-width: 480px){.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .departments-table[_ngcontent-%COMP%]     .mat-column-subjects{display:none}}@media print{.departments-list-container[_ngcontent-%COMP%]{background:#fff;padding:0}.departments-list-container[_ngcontent-%COMP%]   .departments-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], .departments-list-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%], .departments-list-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .departments-list-container[_ngcontent-%COMP%]   .departments-paginator[_ngcontent-%COMP%], .departments-list-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{display:none!important}.departments-list-container[_ngcontent-%COMP%]   .departments-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e2e8f0}}"]})}}return a})()},5312:(F,P,i)=>{i.d(P,{c:()=>l});const l=i(1904).c}}]);