"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[15],{7015:(dt,C,s)=>{s.r(C),s.d(C,{VisitorsListComponent:()=>gt});var m=s(177),g=s(9417),c=s(9159),d=s(2042),f=s(6695),p=s(5596),h=s(8834),M=s(9213),O=s(6471),P=s(4823),u=s(2102),x=s(9631),b=s(2798),v=s(9183),E=s(5416),F=s(1413),D=s(6977),l=s(9969),t=s(4438),k=s(6964),V=s(9192),I=s(6600);const y=()=>[10,25,50,100];function L(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return o.searchTerm="",t.Njj(o.onSearchChange())}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function w(e,i){if(1&e&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function T(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.clearFilters())}),t.j41(1,"mat-icon"),t.EFF(2,"clear"),t.k0s(),t.EFF(3," \u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631 "),t.k0s()}}function j(e,i){1&e&&(t.j41(0,"div",24),t.nrm(1,"mat-spinner",25),t.j41(2,"p"),t.EFF(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0632\u0648\u0627\u0631..."),t.k0s()())}function R(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u0635\u0648\u0631\u0629"),t.k0s())}function A(e,i){if(1&e){const n=t.RV6();t.j41(0,"img",49),t.bIt("error",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.onImageError(o.profileImageUrl))}),t.k0s()}if(2&e){const n=t.XpG().$implicit,a=t.XpG(2);t.Y8G("src",a.getImageUrl(n.profileImageUrl),t.B4B)("alt",n.fullName)}}function $(e,i){1&e&&(t.j41(0,"div",50)(1,"mat-icon"),t.EFF(2,"person"),t.k0s()())}function B(e,i){if(1&e&&(t.j41(0,"td",45)(1,"div",46),t.DNE(2,A,1,2,"img",47)(3,$,3,0,"div",48),t.k0s()()),2&e){const n=i.$implicit,a=t.XpG(2);t.R7$(2),t.Y8G("ngIf",a.shouldShowImage(n.profileImageUrl)),t.R7$(),t.Y8G("ngIf",!a.shouldShowImage(n.profileImageUrl))}}function Y(e,i){1&e&&(t.j41(0,"th",51),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645"),t.k0s())}function G(e,i){if(1&e&&(t.j41(0,"td",45)(1,"div",52)(2,"mat-icon"),t.EFF(3,"person"),t.k0s(),t.j41(4,"span",53),t.EFF(5),t.k0s()()()),2&e){const n=i.$implicit;t.R7$(5),t.JRh(n.fullName)}}function z(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a"),t.k0s())}function N(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.JRh(n.nationalId)}}function S(e,i){1&e&&(t.j41(0,"span",56),t.EFF(1,"-"),t.k0s())}function U(e,i){if(1&e&&(t.j41(0,"td",45),t.DNE(1,N,2,1,"span",54)(2,S,2,0,"span",55),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.Y8G("ngIf",n.nationalId),t.R7$(),t.Y8G("ngIf",!n.nationalId)}}function W(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u0647\u0627\u062a\u0641"),t.k0s())}function K(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.JRh(n.phone)}}function X(e,i){1&e&&(t.j41(0,"span",56),t.EFF(1,"-"),t.k0s())}function H(e,i){if(1&e&&(t.j41(0,"td",45),t.DNE(1,K,2,1,"span",54)(2,X,2,0,"span",55),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.Y8G("ngIf",n.phone),t.R7$(),t.Y8G("ngIf",!n.phone)}}function J(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u0634\u0631\u0643\u0629"),t.k0s())}function Q(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.JRh(n.company)}}function Z(e,i){1&e&&(t.j41(0,"span",56),t.EFF(1,"-"),t.k0s())}function q(e,i){if(1&e&&(t.j41(0,"td",45),t.DNE(1,Q,2,1,"span",54)(2,Z,2,0,"span",55),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.Y8G("ngIf",n.company),t.R7$(),t.Y8G("ngIf",!n.company)}}function tt(e,i){1&e&&(t.j41(0,"th",51),t.EFF(1,"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"),t.k0s())}function nt(e,i){if(1&e&&(t.j41(0,"td",45)(1,"mat-chip",57)(2,"mat-icon"),t.EFF(3,"history"),t.k0s(),t.EFF(4),t.k0s()()),2&e){const n=i.$implicit;t.R7$(4),t.SpI(" ",n.totalVisits," ")}}function et(e,i){1&e&&(t.j41(0,"th",51),t.EFF(1,"\u0622\u062e\u0631 \u0632\u064a\u0627\u0631\u0629"),t.k0s())}function it(e,i){if(1&e&&(t.j41(0,"td",45)(1,"div",58)(2,"mat-icon"),t.EFF(3,"schedule"),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&e){const n=i.$implicit,a=t.XpG(2);t.R7$(5),t.JRh(a.formatDate(n.lastVisitDate))}}function ot(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u062d\u0627\u0644\u0629"),t.k0s())}function at(e,i){if(1&e&&(t.j41(0,"td",45)(1,"mat-chip",59)(2,"mat-icon"),t.EFF(3),t.k0s(),t.EFF(4),t.k0s()()),2&e){const n=i.$implicit;t.R7$(),t.Y8G("color",n.isBlocked?"warn":"primary"),t.R7$(2),t.JRh(n.isBlocked?"block":"check_circle"),t.R7$(),t.SpI(" ",n.isBlocked?"\u0645\u062d\u0638\u0648\u0631":"\u0646\u0634\u0637"," ")}}function st(e,i){1&e&&(t.j41(0,"th",44),t.EFF(1,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.k0s())}function rt(e,i){if(1&e){const n=t.RV6();t.j41(0,"td",45)(1,"div",60)(2,"button",61),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.viewVisitorProfile(o))}),t.j41(3,"mat-icon"),t.EFF(4,"visibility"),t.k0s()(),t.j41(5,"button",62),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.viewVisitHistory(o))}),t.j41(6,"mat-icon"),t.EFF(7,"history"),t.k0s()()()()}}function ct(e,i){1&e&&t.nrm(0,"tr",63)}function lt(e,i){1&e&&t.nrm(0,"tr",64)}function _t(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",65)(1,"mat-icon"),t.EFF(2,"inbox"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0632\u0648\u0627\u0631"),t.k0s(),t.j41(5,"p"),t.EFF(6,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0632\u0648\u0627\u0631 \u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b"),t.k0s(),t.j41(7,"button",66),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.clearFilters())}),t.j41(8,"mat-icon"),t.EFF(9,"clear"),t.k0s(),t.EFF(10," \u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631 "),t.k0s()()}}function pt(e,i){1&e&&t.nrm(0,"mat-paginator",67),2&e&&t.Y8G("pageSizeOptions",t.lJ4(2,y))("pageSize",25)}function ut(e,i){if(1&e&&(t.j41(0,"div",26)(1,"table",27),t.qex(2,28),t.DNE(3,R,2,0,"th",29)(4,B,4,2,"td",30),t.bVm(),t.qex(5,31),t.DNE(6,Y,2,0,"th",32)(7,G,6,1,"td",30),t.bVm(),t.qex(8,33),t.DNE(9,z,2,0,"th",29)(10,U,3,2,"td",30),t.bVm(),t.qex(11,34),t.DNE(12,W,2,0,"th",29)(13,H,3,2,"td",30),t.bVm(),t.qex(14,35),t.DNE(15,J,2,0,"th",29)(16,q,3,2,"td",30),t.bVm(),t.qex(17,36),t.DNE(18,tt,2,0,"th",32)(19,nt,5,1,"td",30),t.bVm(),t.qex(20,37),t.DNE(21,et,2,0,"th",32)(22,it,6,1,"td",30),t.bVm(),t.qex(23,38),t.DNE(24,ot,2,0,"th",29)(25,at,5,3,"td",30),t.bVm(),t.qex(26,39),t.DNE(27,st,2,0,"th",29)(28,rt,8,0,"td",30),t.bVm(),t.DNE(29,ct,1,0,"tr",40)(30,lt,1,0,"tr",41),t.k0s(),t.DNE(31,_t,11,0,"div",42)(32,pt,1,3,"mat-paginator",43),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("dataSource",n.dataSource),t.R7$(28),t.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(),t.Y8G("ngIf",0===n.filteredVisits.length),t.R7$(),t.Y8G("ngIf",n.filteredVisits.length>0)}}let gt=(()=>{class e{constructor(n,a,o){this.visitorService=n,this.router=a,this.snackBar=o,this.visitors=[],this.filteredVisits=[],this.displayedColumns=["profileImage","fullName","nationalId","phone","company","totalVisits","lastVisitDate","status","actions"],this.departments=[],this.searchTerm="",this.selectedDepartment=null,this.isLoading=!0,this.destroy$=new F.B,this.failedImages=new Set}ngOnInit(){this.loadDepartments(),this.loadVisitors()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDepartments(){this.visitorService.loadDepartments().pipe((0,D.Q)(this.destroy$)).subscribe({next:n=>{this.departments=n},error:n=>{console.error("Error loading departments:",n)}})}loadVisitors(){this.isLoading=!0,this.visitorService.getVisitors(this.selectedDepartment||void 0,this.searchTerm||void 0).pipe((0,D.Q)(this.destroy$)).subscribe({next:n=>{console.log("\u2705 Visitors loaded:",n.length,"visitors"),this.visitors=n||[],this.applyFilters(),this.isLoading=!1},error:n=>{console.error("\u274c Error loading visitors:",n),this.showNotification("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0632\u0648\u0627\u0631","error"),this.visitors=[],this.filteredVisits=[],this.initializeDataSource(),this.isLoading=!1}})}applyFilters(){let n=[...this.visitors];if(this.searchTerm){const a=this.searchTerm.toLowerCase();n=n.filter(o=>o.fullName.toLowerCase().includes(a)||o.nationalId&&o.nationalId.toLowerCase().includes(a)||o.phone&&o.phone.toLowerCase().includes(a)||o.company&&o.company.toLowerCase().includes(a))}this.filteredVisits=n,this.initializeDataSource()}initializeDataSource(){this.dataSource=new c.I6(this.filteredVisits),setTimeout(()=>{this.sort&&(this.dataSource.sort=this.sort),this.paginator&&(this.dataSource.paginator=this.paginator)},100)}clearFilters(){this.searchTerm="",this.selectedDepartment=null,this.loadVisitors()}onSearchChange(){this.loadVisitors()}onDepartmentChange(){this.loadVisitors()}viewVisitorProfile(n){this.router.navigate(["/app/visitor-management/visitors/profile",n.id])}viewVisitHistory(n){this.router.navigate(["/app/visitor-management/visitors/profile",n.id],{queryParams:{tab:"history"}})}formatDate(n){return n?new Date(n).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"}):"-"}getImageUrl(n){return n&&""!==n.trim()?(n.startsWith("http://")||n.startsWith("https://"),n):null}hasImage(n){return null!=n&&""!==n.trim()}shouldShowImage(n){return!!this.hasImage(n)&&!this.failedImages.has(n||"")}onImageError(n){n&&this.failedImages.add(n)}showNotification(n,a="info"){this.snackBar.open(n,"\u0625\u063a\u0644\u0627\u0642",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:[`snackbar-${a}`]})}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(k.h),t.rXU(V.Ix),t.rXU(E.UG))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-visitors-list"]],viewQuery:function(a,o){if(1&a&&(t.GBs(d.B4,5),t.GBs(f.iy,5)),2&a){let r;t.mGM(r=t.lsd())&&(o.sort=r.first),t.mGM(r=t.lsd())&&(o.paginator=r.first)}},standalone:!0,features:[t.aNF],decls:40,vars:9,consts:[[1,"visitors-container",2,"margin-top","70px"],[1,"visitors-hero"],[1,"hero-content"],[1,"hero-logo-icon"],[1,"hero-title"],[1,"hero-subtitle"],[1,"visitors-card"],[1,"d-flex","align-items-center","justify-content-between"],[1,"title-section"],[1,"count-chip"],[1,"filters-section"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a\u060c \u0627\u0644\u0647\u0627\u062a\u0641...",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["appearance","outline",1,"filter-field"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","table-container",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"loading-state"],["diameter","60"],[1,"table-container"],["mat-table","","matSort","",1,"visitors-table",3,"dataSource"],["matColumnDef","profileImage"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","nationalId"],["matColumnDef","phone"],["matColumnDef","company"],["matColumnDef","totalVisits"],["matColumnDef","lastVisitDate"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"profile-image-cell"],["class","profile-image",3,"src","alt","error",4,"ngIf"],["class","profile-image-placeholder",4,"ngIf"],[1,"profile-image",3,"error","src","alt"],[1,"profile-image-placeholder"],["mat-header-cell","","mat-sort-header",""],[1,"visitor-cell"],[1,"name-text"],[4,"ngIf"],["class","no-data",4,"ngIf"],[1,"no-data"],[1,"visit-count-chip"],[1,"last-visit-cell"],[1,"status-chip",3,"color"],[1,"action-buttons"],["mat-icon-button","","color","primary","matTooltip","\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",3,"click"],["mat-icon-button","","color","accent","matTooltip","\u0639\u0631\u0636 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",3,"click"],["mat-header-row",""],["mat-row","",1,"table-row"],[1,"empty-state"],["mat-raised-button","","color","primary",3,"click"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.EFF(4,"people"),t.k0s(),t.j41(5,"h1",4)(6,"mat-icon"),t.EFF(7,"person"),t.k0s(),t.EFF(8," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0632\u0648\u0627\u0631 "),t.k0s(),t.j41(9,"p",5),t.EFF(10,"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0632\u0648\u0627\u0631 \u0648\u0632\u064a\u0627\u0631\u0627\u062a\u0647\u0645"),t.k0s()()(),t.j41(11,"mat-card",6)(12,"mat-card-header")(13,"mat-card-title",7)(14,"div",8)(15,"mat-icon"),t.EFF(16,"people"),t.k0s(),t.j41(17,"span"),t.EFF(18,"\u062c\u0645\u064a\u0639 \u0627\u0644\u0632\u0648\u0627\u0631"),t.k0s(),t.j41(19,"mat-chip",9),t.EFF(20),t.k0s()()()(),t.j41(21,"mat-card-content")(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),t.EFF(25,"\u0628\u062d\u062b"),t.k0s(),t.j41(26,"mat-icon",12),t.EFF(27,"search"),t.k0s(),t.j41(28,"input",13),t.mxI("ngModelChange",function(_){return t.DH7(o.searchTerm,_)||(o.searchTerm=_),_}),t.bIt("ngModelChange",function(){return o.onSearchChange()}),t.k0s(),t.DNE(29,L,3,0,"button",14),t.k0s(),t.j41(30,"mat-form-field",15)(31,"mat-label"),t.EFF(32,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"),t.k0s(),t.j41(33,"mat-select",16),t.mxI("ngModelChange",function(_){return t.DH7(o.selectedDepartment,_)||(o.selectedDepartment=_),_}),t.bIt("ngModelChange",function(){return o.onDepartmentChange()}),t.j41(34,"mat-option",17),t.EFF(35,"\u0627\u0644\u0643\u0644"),t.k0s(),t.DNE(36,w,2,2,"mat-option",18),t.k0s()(),t.DNE(37,T,4,0,"button",19),t.k0s(),t.DNE(38,j,4,0,"div",20)(39,ut,33,6,"div",21),t.k0s()()()),2&a&&(t.R7$(20),t.JRh(o.filteredVisits.length),t.R7$(8),t.R50("ngModel",o.searchTerm),t.R7$(),t.Y8G("ngIf",o.searchTerm),t.R7$(4),t.R50("ngModel",o.selectedDepartment),t.R7$(),t.Y8G("value",null),t.R7$(2),t.Y8G("ngForOf",o.departments),t.R7$(),t.Y8G("ngIf",o.searchTerm||o.selectedDepartment),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading))},dependencies:[m.MD,m.Sq,m.bT,g.YN,g.me,g.BC,g.vS,p.Hu,p.RN,p.m2,p.MM,p.dh,h.Hl,h.$z,h.iY,M.m_,M.An,O.YN,O.Jl,P.uc,P.oV,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,d.NQ,d.B4,d.aE,f.Ou,f.iy,u.RG,u.rl,u.nJ,u.JW,u.yw,x.fS,x.fg,b.Ve,b.VO,I.wT,v.D6,v.LG,E._T],styles:['.visitors-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.visitors-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;padding:48px;margin-bottom:32px;color:#fff;box-shadow:0 12px 48px #667eea4d;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .6s ease-out}.visitors-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_rotate 20s linear infinite}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;position:relative;z-index:1}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-logo-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2))}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0;font-size:40px;font-weight:800;text-shadow:0 4px 8px rgba(0,0,0,.2);letter-spacing:-.5px}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{margin:0;opacity:.95;font-size:18px;font-weight:500;text-shadow:0 2px 4px rgba(0,0,0,.2)}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.visitors-card[_ngcontent-%COMP%]{box-shadow:0 8px 32px #667eea26;border-radius:20px;overflow:hidden;border:1px solid rgba(102,126,234,.1);background:linear-gradient(135deg,#fff,#f8f9ff);transition:all .3s ease;animation:_ngcontent-%COMP%_slideUp .6s ease-out}.visitors-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #667eea33;transform:translateY(-4px)}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea14,#764ba214);padding:24px 32px;border-radius:20px 20px 0 0;border-bottom:2px solid rgba(102,126,234,.1)}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:32px;width:32px;height:32px;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:700;font-size:16px;padding:8px 16px;box-shadow:0 4px 12px #667eea4d;transition:all .3s ease}.visitors-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #667eea66}.visitors-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:32px}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.filters-section[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:32px;flex-wrap:wrap;align-items:center;padding:24px;background:linear-gradient(135deg,#667eea08,#764ba208);border-radius:16px;border:1px solid rgba(102,126,234,.1);animation:_ngcontent-%COMP%_fadeIn .7s ease-in-out}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{transition:all .3s ease}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-outline, .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]     .mat-form-field-outline{color:#667eea4d}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-outline-thick, .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]     .mat-form-field-outline-thick{color:#667eea}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-label, .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]     .mat-form-field-label{color:#667eea;font-weight:600}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-input-element, .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]     .mat-input-element{color:#333;font-weight:500}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:hover, .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{min-width:220px}.filters-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease;font-weight:600;padding:0 24px;border-radius:12px}.filters-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #667eea4d}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px;gap:24px;background:linear-gradient(135deg,#667eea05,#764ba205);border-radius:16px}.loading-state[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]     circle{stroke:url(#gradient)}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#667eea;font-size:18px;font-weight:600;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.visitors-table[_ngcontent-%COMP%]{width:100%;border-radius:12px;overflow:hidden}.visitors-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea14,#764ba214);font-weight:700;color:#667eea;font-size:14px;text-transform:uppercase;letter-spacing:.5px;padding:20px 16px;border-bottom:2px solid rgba(102,126,234,.2)}.visitors-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 16px}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;object-fit:cover;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,linear-gradient(135deg,#667eea,#764ba2) border-box;box-shadow:0 4px 12px #667eea33;transition:all .3s ease;cursor:pointer}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]:hover{transform:scale(1.15) rotate(5deg);box-shadow:0 6px 16px #667eea4d}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]   .profile-image-placeholder[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea1a,#764ba21a);border:3px solid transparent;background-clip:padding-box;border-image:linear-gradient(135deg,#667eea,#764ba2) 1;box-shadow:0 4px 12px #667eea33}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]   .profile-image-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#667eea}.visitors-table[_ngcontent-%COMP%]   .visitor-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.visitors-table[_ngcontent-%COMP%]   .visitor-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;transition:all .3s ease}.visitors-table[_ngcontent-%COMP%]   .visitor-cell[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#333}.visitors-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:#bbb;font-style:italic;font-size:14px}.visitors-table[_ngcontent-%COMP%]   .visit-count-chip[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea1a,#764ba21a);color:#667eea;font-weight:700;border:1px solid rgba(102,126,234,.2);transition:all .3s ease}.visitors-table[_ngcontent-%COMP%]   .visit-count-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.visitors-table[_ngcontent-%COMP%]   .visit-count-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#667eea33,#764ba233);transform:scale(1.05)}.visitors-table[_ngcontent-%COMP%]   .last-visit-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.visitors-table[_ngcontent-%COMP%]   .last-visit-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:20px;width:20px;height:20px}.visitors-table[_ngcontent-%COMP%]   .last-visit-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#555}.visitors-table[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{font-weight:700;padding:8px 16px;border-radius:20px;transition:all .3s ease}.visitors-table[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visitors-table[_ngcontent-%COMP%]   .status-chip.mat-chip.mat-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);color:#2e7d32;border:1px solid #4caf50}.visitors-table[_ngcontent-%COMP%]   .status-chip.mat-chip.mat-warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffebee,#ffcdd2);color:#c62828;border:1px solid #f44336}.visitors-table[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #0000001a}.visitors-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.visitors-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease;border-radius:50%}.visitors-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.15) rotate(5deg);background:#667eea1a}.visitors-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:all .3s ease}.visitors-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border-bottom:1px solid rgba(102,126,234,.05)}.visitors-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#667eea0d,#764ba20d);transform:scale(1.01);box-shadow:0 4px 12px #667eea1a}.visitors-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover   .visitor-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px;text-align:center;color:#999;background:linear-gradient(135deg,#667eea05,#764ba205);border-radius:16px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:96px;width:96px;height:96px;color:#ddd;margin-bottom:24px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 12px;color:#667eea;font-size:24px;font-weight:700}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:32px;color:#999;font-size:16px}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease;font-weight:600;padding:12px 32px;border-radius:24px;box-shadow:0 4px 12px #667eea4d}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #667eea66}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}  .mat-paginator{background:linear-gradient(135deg,#667eea08,#764ba208);border-radius:0 0 16px 16px;border-top:2px solid rgba(102,126,234,.1);padding:16px}  .mat-paginator .mat-paginator-container{justify-content:center;gap:16px}  .mat-paginator .mat-paginator-page-size-label,   .mat-paginator .mat-paginator-range-label{color:#667eea;font-weight:600}  .mat-paginator button{transition:all .3s ease}  .mat-paginator button:hover:not([disabled]){background:#667eea1a;transform:scale(1.1)}  .mat-paginator button[disabled]{opacity:.3}@media (max-width: 768px){.visitors-container[_ngcontent-%COMP%]{padding:16px}.visitors-hero[_ngcontent-%COMP%]{padding:32px 24px}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-logo-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:28px}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.visitors-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:14px}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;padding:16px}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}.visitors-table[_ngcontent-%COMP%]{font-size:13px}.visitors-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .visitors-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.visitors-table[_ngcontent-%COMP%]   .profile-image-cell[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:44px;height:44px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}'],data:{animation:[(0,l.hZ)("fadeIn",[(0,l.kY)(":enter",[(0,l.iF)({opacity:0,transform:"translateY(20px)"}),(0,l.i0)("500ms ease-out",(0,l.iF)({opacity:1,transform:"translateY(0)"}))])]),(0,l.hZ)("slideIn",[(0,l.kY)(":enter",[(0,l.iF)({opacity:0,transform:"translateX(-20px)"}),(0,l.i0)("400ms ease-out",(0,l.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return e})()}}]);