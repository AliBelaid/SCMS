"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[127],{8127:(j,x,i)=>{i.r(x),i.d(x,{EmployeeAttendanceComponent:()=>Z});var a=i(177),C=i(9417),g=i(5596),p=i(9159),y=i(8834),E=i(9213),v=i(9183),T=i(5416),O=i(2102),P=i(9631),M=i(5084),F=i(6600),I=i(1413),D=i(6977),e=i(4438),A=i(9192),s=i(8663);function l(c,d){if(1&c&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&c){const t=e.XpG();e.R7$(),e.Lme(" ",t.employee.employeeName," (",t.employee.employeeId,") ")}}function o(c,d){if(1&c&&(e.j41(0,"span",15)(1,"mat-icon"),e.EFF(2,"business"),e.k0s(),e.EFF(3),e.k0s()),2&c){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.employee.departmentName," ")}}function h(c,d){if(1&c&&(e.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"mat-icon"),e.EFF(4,"event"),e.k0s()(),e.j41(5,"div",30)(6,"div",31),e.EFF(7),e.k0s(),e.j41(8,"div",32),e.EFF(9,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062d\u0636\u0648\u0631"),e.k0s()()(),e.j41(10,"div",28)(11,"div",33)(12,"mat-icon"),e.EFF(13,"check_circle"),e.k0s()(),e.j41(14,"div",30)(15,"div",31),e.EFF(16),e.k0s(),e.j41(17,"div",32),e.EFF(18,"\u062d\u0636\u0648\u0631 \u0645\u0643\u062a\u0645\u0644"),e.k0s()()(),e.j41(19,"div",28)(20,"div",34)(21,"mat-icon"),e.EFF(22,"schedule"),e.k0s()(),e.j41(23,"div",30)(24,"div",31),e.EFF(25),e.k0s(),e.j41(26,"div",32),e.EFF(27,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0627\u0639\u0627\u062a"),e.k0s()()()()),2&c){const t=e.XpG(2);e.R7$(7),e.JRh(t.attendances.length),e.R7$(9),e.JRh(t.getCompletedCount()),e.R7$(9),e.JRh(t.getTotalHours())}}function $(c,d){1&c&&(e.j41(0,"div",35),e.nrm(1,"mat-spinner",36),e.j41(2,"p"),e.EFF(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."),e.k0s()())}function B(c,d){1&c&&(e.j41(0,"th",47),e.EFF(1,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.k0s())}function S(c,d){if(1&c&&(e.j41(0,"td",48)(1,"div",49)(2,"div",50),e.EFF(3),e.k0s(),e.j41(4,"div",51),e.EFF(5),e.k0s()()()),2&c){const t=d.$implicit,n=e.XpG(3);e.R7$(3),e.JRh(n.getDateDay(t._checkInTime||t.checkInTime||t.firstCheckInTime||"")),e.R7$(2),e.JRh(n.formatDate(t._checkInTime||t.checkInTime||t.firstCheckInTime||""))}}function N(c,d){1&c&&(e.j41(0,"th",47),e.EFF(1,"\u0648\u0642\u062a \u0627\u0644\u062f\u062e\u0648\u0644"),e.k0s())}function G(c,d){if(1&c&&(e.j41(0,"td",48)(1,"div",52)(2,"mat-icon"),e.EFF(3,"login"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()()()),2&c){const t=d.$implicit,n=e.XpG(3);e.R7$(5),e.JRh(n.formatTime(t._checkInTime||t.checkInTime||t.firstCheckInTime||""))}}function L(c,d){1&c&&(e.j41(0,"th",47),e.EFF(1,"\u0648\u0642\u062a \u0627\u0644\u062e\u0631\u0648\u062c"),e.k0s())}function z(c,d){if(1&c&&(e.j41(0,"div",54)(1,"mat-icon"),e.EFF(2,"logout"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&c){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(4),e.JRh(n.formatTime(t._checkOutTime||t.checkOutTime||t.lastCheckOutTime||""))}}function W(c,d){1&c&&(e.j41(0,"span",55),e.EFF(1,"-"),e.k0s())}function U(c,d){if(1&c&&(e.j41(0,"td",48),e.DNE(1,z,5,1,"div",53)(2,W,2,0,"ng-template",null,2,e.C5r),e.k0s()),2&c){const t=d.$implicit,n=e.sdS(3);e.R7$(),e.Y8G("ngIf",t._checkOutTime||t.checkOutTime||t.lastCheckOutTime)("ngIfElse",n)}}function X(c,d){1&c&&(e.j41(0,"th",47),e.EFF(1,"\u0627\u0644\u0645\u062f\u0629"),e.k0s())}function Y(c,d){if(1&c&&(e.j41(0,"td",48)(1,"span",56),e.EFF(2),e.k0s()()),2&c){const t=d.$implicit,n=e.XpG(3);e.R7$(),e.AVh("completed",t._checkOutTime||t.checkOutTime||t.lastCheckOutTime)("ongoing",!(t._checkOutTime||t.checkOutTime||t.lastCheckOutTime)),e.R7$(),e.SpI(" ",n.getDuration(t)," ")}}function V(c,d){1&c&&e.nrm(0,"tr",57)}function K(c,d){1&c&&e.nrm(0,"tr",58)}function Q(c,d){if(1&c&&(e.j41(0,"div",37)(1,"table",38),e.qex(2,39),e.DNE(3,B,2,0,"th",40)(4,S,6,2,"td",41),e.bVm(),e.qex(5,42),e.DNE(6,N,2,0,"th",40)(7,G,6,1,"td",41),e.bVm(),e.qex(8,43),e.DNE(9,L,2,0,"th",40)(10,U,4,2,"td",41),e.bVm(),e.qex(11,44),e.DNE(12,X,2,0,"th",40)(13,Y,3,5,"td",41),e.bVm(),e.DNE(14,V,1,0,"tr",45)(15,K,1,0,"tr",46),e.k0s()()),2&c){const t=e.XpG(2);e.R7$(),e.Y8G("dataSource",t.attendances),e.R7$(13),e.Y8G("matHeaderRowDef",t.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",t.displayedColumns)}}function H(c,d){1&c&&(e.j41(0,"div",59)(1,"mat-icon"),e.EFF(2,"event_busy"),e.k0s(),e.j41(3,"h3"),e.EFF(4,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0633\u062c\u0644 \u062d\u0636\u0648\u0631"),e.k0s(),e.j41(5,"p"),e.EFF(6,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0623\u064a \u0633\u062c\u0644 \u062d\u0636\u0648\u0631 \u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629"),e.k0s()())}function J(c,d){if(1&c){const t=e.RV6();e.j41(0,"mat-card",11)(1,"mat-card-header")(2,"div",12)(3,"div",13)(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"div",14)(7,"span",15)(8,"mat-icon"),e.EFF(9,"badge"),e.k0s(),e.EFF(10),e.k0s(),e.DNE(11,o,4,1,"span",16),e.k0s()()()(),e.j41(12,"mat-card-content")(13,"div",17)(14,"mat-form-field",18)(15,"mat-label"),e.EFF(16,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.k0s(),e.j41(17,"input",19),e.mxI("ngModelChange",function(r){e.eBV(t);const m=e.XpG();return e.DH7(m.dateFrom,r)||(m.dateFrom=r),e.Njj(r)}),e.bIt("dateChange",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onDateFilterChange())}),e.k0s(),e.nrm(18,"mat-datepicker-toggle",20)(19,"mat-datepicker",null,0),e.k0s(),e.j41(21,"mat-form-field",18)(22,"mat-label"),e.EFF(23,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.k0s(),e.j41(24,"input",19),e.mxI("ngModelChange",function(r){e.eBV(t);const m=e.XpG();return e.DH7(m.dateTo,r)||(m.dateTo=r),e.Njj(r)}),e.bIt("dateChange",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onDateFilterChange())}),e.k0s(),e.nrm(25,"mat-datepicker-toggle",20)(26,"mat-datepicker",null,1),e.k0s(),e.j41(28,"button",21),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.applyQuickFilter("today"))}),e.EFF(29," \u0627\u0644\u064a\u0648\u0645 "),e.k0s(),e.j41(30,"button",21),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.applyQuickFilter("week"))}),e.EFF(31," \u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639 "),e.k0s(),e.j41(32,"button",21),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.applyQuickFilter("month"))}),e.EFF(33," \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631 "),e.k0s(),e.j41(34,"button",21),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.applyQuickFilter("year"))}),e.EFF(35," \u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0629 "),e.k0s(),e.j41(36,"button",22),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.exportAttendance())}),e.j41(37,"mat-icon"),e.EFF(38,"download"),e.k0s(),e.EFF(39," \u062a\u0635\u062f\u064a\u0631 "),e.k0s()(),e.DNE(40,h,28,3,"div",23)(41,$,4,0,"div",24)(42,Q,16,3,"div",25)(43,H,7,0,"div",26),e.k0s()()}if(2&c){const t=e.sdS(20),n=e.sdS(27),r=e.XpG();e.R7$(5),e.JRh(r.employee.employeeName),e.R7$(5),e.SpI(" ",r.employee.employeeId," "),e.R7$(),e.Y8G("ngIf",r.employee.departmentName),e.R7$(6),e.Y8G("matDatepicker",t),e.R50("ngModel",r.dateFrom),e.R7$(),e.Y8G("for",t),e.R7$(6),e.Y8G("matDatepicker",n),e.R50("ngModel",r.dateTo),e.R7$(),e.Y8G("for",n),e.R7$(3),e.AVh("active","today"===r.selectedFilter),e.R7$(2),e.AVh("active","week"===r.selectedFilter),e.R7$(2),e.AVh("active","month"===r.selectedFilter),e.R7$(2),e.AVh("active","year"===r.selectedFilter),e.R7$(2),e.Y8G("disabled",r.isExporting||0===r.attendances.length),e.R7$(4),e.Y8G("ngIf",!r.isLoading),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",!r.isLoading&&r.attendances.length>0),e.R7$(),e.Y8G("ngIf",!r.isLoading&&0===r.attendances.length)}}let Z=(()=>{class c{constructor(t,n,r,m){this.route=t,this.router=n,this.employeeService=r,this.snackBar=m,this.employee=null,this.attendances=[],this.displayedColumns=["date","checkInTime","checkOutTime","duration"],this.isLoading=!0,this.isExporting=!1,this.dateFrom=null,this.dateTo=null,this.selectedFilter="month",this.destroy$=new I.B}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&(this.applyQuickFilter("month"),this.loadEmployeeData(+t))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadEmployeeData(t){this.isLoading=!0,this.employeeService.getEmployee(t).pipe((0,D.Q)(this.destroy$)).subscribe({next:n=>{this.employee=n,this.loadAttendance(t)},error:n=>{console.error("Error loading employee:",n),this.showNotification("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641","error"),this.isLoading=!1}})}loadAttendance(t){this.isLoading=!0,this.employeeService.getEmployeeAttendance(t,this.dateFrom||void 0,this.dateTo||void 0).pipe((0,D.Q)(this.destroy$)).subscribe({next:n=>{this.attendances=n,this.isLoading=!1},error:n=>{console.error("Error loading attendance:",n),this.showNotification("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0633\u062c\u0644 \u0627\u0644\u062d\u0636\u0648\u0631","error"),this.isLoading=!1}})}applyQuickFilter(t){this.selectedFilter=t;const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(t){case"today":this.dateFrom=new Date(r),this.dateTo=new Date(r),this.dateTo.setHours(23,59,59,999);break;case"week":const f=r.getDay(),_=r.getDate()-f+(0===f?-6:1);this.dateFrom=new Date(r.setDate(_)),this.dateTo=new Date(this.dateFrom),this.dateTo.setDate(this.dateTo.getDate()+6),this.dateTo.setHours(23,59,59,999);break;case"month":this.dateFrom=new Date(n.getFullYear(),n.getMonth(),1),this.dateTo=new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59,999);break;case"year":this.dateFrom=new Date(n.getFullYear(),0,1),this.dateTo=new Date(n.getFullYear(),11,31,23,59,59,999)}const m=this.route.snapshot.paramMap.get("id");m&&this.loadAttendance(+m)}onDateFilterChange(){if(this.dateFrom&&this.dateTo){this.selectedFilter="custom";const t=this.route.snapshot.paramMap.get("id");t&&this.loadAttendance(+t)}}formatDate(t){if(!t)return"-";const n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})}formatTime(t){if(!t)return"-";const n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}getDateDay(t){if(!t)return"-";const n=new Date(t);return isNaN(n.getTime())?"-":n.toLocaleDateString("ar-SA",{day:"numeric"})}formatDateTime(t){return new Date(t).toLocaleString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}getDuration(t){const n=t._checkInTime||t.checkInTime||t.firstCheckInTime,r=t._checkOutTime||t.checkOutTime||t.lastCheckOutTime;if(!r)return"\u062c\u0627\u0631\u064a...";if(!n)return"-";const m=new Date(n),_=new Date(r).getTime()-m.getTime(),k=Math.floor(_/36e5),b=Math.floor(_%36e5/6e4);return k>0?`${k}\u0633 ${b}\u062f`:`${b}\u062f`}getCompletedCount(){return this.attendances.filter(t=>null!=(t._checkOutTime||t.checkOutTime||t.lastCheckOutTime)).length}getTotalHours(){let t=0;this.attendances.forEach(m=>{const f=m._checkInTime||m.checkInTime||m.firstCheckInTime,_=m._checkOutTime||m.checkOutTime||m.lastCheckOutTime;if(f&&_){const k=new Date(f),u=new Date(_).getTime()-k.getTime();t+=Math.floor(u/6e4)}});const n=Math.floor(t/60),r=t%60;return n>0?`${n}\u0633 ${r}\u062f`:`${r}\u062f`}exportAttendance(){if(0!==this.attendances.length){this.isExporting=!0;try{const t=["\u0627\u0644\u062a\u0627\u0631\u064a\u062e","\u0648\u0642\u062a \u0627\u0644\u062f\u062e\u0648\u0644","\u0648\u0642\u062a \u0627\u0644\u062e\u0631\u0648\u062c","\u0627\u0644\u0645\u062f\u0629 (\u0633\u0627\u0639\u0629:\u062f\u0642\u064a\u0642\u0629)"],n=this.attendances.map(u=>{const w=u._checkInTime||u.checkInTime||u.firstCheckInTime||"",R=u._checkOutTime||u.checkOutTime||u.lastCheckOutTime||"";return[this.formatDate(w),w?this.formatTime(w):"-",R?this.formatTime(R):"-",this.getDuration(u)]}),r=[];this.employee&&(r.push(`\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641: ${this.employee.employeeName}`),r.push(`\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641: ${this.employee.employeeId}`),this.employee.departmentName&&r.push(`\u0627\u0644\u0642\u0633\u0645: ${this.employee.departmentName}`),r.push(`\u0641\u062a\u0631\u0629 \u0627\u0644\u062a\u0642\u0631\u064a\u0631: ${this.dateFrom?this.formatDate(this.dateFrom.toISOString()):"-"} - ${this.dateTo?this.formatDate(this.dateTo.toISOString()):"-"}`),r.push(`\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u062c\u0644\u0627\u062a: ${this.attendances.length}`),r.push(""));const m=[...r,t.join(","),...n.map(u=>u.join(","))].join("\n"),f=new Blob(["\ufeff"+m],{type:"text/csv;charset=utf-8;"}),_=document.createElement("a"),k=URL.createObjectURL(f),b=`\u062d\u0636\u0648\u0631_${this.employee?.employeeName||"\u0645\u0648\u0638\u0641"}_${(new Date).toISOString().split("T")[0]}.csv`;_.setAttribute("href",k),_.setAttribute("download",b),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_),this.showNotification("\u062a\u0645 \u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d","success")}catch(t){console.error("Error exporting attendance:",t),this.showNotification("\u0641\u0634\u0644 \u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","error")}finally{this.isExporting=!1}}else this.showNotification("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","info")}goBack(){this.router.navigate(["/app/visitor-management/employees"])}showNotification(t,n="info"){this.snackBar.open(t,"\u0625\u063a\u0644\u0627\u0642",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:[`snackbar-${n}`]})}static{this.\u0275fac=function(n){return new(n||c)(e.rXU(A.nX),e.rXU(A.Ix),e.rXU(s.X),e.rXU(T.UG))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-employee-attendance"]],standalone:!0,features:[e.aNF],decls:10,vars:2,consts:[["fromPicker",""],["toPicker",""],["noCheckout",""],[1,"attendance-container"],[1,"header-section"],["mat-icon-button","",1,"back-button",3,"click"],[1,"header-content"],[1,"page-title"],["class","employee-subtitle",4,"ngIf"],["class","employee-card",4,"ngIf"],[1,"employee-subtitle"],[1,"employee-card"],[1,"employee-header"],[1,"employee-details"],[1,"employee-meta"],[1,"meta-item"],["class","meta-item",4,"ngIf"],[1,"filters-section"],["appearance","outline",1,"filter-field"],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["class","stats-section",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"stats-section"],[1,"stat-card"],[1,"stat-icon","total"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","completed"],[1,"stat-icon","total-hours"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"attendance-table",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","checkInTime"],["matColumnDef","checkOutTime"],["matColumnDef","duration"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","attendance-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"date-cell"],[1,"date-day"],[1,"date-full"],[1,"time-cell","check-in"],["class","time-cell check-out",4,"ngIf","ngIfElse"],[1,"time-cell","check-out"],[1,"no-checkout"],[1,"duration-badge"],["mat-header-row",""],["mat-row","",1,"attendance-row"],[1,"empty-state"]],template:function(n,r){1&n&&(e.j41(0,"div",3)(1,"div",4)(2,"button",5),e.bIt("click",function(){return r.goBack()}),e.j41(3,"mat-icon"),e.EFF(4,"arrow_back"),e.k0s()(),e.j41(5,"div",6)(6,"h1",7),e.EFF(7,"\u0633\u062c\u0644 \u062d\u0636\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.k0s(),e.DNE(8,l,2,2,"p",8),e.k0s()(),e.DNE(9,J,44,22,"mat-card",9),e.k0s()),2&n&&(e.R7$(8),e.Y8G("ngIf",r.employee),e.R7$(),e.Y8G("ngIf",r.employee))},dependencies:[a.MD,a.bT,C.YN,C.me,C.BC,C.vS,g.Hu,g.RN,g.m2,g.MM,p.tP,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,y.Hl,y.$z,y.iY,E.m_,E.An,v.D6,v.LG,T._T,O.RG,O.rl,O.nJ,O.yw,P.fS,P.fg,M.X6,M.Vh,M.bZ,M.bU,F.WX],styles:[".attendance-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 64px);background:linear-gradient(135deg,#f5f7fa,#c3cfe2);background-attachment:fixed}.header-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-section[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{color:var(--primary-color, #3f51b5)}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#1a1a1a;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .employee-subtitle[_ngcontent-%COMP%]{margin:8px 0 0;font-size:16px;color:#666}.employee-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:24px}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]{width:100%}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:24px;font-weight:600}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   .employee-meta[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   .employee-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;opacity:.9}.employee-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   .employee-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.employee-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.filters-section[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px;flex-wrap:wrap;align-items:center;padding:16px;background:#f8f9fa;border-radius:12px}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{flex:1;min-width:150px}.filters-section[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--primary-color, #3f51b5);color:#fff}.filters-section[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-inline-start:auto}.stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 12px #667eea4d;transition:transform .2s,box-shadow .2s}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:#fff3}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.completed[_ngcontent-%COMP%]{background:#4caf504d}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.total-hours[_ngcontent-%COMP%]{background:#ff98004d}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:1;margin-bottom:4px}.stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;box-shadow:0 2px 8px #0000000d}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]{width:100%;background:#fff}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:14px}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .attendance-row[_ngcontent-%COMP%]{transition:background-color .2s}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .attendance-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]   .date-day[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]   .date-full[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:15px;font-weight:500}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .time-cell.check-in[_ngcontent-%COMP%]{color:#4caf50}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .time-cell.check-out[_ngcontent-%COMP%]{color:#ff9800}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .no-checkout[_ngcontent-%COMP%]{color:#999;font-style:italic}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .duration-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-weight:600;font-size:13px}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .duration-badge.completed[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .duration-badge.ongoing[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#ccc;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#999}@media (max-width: 768px){.attendance-container[_ngcontent-%COMP%], .header-section[_ngcontent-%COMP%]{padding:16px}.header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:22px}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.stats-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]{font-size:13px}.table-container[_ngcontent-%COMP%]   .attendance-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]   .date-day[_ngcontent-%COMP%]{font-size:16px}}"]})}}return c})()},9183:(j,x,i)=>{i.d(x,{D6:()=>D,LG:()=>F});var a=i(4438),C=i(6600),g=i(4085),p=i(177);const y=["determinateSpinner"];function E(e,A){if(1&e&&(a.qSk(),a.j41(0,"svg",11),a.nrm(1,"circle",12),a.k0s()),2&e){const s=a.XpG();a.BMQ("viewBox",s._viewBox()),a.R7$(),a.xc7("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeCircumference()/2,"px")("stroke-width",s._circleStrokeWidth(),"%"),a.BMQ("r",s._circleRadius())}}const v=(0,C.Zc)(class{constructor(e){this._elementRef=e}},"primary"),T=new a.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function O(){return{diameter:P}}}),P=100;let F=(()=>{class e extends v{constructor(s,l,o){super(s),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=P,this._noopAnimations="NoopAnimations"===l&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(s){this._value=Math.max(0,Math.min(100,(0,g.OE)(s)))}get diameter(){return this._diameter}set diameter(s){this._diameter=(0,g.OE)(s)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(s){this._strokeWidth=(0,g.OE)(s)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const s=2*this._circleRadius()+this.strokeWidth;return`0 0 ${s} ${s}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(l){return new(l||e)(a.rXU(a.aKT),a.rXU(a.bc$,8),a.rXU(T))}}static{this.\u0275cmp=a.VBU({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(l,o){if(1&l&&a.GBs(y,5),2&l){let h;a.mGM(h=a.lsd())&&(o._determinateCircle=h.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(l,o){2&l&&(a.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===o.mode?o.value:null)("mode",o.mode),a.xc7("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),a.AVh("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===o.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[a.Vt3],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(l,o){if(1&l&&(a.DNE(0,E,2,8,"ng-template",null,0,a.C5r),a.j41(2,"div",2,1),a.qSk(),a.j41(4,"svg",3),a.nrm(5,"circle",4),a.k0s()(),a.joV(),a.j41(6,"div",5)(7,"div",6)(8,"div",7),a.eu8(9,8),a.k0s(),a.j41(10,"div",9),a.eu8(11,8),a.k0s(),a.j41(12,"div",10),a.eu8(13,8),a.k0s()()()),2&l){const h=a.sdS(1);a.R7$(4),a.BMQ("viewBox",o._viewBox()),a.R7$(),a.xc7("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),a.BMQ("r",o._circleRadius()),a.R7$(4),a.Y8G("ngTemplateOutlet",h),a.R7$(2),a.Y8G("ngTemplateOutlet",h),a.R7$(2),a.Y8G("ngTemplateOutlet",h)}},dependencies:[p.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}}return e})(),D=(()=>{class e{static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275mod=a.$C({type:e})}static{this.\u0275inj=a.G2t({imports:[p.MD,C.yE]})}}return e})()}}]);