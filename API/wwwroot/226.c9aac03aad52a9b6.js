"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[226],{7226:(R,v,c)=>{c.r(v),c.d(v,{DepartmentDetailsComponent:()=>wt});var h=c(4523),_=c(177),t=c(4438),D=c(9192),d=c(9417),F=c(7673),S=c(6354),a=c(5558),i=c(6697),p=c(5596),M=c(8834),l=c(9213),I=c(6471),b=c(9159),$=c(6850),f=c(4006),O=c(2102),E=c(9631),A=c(2798),j=c(2765),x=c(9183),G=c(4823),k=c(9115),T=c(8287),w=c(5048);function N(e,s){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0627\u0644\u0631\u0645\u0632 \u0645\u0637\u0644\u0648\u0628 "),t.k0s())}function V(e,s){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0627\u0644\u0631\u0645\u0632 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 \u062d\u0631\u0641\u064a\u0646 "),t.k0s())}function Y(e,s){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0645\u0637\u0644\u0648\u0628 "),t.k0s())}function X(e,s){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 \u0645\u0637\u0644\u0648\u0628 "),t.k0s())}let U=(()=>{class e{constructor(n,r,o){this.fb=n,this.dialogRef=r,this.data=o,this.isEditMode=!1,this.isEditMode=!!o.subject,this.subjectForm=this.fb.group({code:["",[d.k0.required,d.k0.minLength(2)]],nameAr:["",[d.k0.required]],nameEn:["",[d.k0.required]],description:[""],isActive:[!0]})}ngOnInit(){this.isEditMode&&this.data.subject&&this.subjectForm.patchValue({code:this.data.subject.code,nameAr:this.data.subject.nameAr,nameEn:this.data.subject.nameEn,description:this.data.subject.description||"",isActive:this.data.subject.isActive})}onCancel(){this.dialogRef.close()}onSave(){this.subjectForm.valid&&this.dialogRef.close(this.subjectForm.value)}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(d.ok),t.rXU(f.CP),t.rXU(f.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-subject-dialog"]],standalone:!0,features:[t.aNF],decls:35,vars:8,consts:[["mat-dialog-title",""],[1,"subject-form",3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","nameAr","required",""],["matInput","","formControlName","nameEn","required",""],["matInput","","formControlName","description","rows","3"],["formControlName","isActive",1,"full-width"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(r,o){if(1&r&&(t.j41(0,"h2",0)(1,"mat-icon"),t.EFF(2),t.k0s(),t.EFF(3),t.k0s(),t.j41(4,"mat-dialog-content")(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t.EFF(8,"\u0627\u0644\u0631\u0645\u0632 *"),t.k0s(),t.nrm(9,"input",3),t.DNE(10,N,2,0,"mat-error",4)(11,V,2,0,"mat-error",4),t.k0s(),t.j41(12,"mat-form-field",2)(13,"mat-label"),t.EFF(14,"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064a) *"),t.k0s(),t.nrm(15,"input",5),t.DNE(16,Y,2,0,"mat-error",4),t.k0s(),t.j41(17,"mat-form-field",2)(18,"mat-label"),t.EFF(19,"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062c\u0644\u064a\u0632\u064a) *"),t.k0s(),t.nrm(20,"input",6),t.DNE(21,X,2,0,"mat-error",4),t.k0s(),t.j41(22,"mat-form-field",2)(23,"mat-label"),t.EFF(24,"\u0627\u0644\u0648\u0635\u0641"),t.k0s(),t.nrm(25,"textarea",7),t.k0s(),t.j41(26,"mat-checkbox",8),t.EFF(27," \u0646\u0634\u0637 "),t.k0s()()(),t.j41(28,"mat-dialog-actions",9)(29,"button",10),t.bIt("click",function(){return o.onCancel()}),t.EFF(30,"\u0625\u0644\u063a\u0627\u0621"),t.k0s(),t.j41(31,"button",11),t.bIt("click",function(){return o.onSave()}),t.j41(32,"mat-icon"),t.EFF(33,"save"),t.k0s(),t.EFF(34," \u062d\u0641\u0638 "),t.k0s()()),2&r){let u,g,C,P;t.R7$(2),t.JRh(o.isEditMode?"edit":"add"),t.R7$(),t.SpI(" ",o.isEditMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0648\u0636\u0648\u0639":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0636\u0648\u0639 \u062c\u062f\u064a\u062f","\n"),t.R7$(2),t.Y8G("formGroup",o.subjectForm),t.R7$(5),t.Y8G("ngIf",null==(u=o.subjectForm.get("code"))?null:u.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(g=o.subjectForm.get("code"))?null:g.hasError("minlength")),t.R7$(5),t.Y8G("ngIf",null==(C=o.subjectForm.get("nameAr"))?null:C.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(P=o.subjectForm.get("nameEn"))?null:P.hasError("required")),t.R7$(10),t.Y8G("disabled",!o.subjectForm.valid)}},dependencies:[_.MD,_.bT,d.X1,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,f.hM,f.BI,f.E7,f.Yi,O.RG,O.rl,O.nJ,O.TL,E.fS,E.fg,M.Hl,M.$z,j.g7,j.So,l.m_,l.An],styles:["h2[mat-dialog-title][_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;padding:16px 24px;border-bottom:1px solid rgba(0,0,0,.12)}mat-dialog-content[_ngcontent-%COMP%]{padding:24px;min-width:500px}.subject-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid rgba(0,0,0,.12);margin:0}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return e})();var B=c(6600);function z(e,s){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.Lme(" ",n.code," - ",n.email," ")}}function L(e,s){1&e&&(t.j41(0,"mat-hint"),t.nrm(1,"mat-spinner",14),t.EFF(2," \u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646... "),t.k0s())}function J(e,s){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0637\u0644\u0648\u0628 "),t.k0s())}function H(e,s){if(1&e&&(t.j41(0,"mat-form-field",3)(1,"mat-label"),t.EFF(2,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 *"),t.k0s(),t.j41(3,"mat-select",10),t.DNE(4,z,2,3,"mat-option",11),t.k0s(),t.DNE(5,L,3,0,"mat-hint",12)(6,J,2,0,"mat-error",12),t.k0s()),2&e){let n;const r=t.XpG();t.R7$(4),t.Y8G("ngForOf",r.availableUsers),t.R7$(),t.Y8G("ngIf",r.isLoadingUsers),t.R7$(),t.Y8G("ngIf",null==(n=r.userForm.get("userId"))?null:n.hasError("required"))}}function W(e,s){if(1&e&&(t.j41(0,"mat-form-field",3)(1,"mat-label"),t.EFF(2,"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),t.k0s(),t.nrm(3,"input",15),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.Y8G("value",(null==n.data.user?null:n.data.user.userName)||(null==n.data.user?null:n.data.user.userCode))}}let y=(()=>{class e{constructor(n,r,o,u){this.fb=n,this.departmentService=r,this.dialogRef=o,this.data=u,this.isEditMode=!1,this.availableUsers=[],this.isLoadingUsers=!1,this.isEditMode=!!u.user,this.userForm=this.fb.group({userId:["",[d.k0.required]],position:[""],isHead:[!1],notes:[""]})}ngOnInit(){this.isEditMode&&this.data.user?(this.userForm.patchValue({userId:this.data.user.userId,position:this.data.user.position||"",isHead:this.data.user.isHead,notes:this.data.user.notes||""}),this.userForm.get("userId")?.disable()):this.loadAvailableUsers()}loadAvailableUsers(){this.isLoadingUsers=!0,this.departmentService.getAvailableUsersForDepartment(this.data.departmentId).pipe((0,i.s)(1)).subscribe({next:n=>{this.availableUsers=n,this.isLoadingUsers=!1},error:n=>{console.error("Error loading available users:",n),this.isLoadingUsers=!1}})}onCancel(){this.dialogRef.close()}onSave(){if(this.userForm.valid){const n=this.userForm.getRawValue();"string"==typeof n.userId&&(n.userId=parseInt(n.userId,10)),this.dialogRef.close(n)}}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(d.ok),t.rXU(T.a),t.rXU(f.CP),t.rXU(f.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-user-dialog"]],standalone:!0,features:[t.aNF],decls:25,vars:6,consts:[["mat-dialog-title",""],[1,"user-form",3,"formGroup"],["appearance","outline","class","full-width",4,"ngIf"],["appearance","outline",1,"full-width"],["matInput","","formControlName","position"],["formControlName","isHead",1,"full-width"],["matInput","","formControlName","notes","rows","3"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["formControlName","userId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["diameter","20"],["matInput","","disabled","",3,"value"]],template:function(r,o){1&r&&(t.j41(0,"h2",0)(1,"mat-icon"),t.EFF(2),t.k0s(),t.EFF(3),t.k0s(),t.j41(4,"mat-dialog-content")(5,"form",1),t.DNE(6,H,7,3,"mat-form-field",2)(7,W,4,1,"mat-form-field",2),t.j41(8,"mat-form-field",3)(9,"mat-label"),t.EFF(10,"\u0627\u0644\u0645\u0646\u0635\u0628"),t.k0s(),t.nrm(11,"input",4),t.k0s(),t.j41(12,"mat-checkbox",5),t.EFF(13," \u0631\u0626\u064a\u0633 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 "),t.k0s(),t.j41(14,"mat-form-field",3)(15,"mat-label"),t.EFF(16,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),t.k0s(),t.nrm(17,"textarea",6),t.k0s()()(),t.j41(18,"mat-dialog-actions",7)(19,"button",8),t.bIt("click",function(){return o.onCancel()}),t.EFF(20,"\u0625\u0644\u063a\u0627\u0621"),t.k0s(),t.j41(21,"button",9),t.bIt("click",function(){return o.onSave()}),t.j41(22,"mat-icon"),t.EFF(23,"save"),t.k0s(),t.EFF(24," \u062d\u0641\u0638 "),t.k0s()()),2&r&&(t.R7$(2),t.JRh(o.isEditMode?"edit":"person_add"),t.R7$(),t.SpI(" ",o.isEditMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f","\n"),t.R7$(2),t.Y8G("formGroup",o.userForm),t.R7$(),t.Y8G("ngIf",!o.isEditMode),t.R7$(),t.Y8G("ngIf",o.isEditMode),t.R7$(14),t.Y8G("disabled",!o.userForm.valid||o.isLoadingUsers))},dependencies:[_.MD,_.Sq,_.bT,d.X1,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,f.hM,f.BI,f.E7,f.Yi,O.RG,O.rl,O.nJ,O.MV,O.TL,E.fS,E.fg,A.Ve,A.VO,B.wT,M.Hl,M.$z,j.g7,j.So,x.D6,x.LG,l.m_,l.An],styles:["h2[mat-dialog-title][_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;padding:16px 24px;border-bottom:1px solid rgba(0,0,0,.12)}mat-dialog-content[_ngcontent-%COMP%]{padding:24px;min-width:500px}.user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid rgba(0,0,0,.12);margin:0}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}mat-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})}}return e})();function K(e,s){1&e&&(t.j41(0,"div",8),t.nrm(1,"mat-spinner",9),t.j41(2,"p"),t.EFF(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0629..."),t.k0s()())}function Q(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.editDepartment())}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s(),t.EFF(3," \u062a\u0639\u062f\u064a\u0644 "),t.k0s()}}function Z(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.addSubject())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.EFF(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0636\u0648\u0639 "),t.k0s()}}function q(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0631\u0645\u0632"),t.k0s())}function tt(e,s){if(1&e&&(t.j41(0,"td",54)(1,"strong"),t.EFF(2),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.JRh(n.code)}}function et(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064a)"),t.k0s())}function nt(e,s){if(1&e&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.nameAr)}}function at(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062c\u0644\u064a\u0632\u064a)"),t.k0s())}function ot(e,s){if(1&e&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.nameEn)}}function rt(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u062d\u0627\u0644\u0629"),t.k0s())}function it(e,s){if(1&e&&(t.j41(0,"td",54)(1,"mat-chip",22),t.EFF(2),t.k0s()()),2&e){const n=s.$implicit;t.R7$(),t.Y8G("color",n.isActive?"primary":"warn"),t.R7$(),t.SpI(" ",n.isActive?"\u0646\u0634\u0637":"\u0645\u062a\u0648\u0642\u0641"," ")}}function st(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.k0s())}function ct(e,s){if(1&e&&(t.j41(0,"button",57)(1,"mat-icon"),t.EFF(2,"more_vert"),t.k0s()()),2&e){t.XpG();const n=t.sdS(3);t.Y8G("matMenuTriggerFor",n)}}function ut(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",54),t.DNE(1,ct,3,1,"button",55),t.j41(2,"mat-menu",null,4)(4,"button",56),t.bIt("click",function(){const o=t.eBV(n).$implicit,u=t.XpG(4);return t.Njj(u.editSubject(o))}),t.j41(5,"mat-icon"),t.EFF(6,"edit"),t.k0s(),t.j41(7,"span"),t.EFF(8,"\u062a\u0639\u062f\u064a\u0644"),t.k0s()(),t.j41(9,"button",56),t.bIt("click",function(){const o=t.eBV(n).$implicit,u=t.XpG(4);return t.Njj(u.deleteSubject(o))}),t.j41(10,"mat-icon"),t.EFF(11,"delete"),t.k0s(),t.j41(12,"span"),t.EFF(13,"\u062d\u0630\u0641"),t.k0s()()()()}if(2&e){const n=t.XpG(4);t.R7$(),t.Y8G("ngIf",n.canEdit())}}function dt(e,s){1&e&&t.nrm(0,"tr",58)}function mt(e,s){1&e&&t.nrm(0,"tr",59)}function lt(e,s){if(1&e&&(t.j41(0,"div")(1,"table",43),t.qex(2,44),t.DNE(3,q,2,0,"th",45)(4,tt,3,1,"td",46),t.bVm(),t.qex(5,47),t.DNE(6,et,2,0,"th",45)(7,nt,2,1,"td",46),t.bVm(),t.qex(8,48),t.DNE(9,at,2,0,"th",45)(10,ot,2,1,"td",46),t.bVm(),t.qex(11,49),t.DNE(12,rt,2,0,"th",45)(13,it,3,2,"td",46),t.bVm(),t.qex(14,50),t.DNE(15,st,2,0,"th",45)(16,ut,14,1,"td",46),t.bVm(),t.DNE(17,dt,1,0,"tr",51)(18,mt,1,0,"tr",52),t.k0s()()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("dataSource",n.department().subjects),t.R7$(16),t.Y8G("matHeaderRowDef",n.subjectsColumns),t.R7$(),t.Y8G("matRowDefColumns",n.subjectsColumns)}}function _t(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(4);return t.Njj(o.addSubject())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.EFF(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0636\u0648\u0639 \u062c\u062f\u064a\u062f "),t.k0s()}}function pt(e,s){if(1&e&&(t.j41(0,"div",60)(1,"mat-icon"),t.EFF(2,"topic"),t.k0s(),t.j41(3,"p"),t.EFF(4,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0648\u0627\u0636\u064a\u0639 \u0628\u0639\u062f"),t.k0s(),t.DNE(5,_t,4,0,"button",19),t.k0s()),2&e){const n=t.XpG(3);t.R7$(5),t.Y8G("ngIf",n.canEdit())}}function gt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.addUser())}),t.j41(1,"mat-icon"),t.EFF(2,"person_add"),t.k0s(),t.EFF(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 "),t.k0s()}}function Ct(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0631\u0645\u0632"),t.k0s())}function ht(e,s){if(1&e&&(t.j41(0,"td",54)(1,"strong"),t.EFF(2),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.JRh(n.userCode)}}function ft(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0627\u0633\u0645"),t.k0s())}function bt(e,s){if(1&e&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.userName)}}function Mt(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0645\u0646\u0635\u0628"),t.k0s())}function Ot(e,s){if(1&e&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.position||"-")}}function Pt(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0631\u0626\u064a\u0633 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"),t.k0s())}function Ft(e,s){1&e&&(t.j41(0,"mat-chip",69)(1,"mat-icon"),t.EFF(2,"star"),t.k0s(),t.EFF(3," \u0631\u0626\u064a\u0633 "),t.k0s())}function vt(e,s){1&e&&(t.j41(0,"span"),t.EFF(1,"-"),t.k0s())}function Dt(e,s){if(1&e&&(t.j41(0,"td",54),t.DNE(1,Ft,4,0,"mat-chip",67)(2,vt,2,0,"span",68),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.Y8G("ngIf",n.isHead),t.R7$(),t.Y8G("ngIf",!n.isHead)}}function Et(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"),t.k0s())}function jt(e,s){if(1&e&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&e){const n=s.$implicit,r=t.XpG(4);t.R7$(),t.JRh(r.formatDate(n.joinedAt))}}function xt(e,s){1&e&&(t.j41(0,"th",53),t.EFF(1,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.k0s())}function kt(e,s){if(1&e&&(t.j41(0,"button",57)(1,"mat-icon"),t.EFF(2,"more_vert"),t.k0s()()),2&e){t.XpG();const n=t.sdS(3);t.Y8G("matMenuTriggerFor",n)}}function $t(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",54),t.DNE(1,kt,3,1,"button",55),t.j41(2,"mat-menu",null,5)(4,"button",56),t.bIt("click",function(){const o=t.eBV(n).$implicit,u=t.XpG(4);return t.Njj(u.editUser(o))}),t.j41(5,"mat-icon"),t.EFF(6,"edit"),t.k0s(),t.j41(7,"span"),t.EFF(8,"\u062a\u0639\u062f\u064a\u0644"),t.k0s()(),t.j41(9,"button",56),t.bIt("click",function(){const o=t.eBV(n).$implicit,u=t.XpG(4);return t.Njj(u.removeUser(o))}),t.j41(10,"mat-icon"),t.EFF(11,"person_remove"),t.k0s(),t.j41(12,"span"),t.EFF(13,"\u0625\u0632\u0627\u0644\u0629"),t.k0s()()()()}if(2&e){const n=t.XpG(4);t.R7$(),t.Y8G("ngIf",n.canEdit())}}function At(e,s){1&e&&t.nrm(0,"tr",58)}function Rt(e,s){1&e&&t.nrm(0,"tr",59)}function It(e,s){if(1&e&&(t.j41(0,"div")(1,"table",61),t.qex(2,62),t.DNE(3,Ct,2,0,"th",45)(4,ht,3,1,"td",46),t.bVm(),t.qex(5,63),t.DNE(6,ft,2,0,"th",45)(7,bt,2,1,"td",46),t.bVm(),t.qex(8,64),t.DNE(9,Mt,2,0,"th",45)(10,Ot,2,1,"td",46),t.bVm(),t.qex(11,65),t.DNE(12,Pt,2,0,"th",45)(13,Dt,3,2,"td",46),t.bVm(),t.qex(14,66),t.DNE(15,Et,2,0,"th",45)(16,jt,2,1,"td",46),t.bVm(),t.qex(17,50),t.DNE(18,xt,2,0,"th",45)(19,$t,14,1,"td",46),t.bVm(),t.DNE(20,At,1,0,"tr",51)(21,Rt,1,0,"tr",52),t.k0s()()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("dataSource",n.department().users),t.R7$(19),t.Y8G("matHeaderRowDef",n.usersColumns),t.R7$(),t.Y8G("matRowDefColumns",n.usersColumns)}}function Tt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(4);return t.Njj(o.addUser())}),t.j41(1,"mat-icon"),t.EFF(2,"person_add"),t.k0s(),t.EFF(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f "),t.k0s()}}function Ut(e,s){if(1&e&&(t.j41(0,"div",60)(1,"mat-icon"),t.EFF(2,"people_outline"),t.k0s(),t.j41(3,"p"),t.EFF(4,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 \u0628\u0639\u062f"),t.k0s(),t.DNE(5,Tt,4,0,"button",19),t.k0s()),2&e){const n=t.XpG(3);t.R7$(5),t.Y8G("ngIf",n.canEdit())}}function yt(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"mat-icon",15),t.EFF(6,"apartment"),t.k0s(),t.j41(7,"div")(8,"h1",16),t.EFF(9),t.k0s(),t.j41(10,"p",17),t.EFF(11),t.k0s()()(),t.j41(12,"div",18),t.DNE(13,Q,4,0,"button",19),t.j41(14,"button",20),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.goBack())}),t.j41(15,"mat-icon"),t.EFF(16,"arrow_back"),t.k0s(),t.EFF(17," \u0631\u062c\u0648\u0639 "),t.k0s()()(),t.j41(18,"div",21)(19,"mat-chip",22)(20,"mat-icon"),t.EFF(21),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"mat-chip")(24,"mat-icon"),t.EFF(25,"topic"),t.k0s(),t.EFF(26),t.k0s(),t.j41(27,"mat-chip")(28,"mat-icon"),t.EFF(29,"people"),t.k0s(),t.EFF(30),t.k0s()()()(),t.j41(31,"mat-card",23)(32,"mat-tab-group",24),t.mxI("selectedIndexChange",function(o){t.eBV(n);const u=t.XpG(2);return t.DH7(u.selectedTabIndex,o)||(u.selectedTabIndex=o),t.Njj(o)}),t.j41(33,"mat-tab",25)(34,"div",26)(35,"div",27)(36,"mat-card",28)(37,"mat-card-header")(38,"mat-card-title")(39,"mat-icon"),t.EFF(40,"info"),t.k0s(),t.EFF(41," \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 "),t.k0s()(),t.j41(42,"mat-card-content")(43,"div",29)(44,"span",30),t.EFF(45,"\u0627\u0644\u0631\u0645\u0632:"),t.k0s(),t.j41(46,"span",31),t.EFF(47),t.k0s()(),t.j41(48,"div",29)(49,"span",30),t.EFF(50,"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064a):"),t.k0s(),t.j41(51,"span",31),t.EFF(52),t.k0s()(),t.j41(53,"div",29)(54,"span",30),t.EFF(55,"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062c\u0644\u064a\u0632\u064a):"),t.k0s(),t.j41(56,"span",31),t.EFF(57),t.k0s()(),t.j41(58,"div",29)(59,"span",30),t.EFF(60,"\u0627\u0644\u0645\u062f\u064a\u0631:"),t.k0s(),t.j41(61,"span",31),t.EFF(62),t.k0s()(),t.j41(63,"div",29)(64,"span",30),t.EFF(65,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),t.k0s(),t.j41(66,"span",31),t.EFF(67),t.k0s()()()(),t.j41(68,"mat-card",28)(69,"mat-card-header")(70,"mat-card-title")(71,"mat-icon"),t.EFF(72,"description"),t.k0s(),t.EFF(73," \u0627\u0644\u0648\u0635\u0641 "),t.k0s()(),t.j41(74,"mat-card-content")(75,"p",32),t.EFF(76),t.k0s()()(),t.j41(77,"mat-card",33)(78,"mat-card-header")(79,"mat-card-title")(80,"mat-icon"),t.EFF(81,"bar_chart"),t.k0s(),t.EFF(82," \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a "),t.k0s()(),t.j41(83,"mat-card-content")(84,"div",34)(85,"div",35)(86,"mat-icon"),t.EFF(87,"topic"),t.k0s(),t.j41(88,"div",36)(89,"span",37),t.EFF(90),t.k0s(),t.j41(91,"span",38),t.EFF(92,"\u0645\u0648\u0636\u0648\u0639"),t.k0s()()(),t.j41(93,"div",35)(94,"mat-icon"),t.EFF(95,"people"),t.k0s(),t.j41(96,"div",36)(97,"span",37),t.EFF(98),t.k0s(),t.j41(99,"span",38),t.EFF(100,"\u0645\u0633\u062a\u062e\u062f\u0645"),t.k0s()()(),t.j41(101,"div",35)(102,"mat-icon"),t.EFF(103,"description"),t.k0s(),t.j41(104,"div",36)(105,"span",37),t.EFF(106,"0"),t.k0s(),t.j41(107,"span",38),t.EFF(108,"\u0645\u0639\u0627\u0645\u0644\u0629"),t.k0s()()()()()()()()(),t.j41(109,"mat-tab",39)(110,"div",26)(111,"div",40)(112,"h2")(113,"mat-icon"),t.EFF(114,"topic"),t.k0s(),t.EFF(115),t.k0s(),t.DNE(116,Z,4,0,"button",19),t.k0s(),t.DNE(117,lt,19,3,"div",10)(118,pt,6,1,"ng-template",null,2,t.C5r),t.k0s()(),t.j41(120,"mat-tab",41)(121,"div",26)(122,"div",40)(123,"h2")(124,"mat-icon"),t.EFF(125,"people"),t.k0s(),t.EFF(126),t.k0s(),t.DNE(127,gt,4,0,"button",19),t.k0s(),t.DNE(128,It,22,3,"div",10)(129,Ut,6,1,"ng-template",null,3,t.C5r),t.k0s()()()()()}if(2&e){let n,r,o,u,g,C;const P=t.sdS(119),Nt=t.sdS(130),m=t.XpG(2);t.R7$(9),t.JRh(m.department().nameAr),t.R7$(2),t.JRh(m.department().code),t.R7$(2),t.Y8G("ngIf",m.canEdit()),t.R7$(6),t.Y8G("color",m.department().isActive?"primary":"warn"),t.R7$(2),t.JRh(m.department().isActive?"check_circle":"cancel"),t.R7$(),t.SpI(" ",m.department().isActive?"\u0646\u0634\u0637\u0629":"\u0645\u062a\u0648\u0642\u0641\u0629"," "),t.R7$(4),t.SpI(" ",(null==(n=m.department().subjects)?null:n.length)||0," \u0645\u0648\u0636\u0648\u0639 "),t.R7$(4),t.SpI(" ",(null==(r=m.department().users)?null:r.length)||0," \u0645\u0633\u062a\u062e\u062f\u0645 "),t.R7$(2),t.R50("selectedIndex",m.selectedTabIndex),t.R7$(15),t.JRh(m.department().code),t.R7$(5),t.JRh(m.department().nameAr),t.R7$(5),t.JRh(m.department().nameEn),t.R7$(5),t.JRh(m.department().managerName||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"),t.R7$(5),t.JRh(m.formatDate(m.department().createdAt)),t.R7$(9),t.SpI(" ",m.department().description||"\u0644\u0627 \u064a\u0648\u062c\u062f \u0648\u0635\u0641 \u0645\u062a\u0627\u062d."," "),t.R7$(14),t.JRh((null==(o=m.department().subjects)?null:o.length)||0),t.R7$(8),t.JRh((null==(u=m.department().users)?null:u.length)||0),t.R7$(17),t.SpI(" \u0645\u0648\u0627\u0636\u064a\u0639 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 (",(null==(g=m.department().subjects)?null:g.length)||0,") "),t.R7$(),t.Y8G("ngIf",m.canEdit()),t.R7$(),t.Y8G("ngIf",m.department().subjects&&m.department().subjects.length>0)("ngIfElse",P),t.R7$(9),t.SpI(" \u0645\u0633\u062a\u062e\u062f\u0645\u0648 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 (",(null==(C=m.department().users)?null:C.length)||0,") "),t.R7$(),t.Y8G("ngIf",m.canEdit()),t.R7$(),t.Y8G("ngIf",m.department().users&&m.department().users.length>0)("ngIfElse",Nt)}}function St(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",70)(1,"mat-icon"),t.EFF(2,"error_outline"),t.k0s(),t.j41(3,"h2"),t.EFF(4,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629"),t.k0s(),t.j41(5,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.goBack())}),t.j41(6,"mat-icon"),t.EFF(7,"arrow_back"),t.k0s(),t.EFF(8," \u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0642\u0627\u0626\u0645\u0629 "),t.k0s()()}}function Gt(e,s){if(1&e&&t.DNE(0,yt,131,25,"div",10)(1,St,9,0,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),r=t.XpG();t.Y8G("ngIf",r.department())("ngIfElse",n)}}let wt=(()=>{class e{constructor(){this.route=(0,t.WQX)(D.nX),this.router=(0,t.WQX)(D.Ix),this.departmentService=(0,t.WQX)(T.a),this.authService=(0,t.WQX)(w.u),this.dialog=(0,t.WQX)(f.bZ),this.department=(0,t.vPA)(null),this.isLoading=(0,t.vPA)(!0),this.selectedTabIndex=(0,t.vPA)(0),this.subjectsColumns=["code","nameAr","nameEn","isActive","actions"],this.usersColumns=["userCode","userName","position","isHead","joinedAt","actions"]}ngOnInit(){this.loadDepartment()}loadDepartment(){this.isLoading.set(!0),this.route.paramMap.pipe((0,S.T)(n=>n.get("id")),(0,a.n)(n=>n?this.departmentService.getDepartmentById(n):(0,F.of)(null)),(0,i.s)(1)).subscribe({next:n=>{this.department.set(n),this.isLoading.set(!1)},error:n=>{console.error("Error loading department:",n),this.isLoading.set(!1)}})}editDepartment(){const n=this.department();n&&this.router.navigate(["/app/document-management/departments/edit",n.id])}goBack(){this.router.navigate(["/app/document-management/departments/list"])}addSubject(){var n=this;return(0,h.A)(function*(){const r=n.department();r&&n.dialog.open(U,{width:"600px",data:{departmentId:r.id}}).afterClosed().subscribe(function(){var u=(0,h.A)(function*(g){if(g)try{yield n.departmentService.addSubjectToDepartment(r.id,g).pipe((0,i.s)(1)).toPromise(),n.loadDepartment()}catch(C){console.error("Error adding subject:",C),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0648\u0636\u0648\u0639")}});return function(g){return u.apply(this,arguments)}}())})()}editSubject(n){var r=this;return(0,h.A)(function*(){const o=r.department();o&&r.dialog.open(U,{width:"600px",data:{subject:n,departmentId:o.id}}).afterClosed().subscribe(function(){var g=(0,h.A)(function*(C){if(C)try{yield r.departmentService.updateSubject(o.id,n.id,C).pipe((0,i.s)(1)).toPromise(),r.loadDepartment()}catch(P){console.error("Error updating subject:",P),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0648\u0636\u0648\u0639")}});return function(C){return g.apply(this,arguments)}}())})()}deleteSubject(n){var r=this;return(0,h.A)(function*(){const o=r.department();if(o&&confirm(`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0648\u0636\u0648\u0639 "${n.nameAr}"\u061f`))try{yield r.departmentService.deleteSubject(o.id,n.id).pipe((0,i.s)(1)).toPromise(),r.loadDepartment(),alert("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0648\u0636\u0648\u0639 \u0628\u0646\u062c\u0627\u062d")}catch(u){console.error("Error deleting subject:",u),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0648\u0636\u0648\u0639. \u0642\u062f \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0647")}})()}addUser(){var n=this;return(0,h.A)(function*(){const r=n.department();r&&n.dialog.open(y,{width:"600px",data:{departmentId:r.id}}).afterClosed().subscribe(function(){var u=(0,h.A)(function*(g){if(g)try{yield n.departmentService.addUserToDepartment(r.id,g).pipe((0,i.s)(1)).toPromise(),n.loadDepartment()}catch(C){console.error("Error adding user:",C),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}});return function(g){return u.apply(this,arguments)}}())})()}editUser(n){var r=this;return(0,h.A)(function*(){const o=r.department();o&&r.dialog.open(y,{width:"600px",data:{user:n,departmentId:o.id}}).afterClosed().subscribe(function(){var g=(0,h.A)(function*(C){if(C)try{yield r.departmentService.updateDepartmentUser(o.id,n.userId,C).pipe((0,i.s)(1)).toPromise(),r.loadDepartment()}catch(P){console.error("Error updating user:",P),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}});return function(C){return g.apply(this,arguments)}}())})()}removeUser(n){var r=this;return(0,h.A)(function*(){const o=r.department();if(o&&confirm(`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0632\u0627\u0644\u0629 "${n.userName}" \u0645\u0646 \u0627\u0644\u0625\u062f\u0627\u0631\u0629\u061f`))try{yield r.departmentService.removeUserFromDepartment(o.id,n.userId).pipe((0,i.s)(1)).toPromise(),r.loadDepartment(),alert("\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d")}catch(u){console.error("Error removing user:",u),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})()}canEdit(){return this.authService.isAdmin()}canDelete(){return this.authService.isAdmin()}formatDate(n){return n?new Date(n).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"-"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-department-details"]],standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[["content",""],["notFound",""],["noSubjects",""],["noUsers",""],["subjectMenu","matMenu"],["userMenu","matMenu"],[1,"department-details-container"],["class","loading-container",4,"ngIf","ngIfElse"],[1,"loading-container"],["diameter","64"],[4,"ngIf","ngIfElse"],[1,"details-hero"],[1,"hero-content"],[1,"hero-header"],[1,"title-section"],[1,"hero-icon"],[1,"hero-title"],[1,"hero-code"],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","",3,"click"],[1,"status-chips"],["selected","",3,"color"],[1,"tabs-card"],["animationDuration","300ms",3,"selectedIndexChange","selectedIndex"],["label","\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629"],[1,"tab-content"],[1,"info-grid"],[1,"info-card"],[1,"info-row"],[1,"label"],[1,"value"],[1,"description"],[1,"info-card","full-width"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],["label","\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639"],[1,"tab-header"],["label","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"subjects-table",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAr"],["matColumnDef","nameEn"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],["mat-table","",1,"users-table",3,"dataSource"],["matColumnDef","userCode"],["matColumnDef","userName"],["matColumnDef","position"],["matColumnDef","isHead"],["matColumnDef","joinedAt"],["color","accent","selected","",4,"ngIf"],[4,"ngIf"],["color","accent","selected",""],[1,"not-found"]],template:function(r,o){if(1&r&&(t.j41(0,"div",6),t.DNE(1,K,4,0,"div",7)(2,Gt,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&r){const u=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.isLoading())("ngIfElse",u)}},dependencies:[_.MD,_.bT,D.iI,d.X1,p.Hu,p.RN,p.m2,p.MM,p.dh,M.Hl,M.$z,M.iY,l.m_,l.An,I.YN,I.Jl,b.tP,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,$.RI,$.mq,$.T8,f.hM,O.RG,E.fS,A.Ve,j.g7,x.D6,x.LG,G.uc,k.Cn,k.kk,k.fb,k.Cp],styles:[".department-details-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem;direction:rtl}.department-details-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;color:#fff}.department-details-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:1.125rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px #0000001a}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{font-size:3.5rem;width:3.5rem;height:3.5rem;color:#667eea}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2d3748;margin:0 0 .5rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .hero-code[_ngcontent-%COMP%]{font-size:1.125rem;color:#718096;margin:0;font-weight:600}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .status-chips[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .status-chips[_ngcontent-%COMP%]     mat-chip{font-size:.875rem;font-weight:600}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .status-chips[_ngcontent-%COMP%]     mat-chip mat-icon{font-size:1.125rem;width:1.125rem;height:1.125rem;margin-left:.25rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .status-chips[_ngcontent-%COMP%]     mat-chip[color=primary]{background-color:#667eea;color:#fff}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .status-chips[_ngcontent-%COMP%]     mat-chip[color=warn]{background-color:#fc8181;color:#fff}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]     .mat-tab-label{font-size:1.125rem;font-weight:600;padding:0 1.5rem;min-width:150px}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]     .mat-tab-label .mat-tab-label-content{display:flex;align-items:center;gap:.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]     .mat-tab-label-active{color:#667eea}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]     .mat-ink-bar{background-color:#667eea;height:3px}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]     .mat-tab-body-content{padding:0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:2rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e2e8f0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2d3748;margin:0;display:flex;align-items:center;gap:.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #e2e8f0;transition:all .3s ease}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea26}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f7fafc,#edf2f7);padding:1rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#2d3748;margin:0;display:flex;align-items:center;gap:.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem;margin-bottom:.5rem;background:#f7fafc;border-radius:8px}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#4a5568;min-width:150px}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#2d3748;flex:1}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#4a5568;line-height:1.6;margin:0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%], .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]{width:100%;border-radius:12px;overflow:hidden;border:2px solid #e2e8f0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     th.mat-header-cell, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     th.mat-header-cell{background:linear-gradient(135deg,#f7fafc,#edf2f7);color:#2d3748;font-weight:600;font-size:.875rem;padding:1rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     td.mat-cell, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     td.mat-cell{padding:1rem;font-size:.875rem;color:#4a5568}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     td.mat-cell strong, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     td.mat-cell strong{color:#2d3748;font-weight:600}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     tr.mat-row:hover, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     tr.mat-row:hover{background:#f7fafc}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     mat-chip, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     mat-chip{font-size:.75rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     mat-chip[color=primary], .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     mat-chip[color=primary]{background-color:#667eea;color:#fff}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     mat-chip[color=accent], .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     mat-chip[color=accent]{background-color:#ed8936;color:#fff}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     mat-chip[color=warn], .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     mat-chip[color=warn]{background-color:#fc8181;color:#fff}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subjects-table[_ngcontent-%COMP%]     mat-chip mat-icon, .department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]     mat-chip mat-icon{font-size:1rem;width:1rem;height:1rem;margin-left:.25rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#f7fafc;border-radius:12px;border:2px dashed #cbd5e0}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#a0aec0;margin-bottom:1rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#718096;margin-bottom:1.5rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem;font-size:1.25rem;width:1.25rem;height:1.25rem}.department-details-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:4rem 2rem;text-align:center;box-shadow:0 8px 32px #0000001a}.department-details-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem;color:#fc8181;margin-bottom:1rem}.department-details-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;color:#2d3748;margin-bottom:2rem}.department-details-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.department-details-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:.5rem;font-size:1.25rem;width:1.25rem;height:1.25rem}@media (max-width: 768px){.department-details-container[_ngcontent-%COMP%]{padding:1rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]{padding:1.5rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%}.department-details-container[_ngcontent-%COMP%]   .details-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1rem}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.department-details-container[_ngcontent-%COMP%]   .tabs-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.department-details-container[_ngcontent-%COMP%]     .mat-tab-label{font-size:.875rem;padding:0 .75rem;min-width:100px}}"]})}}return e})()},8287:(R,v,c)=>{c.d(v,{a:()=>d});var h=c(1626),_=c(6354),t=c(5312),D=c(4438);let d=(()=>{class F{constructor(a){this.http=a,this.baseUrl=t.c.apiUrl}getAllDepartments(){return this.http.get(`${this.baseUrl}/departments`)}getDepartmentById(a){return this.http.get(`${this.baseUrl}/departments/${a}`)}addDepartment(a){return this.http.post(`${this.baseUrl}/departments`,a)}updateDepartment(a,i){return this.http.put(`${this.baseUrl}/departments/${a}`,i)}deleteDepartment(a){return this.http.delete(`${this.baseUrl}/departments/${a}`)}addUserToDepartment(a,i){return this.http.post(`${this.baseUrl}/departments/${a}/users`,i).pipe((0,_.T)(()=>!0))}removeUserFromDepartment(a,i){return this.http.delete(`${this.baseUrl}/departments/${a}/users/${i}`).pipe((0,_.T)(()=>!0))}updateDepartmentUser(a,i,p){return this.http.put(`${this.baseUrl}/departments/${a}/users/${i}`,p).pipe((0,_.T)(()=>!0))}getAvailableUsersForDepartment(a){return this.http.get(`${this.baseUrl}/departments/${a}/available-users`)}getSubjectsByDepartment(a){return this.http.get(`${this.baseUrl}/departments/${a}/subjects`)}addSubjectToDepartment(a,i){return this.http.post(`${this.baseUrl}/departments/${a}/subjects`,i).pipe((0,_.T)(()=>!0))}updateSubject(a,i,p){return this.http.put(`${this.baseUrl}/departments/${a}/subjects/${i}`,p).pipe((0,_.T)(()=>!0))}deleteSubject(a,i){return this.http.delete(`${this.baseUrl}/departments/${a}/subjects/${i}`).pipe((0,_.T)(()=>!0))}getAllOrders(){return this.http.get(`${this.baseUrl}/orders`)}getOrderById(a){return this.http.get(`${this.baseUrl}/orders/${a}`).pipe((0,_.T)(i=>{const p=(i.permissions||i.userPermissions||[]).map(l=>({id:l.id||0,userId:l.userId,userCode:l.userCode||"",userEmail:l.userEmail||"",canView:l.canView||!1,canEdit:l.canEdit||!1,canDelete:l.canDelete||!1,canShare:l.canShare||!1,canDownload:l.canDownload||!1,canPrint:l.canPrint||!1,canComment:l.canComment||!1,canApprove:l.canApprove||!1,grantedAt:l.grantedAt?new Date(l.grantedAt):new Date,expiresAt:l.expiresAt?new Date(l.expiresAt):void 0,isExpired:l.isExpired||!1,grantedByName:l.grantedByName||""}));return{...i,userPermissions:p}}))}getOrdersByType(a){return this.http.get(`${this.baseUrl}/orders/type/${a}`)}getOrdersByDepartment(a){return this.http.get(`${this.baseUrl}/orders/department/${a}`)}addOrder(a){return this.http.post(`${this.baseUrl}/orders`,a)}updateOrder(a,i){return this.http.put(`${this.baseUrl}/orders/${a}`,i)}deleteOrder(a){return this.http.delete(`${this.baseUrl}/orders/${a}`)}getOrderHistory(a,i=1,p=50){const M=(new h.Nl).set("pageNumber",i.toString()).set("pageSize",p.toString());return this.http.get(`${this.baseUrl}/orders/${a}/history`,{params:M})}getOrderHistoryCount(a){return this.http.get(`${this.baseUrl}/orders/${a}/history-count`)}getMyPermissions(a){return this.http.get(`${this.baseUrl}/orders/${a}/permissions/my`)}getOrderUserPermissions(a){return this.http.get(`${this.baseUrl}/orders/${a}/permissions/users`)}grantUserPermission(a,i){return this.http.post(`${this.baseUrl}/orders/${a}/permissions/user`,i)}revokeUserPermission(a,i){return this.http.delete(`${this.baseUrl}/orders/${a}/permissions/user/${i}`)}updateUserPermission(a,i,p){return this.http.put(`${this.baseUrl}/orders/${a}/permissions/user/${i}`,p)}getOrderDepartmentAccesses(a){return this.http.get(`${this.baseUrl}/orders/${a}/permissions/departments`)}grantDepartmentAccess(a,i){return this.http.post(`${this.baseUrl}/orders/${a}/permissions/department`,i)}revokeDepartmentAccess(a,i){return this.http.delete(`${this.baseUrl}/orders/${a}/permissions/department/${i}`)}getOrderUserExceptions(a){return this.http.get(`${this.baseUrl}/orders/${a}/permissions/user-exceptions`)}addUserException(a,i){return this.http.post(`${this.baseUrl}/orders/${a}/permissions/user-exception`,i)}removeUserException(a,i){return this.http.delete(`${this.baseUrl}/orders/${a}/permissions/user-exception/${i}`)}getAvailableUsers(){return this.http.get(`${this.baseUrl}/orders/permissions/available-users`)}setExpirationDate(a,i){return this.http.put(`${this.baseUrl}/orders/${a}/expiration`,i)}removeExpirationDate(a){return this.http.delete(`${this.baseUrl}/orders/${a}/expiration`)}getExpiredOrders(){return this.http.get(`${this.baseUrl}/orders/expired`)}getOrdersNearExpiration(a=7){const i=(new h.Nl).set("days",a.toString());return this.http.get(`${this.baseUrl}/orders/near-expiration`,{params:i})}getExpirationWarnings(){return this.http.get(`${this.baseUrl}/orders/expiration-warnings`)}archiveExpiredOrders(){return this.http.post(`${this.baseUrl}/orders/archive-expired`,{})}archiveOrder(a,i){return this.http.post(`${this.baseUrl}/orders/${a}/archive`,i)}getArchivedOrders(){return this.http.get(`${this.baseUrl}/orders/archived`)}restoreArchivedOrder(a){return this.http.post(`${this.baseUrl}/orders/archived/${a}/restore`,{})}permanentlyDeleteArchivedOrder(a){return this.http.delete(`${this.baseUrl}/orders/archived/${a}/permanent`)}uploadAttachment(a,i){const p=new FormData;return p.append("file",i),p.append("orderId",a),this.http.post(`${this.baseUrl}/orders/${a}/attachments`,p)}deleteAttachment(a,i){return this.http.delete(`${this.baseUrl}/orders/${a}/attachments/${i}`)}getDashboardStats(){return this.http.get(`${this.baseUrl}/orders/dashboard/stats`)}canViewOrder(a){return this.getMyPermissions(a).pipe((0,_.T)(i=>i.canView))}canEditOrder(a){return this.getMyPermissions(a).pipe((0,_.T)(i=>i.canEdit))}canDeleteOrder(a){return this.getMyPermissions(a).pipe((0,_.T)(i=>i.canDelete))}static{this.\u0275fac=function(i){return new(i||F)(D.KVO(h.Qq))}}static{this.\u0275prov=D.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}}return F})()},5312:(R,v,c)=>{c.d(v,{c:()=>_});const _=c(1904).c}}]);