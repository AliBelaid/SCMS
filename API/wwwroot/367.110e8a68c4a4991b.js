"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[367],{1367:(tn,k,r)=>{r.r(k),r.d(k,{EmployeeAttendanceDashboardComponent:()=>nn});var h=r(4523),p=r(177),R=r(1413),f=r(6977),m=r(4843),x=r(605),O=r(9417),C=r(5596),b=r(8834),E=r(9213),v=r(6471),F=r(4823),D=r(9183),M=r(2102),T=r(9631),A=r(2798),y=r(5571),I=r(5416),w=r(1904),n=r(4438),$=r(1626),N=r(9192),B=r(8663),S=r(7806),U=r(6600);function L(c,d){1&c&&(n.j41(0,"div",12),n.nrm(1,"mat-spinner",13),n.j41(2,"p"),n.EFF(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."),n.k0s()())}function G(c,d){if(1&c&&(n.j41(0,"mat-option",22),n.EFF(1),n.k0s()),2&c){const t=d.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function z(c,d){if(1&c&&(n.j41(0,"div",54)(1,"div",55)(2,"span",56),n.EFF(3),n.k0s(),n.j41(4,"span",57),n.EFF(5),n.k0s()(),n.j41(6,"div",58),n.nrm(7,"div",59),n.k0s(),n.j41(8,"span",60),n.EFF(9),n.k0s()()),2&c){const t=d.$implicit,e=n.XpG(2);n.R7$(3),n.JRh(t.departmentName),n.R7$(2),n.SpI("",t.count," \u0645\u0648\u0638\u0641"),n.R7$(2),n.xc7("width",e.getDepartmentProgress(t.count),"%"),n.R7$(2),n.SpI("",e.getDepartmentProgress(t.count).toFixed(1),"%")}}function W(c,d){if(1&c&&(n.j41(0,"span",66),n.EFF(1),n.k0s()),2&c){const t=n.XpG().$implicit;n.R7$(),n.JRh(t.count)}}function Y(c,d){if(1&c&&(n.j41(0,"div",61)(1,"div",62),n.EFF(2),n.k0s(),n.j41(3,"div",63)(4,"div",64),n.DNE(5,W,2,1,"span",65),n.k0s()()()),2&c){const t=d.$implicit,e=n.XpG(2);n.R7$(2),n.JRh(t.hour),n.R7$(2),n.xc7("width",e.getHourBarWidth(t.count),"%"),n.AVh("peak-hour",t.count>5),n.R7$(),n.Y8G("ngIf",t.count>0)}}function K(c,d){if(1&c&&(n.j41(0,"div",74)(1,"mat-icon"),n.EFF(2,"business"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.k0s()()),2&c){const t=n.XpG().$implicit;n.R7$(4),n.JRh(t.departmentName)}}function X(c,d){if(1&c&&(n.j41(0,"div",69)(1,"div",70)(2,"div",71)(3,"mat-icon"),n.EFF(4,"badge"),n.k0s(),n.j41(5,"span"),n.EFF(6),n.k0s()(),n.j41(7,"mat-chip",72)(8,"mat-icon"),n.EFF(9,"login"),n.k0s(),n.EFF(10," \u0641\u064a \u0627\u0644\u0639\u0645\u0644 "),n.k0s()(),n.j41(11,"div",73)(12,"div",74)(13,"mat-icon"),n.EFF(14,"schedule"),n.k0s(),n.j41(15,"span"),n.EFF(16),n.k0s()(),n.DNE(17,K,5,1,"div",75),n.k0s(),n.j41(18,"div",76)(19,"div",77)(20,"mat-icon"),n.EFF(21,"schedule"),n.k0s(),n.j41(22,"span"),n.EFF(23),n.k0s()()()()),2&c){const t=d.$implicit,e=n.XpG(3);n.R7$(6),n.JRh(t.employeeName),n.R7$(10),n.SpI("\u062f\u062e\u0648\u0644: ",e.formatDateTime(t._checkInTime||t.checkInTime||t.firstCheckInTime),""),n.R7$(),n.Y8G("ngIf",t.departmentName),n.R7$(6),n.JRh(e.getTimeSince(t._checkInTime||t.checkInTime||t.firstCheckInTime))}}function V(c,d){if(1&c&&(n.j41(0,"div",67),n.DNE(1,X,24,4,"div",68),n.k0s()),2&c){const t=n.XpG(2);n.R7$(),n.Y8G("ngForOf",t.checkedInNow.slice(0,12))}}function J(c,d){1&c&&(n.j41(0,"div",78)(1,"mat-icon"),n.EFF(2,"event_busy"),n.k0s(),n.j41(3,"p"),n.EFF(4,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0648\u0638\u0641\u064a\u0646 \u0641\u064a \u0627\u0644\u0639\u0645\u0644 \u062d\u0627\u0644\u064a\u0627\u064b"),n.k0s()())}function H(c,d){1&c&&(n.j41(0,"span",89),n.EFF(1,"\u2022"),n.k0s())}function Q(c,d){if(1&c&&(n.j41(0,"span",90),n.EFF(1),n.k0s()),2&c){const t=n.XpG().$implicit,e=n.XpG(2);n.R7$(),n.SpI(" \u062e\u0631\u0648\u062c: ",e.formatDateTime(t._checkOutTime||t.checkOutTime||t.lastCheckOutTime)," ")}}function Z(c,d){if(1&c&&(n.j41(0,"div",79)(1,"div",80)(2,"mat-icon"),n.EFF(3),n.k0s()(),n.j41(4,"div",81)(5,"div",82)(6,"span",71),n.EFF(7),n.k0s(),n.j41(8,"mat-chip",83),n.EFF(9),n.k0s()(),n.j41(10,"div",84)(11,"span",85),n.EFF(12),n.k0s(),n.DNE(13,H,2,0,"span",86)(14,Q,2,1,"span",87),n.k0s()(),n.j41(15,"div",88)(16,"span"),n.EFF(17),n.k0s()()()),2&c){const t=d.$implicit,e=n.XpG(2);n.R7$(),n.AVh("checked-in",!t.checkOutTime)("checked-out",!!t.checkOutTime),n.R7$(2),n.JRh(t.checkOutTime?"logout":"login"),n.R7$(4),n.JRh(t.employeeName),n.R7$(),n.Y8G("color",t.checkOutTime?"accent":"primary"),n.R7$(),n.SpI(" ",t.checkOutTime?"\u062e\u0631\u062c":"\u0641\u064a \u0627\u0644\u0639\u0645\u0644"," "),n.R7$(3),n.SpI("\u062f\u062e\u0648\u0644: ",e.formatDateTime(t._checkInTime||t.checkInTime||t.firstCheckInTime),""),n.R7$(),n.Y8G("ngIf",t._checkOutTime||t.checkOutTime||t.lastCheckOutTime),n.R7$(),n.Y8G("ngIf",t._checkOutTime||t.checkOutTime||t.lastCheckOutTime),n.R7$(3),n.JRh(e.getTimeSince(t._checkInTime||t.checkInTime||t.firstCheckInTime))}}function q(c,d){if(1&c){const t=n.RV6();n.j41(0,"div",14)(1,"mat-card",15)(2,"mat-card-content")(3,"div",16)(4,"mat-button-toggle-group",17),n.mxI("ngModelChange",function(o){n.eBV(t);const a=n.XpG();return n.DH7(a.dateFilter,o)||(a.dateFilter=o),n.Njj(o)}),n.bIt("change",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onDateFilterChange())}),n.j41(5,"mat-button-toggle",18),n.EFF(6,"\u0627\u0644\u064a\u0648\u0645"),n.k0s(),n.j41(7,"mat-button-toggle",19),n.EFF(8,"\u0627\u0644\u0634\u0647\u0631"),n.k0s()(),n.j41(9,"mat-form-field",20)(10,"mat-label"),n.EFF(11,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"),n.k0s(),n.j41(12,"mat-select",21),n.mxI("ngModelChange",function(o){n.eBV(t);const a=n.XpG();return n.DH7(a.selectedDepartment,o)||(a.selectedDepartment=o),n.Njj(o)}),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onDepartmentChange())}),n.j41(13,"mat-option",22),n.EFF(14,"\u0627\u0644\u0643\u0644"),n.k0s(),n.DNE(15,G,2,2,"mat-option",23),n.k0s()(),n.j41(16,"mat-form-field",24)(17,"mat-label"),n.EFF(18,"\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0631\u0642\u0645"),n.k0s(),n.j41(19,"mat-icon",25),n.EFF(20,"search"),n.k0s(),n.j41(21,"input",26),n.mxI("ngModelChange",function(o){n.eBV(t);const a=n.XpG();return n.DH7(a.searchTerm,o)||(a.searchTerm=o),n.Njj(o)}),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onSearchChange())}),n.k0s()(),n.j41(22,"button",27),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.exportReport())}),n.j41(23,"mat-icon"),n.EFF(24,"download"),n.k0s(),n.EFF(25," \u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 "),n.k0s()()()(),n.j41(26,"div",28)(27,"mat-card",29),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.navigateToAttendance())}),n.j41(28,"mat-card-content")(29,"div",30)(30,"mat-icon"),n.EFF(31,"today"),n.k0s()(),n.j41(32,"div",31)(33,"h2",32),n.EFF(34),n.k0s(),n.j41(35,"p",33),n.EFF(36,"\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645"),n.k0s(),n.j41(37,"div",34)(38,"mat-icon"),n.EFF(39,"trending_up"),n.k0s(),n.j41(40,"span"),n.EFF(41),n.k0s()()()()(),n.j41(42,"mat-card",35)(43,"mat-card-content")(44,"div",36)(45,"mat-icon"),n.EFF(46,"login"),n.k0s()(),n.j41(47,"div",31)(48,"h2",32),n.EFF(49),n.k0s(),n.j41(50,"p",33),n.EFF(51,"\u0645\u0648\u0638\u0641\u0648\u0646 \u0641\u064a \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0622\u0646"),n.k0s(),n.j41(52,"div",37)(53,"mat-icon"),n.EFF(54,"wifi"),n.k0s(),n.j41(55,"span"),n.EFF(56,"\u0645\u0628\u0627\u0634\u0631"),n.k0s()()()()(),n.j41(57,"mat-card",38)(58,"mat-card-content")(59,"div",30)(60,"mat-icon"),n.EFF(61,"logout"),n.k0s()(),n.j41(62,"div",31)(63,"h2",32),n.EFF(64),n.k0s(),n.j41(65,"p",33),n.EFF(66,"\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0627\u0644\u064a\u0648\u0645"),n.k0s(),n.j41(67,"div",34)(68,"mat-icon"),n.EFF(69,"done_all"),n.k0s(),n.j41(70,"span"),n.EFF(71,"\u0645\u0643\u062a\u0645\u0644"),n.k0s()()()()(),n.j41(72,"mat-card",39),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return o.dateFilter="month",n.Njj(o.onDateFilterChange())}),n.j41(73,"mat-card-content")(74,"div",30)(75,"mat-icon"),n.EFF(76,"calendar_month"),n.k0s()(),n.j41(77,"div",31)(78,"h2",32),n.EFF(79),n.k0s(),n.j41(80,"p",33),n.EFF(81,"\u062d\u0636\u0648\u0631 \u0627\u0644\u0634\u0647\u0631"),n.k0s(),n.j41(82,"div",34)(83,"mat-icon"),n.EFF(84,"calendar_today"),n.k0s(),n.j41(85,"span"),n.EFF(86,"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"),n.k0s()()()()()(),n.j41(87,"div",40)(88,"mat-card",41)(89,"mat-card-header")(90,"mat-card-title")(91,"mat-icon"),n.EFF(92,"business"),n.k0s(),n.j41(93,"span"),n.EFF(94,"\u062a\u0648\u0632\u064a\u0639 \u0627\u0644\u062d\u0636\u0648\u0631 \u062d\u0633\u0628 \u0627\u0644\u0625\u062f\u0627\u0631\u0627\u062a"),n.k0s()()(),n.j41(95,"mat-card-content")(96,"div",42),n.DNE(97,z,10,5,"div",43),n.k0s()()(),n.j41(98,"mat-card",41)(99,"mat-card-header")(100,"mat-card-title")(101,"mat-icon"),n.EFF(102,"timeline"),n.k0s(),n.j41(103,"span"),n.EFF(104,"\u062a\u0648\u0632\u064a\u0639 \u0627\u0644\u062d\u0636\u0648\u0631 \u062e\u0644\u0627\u0644 \u0627\u0644\u064a\u0648\u0645"),n.k0s()()(),n.j41(105,"mat-card-content")(106,"div",44),n.DNE(107,Y,6,6,"div",45),n.k0s()()()(),n.j41(108,"mat-card",46)(109,"mat-card-header")(110,"mat-card-title")(111,"div",47)(112,"mat-icon"),n.EFF(113,"login"),n.k0s(),n.j41(114,"span"),n.EFF(115,"\u0645\u0648\u0638\u0641\u0648\u0646 \u0641\u064a \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0622\u0646"),n.k0s(),n.j41(116,"mat-chip",48),n.EFF(117),n.k0s()()()(),n.j41(118,"mat-card-content"),n.DNE(119,V,2,1,"div",49)(120,J,5,0,"div",50),n.k0s()(),n.j41(121,"mat-card",51)(122,"mat-card-header")(123,"mat-card-title")(124,"div",47)(125,"mat-icon"),n.EFF(126,"history"),n.k0s(),n.j41(127,"span"),n.EFF(128,"\u0622\u062e\u0631 10 \u062d\u0636\u0648\u0631"),n.k0s()()()(),n.j41(129,"mat-card-content")(130,"div",52),n.DNE(131,Z,18,12,"div",53),n.k0s()()()()}if(2&c){const t=n.XpG();n.R7$(4),n.R50("ngModel",t.dateFilter),n.R7$(8),n.R50("ngModel",t.selectedDepartment),n.R7$(),n.Y8G("value",null),n.R7$(2),n.Y8G("ngForOf",t.departments),n.R7$(6),n.R50("ngModel",t.searchTerm),n.R7$(13),n.JRh(t.stats.totalToday),n.R7$(7),n.JRh("today"===t.dateFilter?"\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645":"\u062d\u0636\u0648\u0631 \u0627\u0644\u0634\u0647\u0631"),n.R7$(8),n.JRh(t.stats.checkedInNow),n.R7$(15),n.JRh(t.stats.checkedOutToday),n.R7$(15),n.JRh(t.stats.totalMonth),n.R7$(18),n.Y8G("ngForOf",t.stats.attendancePerDepartment),n.R7$(10),n.Y8G("ngForOf",t.hourlyDistribution),n.R7$(10),n.JRh(t.checkedInNow.length),n.R7$(2),n.Y8G("ngIf",t.checkedInNow.length>0),n.R7$(),n.Y8G("ngIf",0===t.checkedInNow.length),n.R7$(11),n.Y8G("ngForOf",t.recentAttendance)}}let nn=(()=>{class c{constructor(t,e,o,a,i){this.http=t,this.router=e,this.employeeService=o,this.snackBar=a,this.signalRService=i,this.stats={totalToday:0,totalMonth:0,checkedInNow:0,checkedOutToday:0,attendancePerDepartment:[],attendancePerEmployee:[]},this.recentAttendance=[],this.checkedInNow=[],this.departments=[],this.selectedDepartment=null,this.searchTerm="",this.dateFilter="today",this.hourlyDistribution=[],this.isLoading=!0,this.isRefreshing=!1,this.currentTime=new Date,this.destroy$=new R.B}ngOnInit(){var t=this;return(0,h.A)(function*(){yield t.initializeSignalR(),t.loadDashboardData(),t.startTimeUpdater(),t.startAutoRefresh()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeSignalR(){var t=this;return(0,h.A)(function*(){try{yield t.signalRService.startConnection(),t.signalRService.employeeAttendanceUpdated$.pipe((0,f.Q)(t.destroy$)).subscribe(e=>{console.log("Employee attendance updated:",e),t.handleAttendanceUpdate(e)})}catch(e){console.error("Error initializing SignalR:",e)}})()}handleAttendanceUpdate(t){this.loadDashboardData(),this.showNotification(`${"CheckedIn"===t.action?"\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"}: ${t.employeeName}`,"success")}loadDashboardData(){this.isLoading=!0,Promise.all([this.loadStats(),this.loadRecentAttendance(),this.loadCheckedInNow(),this.loadDepartments(),this.loadHourlyDistribution()]).then(()=>{this.isLoading=!1}).catch(t=>{console.error("Error loading dashboard data:",t),this.isLoading=!1})}loadStats(){var t=this;return(0,h.A)(function*(){try{const e=(yield(0,m._)(t.employeeService.getTodayAttendance()))||[];t.stats.totalToday=e.length,t.stats.checkedInNow=e.filter(g=>!1!==g.isCheckedIn&&!g._checkOutTime).length,t.stats.checkedOutToday=e.filter(g=>!1===g.isCheckedIn||g._checkOutTime).length;const o=new Date,a=new Date(o.getFullYear(),o.getMonth(),1),i=new Date(o.getFullYear(),o.getMonth()+1,0,23,59,59),s=(yield(0,m._)(t.employeeService.getEmployees()))||[];let l=0;for(const g of s)l+=((yield(0,m._)(t.employeeService.getEmployeeAttendance(g.id,a,i)))||[]).length;t.stats.totalMonth=l;const u=new Map;for(const g of e){const _=s.find(P=>P.id===g.employeeId);if(_&&_.departmentId){const P=_.departmentId,j=u.get(P)||{name:_.departmentName||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",count:0};j.count++,u.set(P,j)}}t.stats.attendancePerDepartment=Array.from(u.entries()).map(([g,_])=>({departmentId:g,departmentName:_.name,count:_.count}))}catch(e){console.error("Error loading stats:",e)}})()}loadRecentAttendance(){var t=this;return(0,h.A)(function*(){try{const e=(yield(0,m._)(t.employeeService.getTodayAttendance()))||[];t.recentAttendance=e.sort((o,a)=>{const i=o._checkInTime||o.checkInTime||o.firstCheckInTime||"";return new Date(a._checkInTime||a.checkInTime||a.firstCheckInTime||"").getTime()-new Date(i).getTime()}).slice(0,10)}catch(e){console.error("Error loading recent attendance:",e)}})()}loadCheckedInNow(){var t=this;return(0,h.A)(function*(){try{const e=(yield(0,m._)(t.employeeService.getTodayAttendance()))||[];t.checkedInNow=e.filter(o=>!o.checkOutTime)}catch(e){console.error("Error loading checked-in employees:",e)}})()}loadDepartments(){var t=this;return(0,h.A)(function*(){try{t.departments=(yield(0,m._)(t.http.get(`${w.c.apiUrl}/VisitorDepartments`)))||[]}catch(e){console.error("Error loading departments:",e)}})()}loadHourlyDistribution(){var t=this;return(0,h.A)(function*(){try{const e=(yield(0,m._)(t.employeeService.getTodayAttendance()))||[],o=new Map;for(let a=8;a<=18;a++)o.set(a,0);e.forEach(a=>{const i=a._checkInTime||a.checkInTime||a.firstCheckInTime;if(i){const s=new Date(i).getHours();o.has(s)&&o.set(s,(o.get(s)||0)+1)}}),t.hourlyDistribution=Array.from(o.entries()).map(([a,i])=>({hour:`${a}:00`,count:i})).sort((a,i)=>parseInt(a.hour)-parseInt(i.hour))}catch(e){console.error("Error loading hourly distribution:",e)}})()}onDepartmentChange(){this.applyFilters()}onSearchChange(){this.applyFilters()}onDateFilterChange(){this.loadDashboardData()}applyFilters(){this.loadRecentAttendance().then(()=>{let t=[...this.recentAttendance];if(this.searchTerm){const e=this.searchTerm.toLowerCase();t=t.filter(o=>o.employeeName?.toLowerCase().includes(e)||o.employeeEmployeeId?.toLowerCase().includes(e))}this.recentAttendance=t})}clearFilters(){this.selectedDepartment=null,this.searchTerm="",this.loadDashboardData()}refreshDashboard(){this.isRefreshing=!0,this.loadDashboardData(),setTimeout(()=>{this.isRefreshing=!1},1e3)}startAutoRefresh(){(0,x.Y)(3e5).pipe((0,f.Q)(this.destroy$)).subscribe(()=>{this.refreshDashboard()})}startTimeUpdater(){(0,x.Y)(1e3).pipe((0,f.Q)(this.destroy$)).subscribe(()=>{this.currentTime=new Date})}exportReport(){try{const t=this.getExportData(),e=this.convertToCSV(t),o=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),i=URL.createObjectURL(o);a.setAttribute("href",i),a.setAttribute("download",`employee-attendance-${this.dateFilter}-${(new Date).toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),this.showNotification("\u062a\u0645 \u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0646\u062c\u0627\u062d","success")}catch(t){console.error("Error exporting report:",t),this.showNotification("\u0641\u0634\u0644 \u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631","error")}}getExportData(){return this.recentAttendance.map(t=>({"\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":t.employeeEmployeeId||"","\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":t.employeeName||"","\u0648\u0642\u062a \u0627\u0644\u062f\u062e\u0648\u0644":this.formatDateTime(t.checkInTime),"\u0648\u0642\u062a \u0627\u0644\u062e\u0631\u0648\u062c":t.checkOutTime?this.formatDateTime(t.checkOutTime):"\u0644\u0645 \u064a\u062e\u0631\u062c \u0628\u0639\u062f",\u0627\u0644\u0645\u062f\u0629:this.getDuration(t),\u0627\u0644\u0625\u062f\u0627\u0631\u0629:t.departmentName||""}))}convertToCSV(t){if(0===t.length)return"";const e=Object.keys(t[0]);return[e.join(","),...t.map(i=>e.map(s=>`"${String(i[s]||"").replace(/"/g,'""')}"`).join(","))].join("\n")}getCurrentTimeFormatted(){return this.currentTime.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}getCurrentDateFormatted(){return this.currentTime.toLocaleDateString("ar-SA",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}formatDateTime(t){return t?new Date(t).toLocaleString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}getTimeSince(t){if(!t)return"-";const e=new Date(t),a=(new Date).getTime()-e.getTime(),i=Math.floor(a/6e4);if(i<60)return`\u0645\u0646\u0630 ${i} \u062f\u0642\u064a\u0642\u0629`;const s=Math.floor(i/60);return s<24?`\u0645\u0646\u0630 ${s} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${Math.floor(s/24)} \u064a\u0648\u0645`}getDuration(t){const e=t._checkOutTime||t.checkOutTime||t.lastCheckOutTime;if(!e)return"\u0644\u0645 \u064a\u062e\u0631\u062c \u0628\u0639\u062f";const o=t._checkInTime||t.checkInTime||t.firstCheckInTime;if(!o)return"-";const a=new Date(o),s=new Date(e).getTime()-a.getTime();return`${Math.floor(s/36e5)}\u0633 ${Math.floor(s%36e5/6e4)}\u062f`}getDepartmentProgress(t){return t/Math.max(...this.stats.attendancePerDepartment.map(o=>o.count),1)*100}getHourBarWidth(t){return t/Math.max(...this.hourlyDistribution.map(o=>o.count),1)*100}navigateToEmployees(){this.router.navigate(["/app/visitor-management/employees"])}navigateToAttendance(){this.router.navigate(["/app/visitor-management/employee-attendance"])}showNotification(t,e="info"){this.snackBar.open(t,"\u0625\u063a\u0644\u0627\u0642",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:[`snackbar-${e}`]})}static{this.\u0275fac=function(e){return new(e||c)(n.rXU($.Qq),n.rXU(N.Ix),n.rXU(B.X),n.rXU(I.UG),n.rXU(S.e))}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-employee-attendance-dashboard"]],standalone:!0,features:[n.aNF],decls:23,vars:6,consts:[[1,"dashboard-container",2,"margin-top","70px"],[1,"dashboard-hero"],[1,"hero-content"],[1,"live-time"],[1,"time"],[1,"date"],[1,"hero-title"],["mat-fab","","color","accent","matTooltip","\u062a\u062d\u062f\u064a\u062b",1,"refresh-button",3,"click"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"realtime-indicator"],[1,"pulse"],[1,"loading-container"],["diameter","80"],[1,"dashboard-content"],[1,"filters-card"],[1,"filters-section"],[1,"date-filter-toggle",3,"ngModelChange","change","ngModel"],["value","today"],["value","month"],["appearance","outline",1,"filter-field"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","accent",3,"click"],[1,"stats-grid"],[1,"stat-card","total-today",3,"click"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-trend"],[1,"stat-card","checked-in-now"],[1,"stat-icon","pulse-animation"],[1,"stat-trend","live"],[1,"stat-card","checked-out-today"],[1,"stat-card","total-month",3,"click"],[1,"charts-section"],[1,"chart-card"],[1,"department-chart"],["class","department-item",4,"ngFor","ngForOf"],[1,"hourly-chart"],["class","hour-item",4,"ngFor","ngForOf"],[1,"checked-in-card"],[1,"title-section"],[1,"count-chip"],["class","checked-in-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"recent-card"],[1,"recent-list"],["class","recent-item",4,"ngFor","ngForOf"],[1,"department-item"],[1,"department-label"],[1,"dept-name"],[1,"dept-count"],[1,"dept-progress-container"],[1,"dept-progress-bar"],[1,"dept-percentage"],[1,"hour-item"],[1,"hour-label"],[1,"hour-bar-container"],[1,"hour-bar"],["class","hour-count",4,"ngIf"],[1,"hour-count"],[1,"checked-in-list"],["class","employee-card",4,"ngFor","ngForOf"],[1,"employee-card"],[1,"employee-header"],[1,"employee-name"],["color","primary",1,"status-chip"],[1,"employee-body"],[1,"employee-info"],["class","employee-info",4,"ngIf"],[1,"employee-footer"],[1,"time-info"],[1,"empty-state"],[1,"recent-item"],[1,"recent-icon"],[1,"recent-info"],[1,"recent-primary"],[1,"status-mini",3,"color"],[1,"recent-secondary"],[1,"check-in-time"],["class","separator",4,"ngIf"],["class","check-out-time",4,"ngIf"],[1,"recent-time"],[1,"separator"],[1,"check-out-time"]],template:function(e,o){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),n.EFF(5),n.k0s(),n.j41(6,"p",5),n.EFF(7),n.k0s()(),n.j41(8,"div",6)(9,"mat-icon"),n.EFF(10,"badge"),n.k0s(),n.j41(11,"h2"),n.EFF(12,"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 - \u062d\u0636\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),n.k0s()(),n.j41(13,"button",7),n.bIt("click",function(){return o.refreshDashboard()}),n.j41(14,"mat-icon"),n.EFF(15,"refresh"),n.k0s()()()(),n.DNE(16,L,4,0,"div",8)(17,q,132,16,"div",9),n.j41(18,"div",10)(19,"mat-icon",11),n.EFF(20,"wifi"),n.k0s(),n.j41(21,"span"),n.EFF(22,"\u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0645\u0628\u0627\u0634\u0631\u0629"),n.k0s()()()),2&e&&(n.R7$(5),n.JRh(o.getCurrentTimeFormatted()),n.R7$(2),n.JRh(o.getCurrentDateFormatted()),n.R7$(6),n.AVh("spinning",o.isRefreshing),n.R7$(3),n.Y8G("ngIf",o.isLoading),n.R7$(),n.Y8G("ngIf",!o.isLoading))},dependencies:[p.MD,p.Sq,p.bT,O.YN,O.me,O.BC,O.vS,C.Hu,C.RN,C.m2,C.MM,C.dh,b.Hl,b.$z,b.Sr,E.m_,E.An,v.YN,v.Jl,F.uc,F.oV,D.D6,D.LG,M.RG,M.rl,M.nJ,M.JW,T.fS,T.fg,A.Ve,A.VO,U.wT,y.Vg,y.ec,y.pc,I._T],styles:['.dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:20px;direction:rtl}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;padding:40px;margin-bottom:30px;box-shadow:0 10px 40px #667eea66;position:relative;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_rotate 20s linear infinite}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;justify-content:space-between;align-items:center;color:#fff}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .live-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.3);animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .live-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.2rem;margin:5px 0 0;opacity:.95}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .refresh-button.spinning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]{margin-bottom:30px;border-radius:15px;box-shadow:0 4px 20px #0000001a}.dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;flex-wrap:wrap}.dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .date-filter-toggle[_ngcontent-%COMP%]{border-radius:12px}.dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{min-width:200px}.dashboard-container[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:100px 20px;gap:20px}.dashboard-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:30px}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border-radius:15px;overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .5s ease-in}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 15px 40px #0003}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:25px!important}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50%;background:#fff3}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:42px;width:42px;height:42px;color:#fff}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-icon.pulse-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0 0 5px;color:#fff}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:1.1rem;margin:0 0 10px;color:#fffffff2}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:.9rem;color:#ffffffe6}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend.live[_ngcontent-%COMP%]{font-weight:600}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend.live[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.total-today[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.checked-in-now[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.checked-out-today[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.total-month[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:20px;margin-bottom:30px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 4px 20px #0000001a}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px;border-radius:15px 15px 0 0}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.3rem;margin:0}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:25px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]{margin-bottom:20px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .department-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .department-label[_ngcontent-%COMP%]   .dept-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .department-label[_ngcontent-%COMP%]   .dept-count[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .dept-progress-container[_ngcontent-%COMP%]{height:12px;background:#e9ecef;border-radius:6px;overflow:hidden;position:relative}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .dept-progress-container[_ngcontent-%COMP%]   .dept-progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:6px;transition:width .5s ease}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .department-chart[_ngcontent-%COMP%]   .department-item[_ngcontent-%COMP%]   .dept-percentage[_ngcontent-%COMP%]{display:block;text-align:left;font-size:.85rem;color:#666;margin-top:4px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:12px}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]   .hour-label[_ngcontent-%COMP%]{width:60px;font-weight:600;color:#333;font-size:.9rem}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]   .hour-bar-container[_ngcontent-%COMP%]{flex:1;height:30px;background:#e9ecef;border-radius:15px;overflow:hidden;position:relative}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]   .hour-bar-container[_ngcontent-%COMP%]   .hour-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4facfe,#00f2fe);border-radius:15px;display:flex;align-items:center;justify-content:center;transition:width .5s ease;position:relative}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]   .hour-bar-container[_ngcontent-%COMP%]   .hour-bar.peak-hour[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f093fb,#f5576c);animation:_ngcontent-%COMP%_glow 2s infinite}.dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .hourly-chart[_ngcontent-%COMP%]   .hour-item[_ngcontent-%COMP%]   .hour-bar-container[_ngcontent-%COMP%]   .hour-bar[_ngcontent-%COMP%]   .hour-count[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:.85rem}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 4px 20px #0000001a;margin-bottom:30px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;padding:20px;border-radius:15px 15px 0 0}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin:0}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.3rem}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%]{background:#fff3;color:#fff;font-weight:600}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .checked-in-list[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .checked-in-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:15px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:15px;box-shadow:0 2px 10px #0000001a;transition:all .3s ease}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 20px #00000026}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid #e9ecef}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:600;color:#667eea}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-header[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:#666}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#764ba2}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-footer[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-footer[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #e9ecef}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-footer[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .employee-card[_ngcontent-%COMP%]   .employee-footer[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:#f5576c;font-weight:500;font-size:.85rem}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;background:#f8f9fa;border-radius:12px;margin-bottom:10px;transition:all .3s ease}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(-5px)}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon.checked-in[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon.checked-in[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon.checked-out[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-icon.checked-out[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:5px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1rem}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%]   .status-mini[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-primary[_ngcontent-%COMP%]   .status-mini[_ngcontent-%COMP%]{font-size:.7rem;height:22px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-secondary[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-secondary[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-secondary[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-secondary[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 8px}.dashboard-container[_ngcontent-%COMP%]   .checked-in-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-time[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-list[_ngcontent-%COMP%]   .recent-item[_ngcontent-%COMP%]   .recent-time[_ngcontent-%COMP%]{font-size:.85rem;color:#999;white-space:nowrap}.dashboard-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.dashboard-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#ddd;margin-bottom:15px}.dashboard-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.dashboard-container[_ngcontent-%COMP%]   .realtime-indicator[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:30px;background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff;padding:12px 20px;border-radius:25px;display:flex;align-items:center;gap:8px;box-shadow:0 4px 15px #43e97b66;font-weight:600;z-index:1000;animation:_ngcontent-%COMP%_slideInUp .5s ease-in}.dashboard-container[_ngcontent-%COMP%]   .realtime-indicator[_ngcontent-%COMP%]   mat-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glow{0%,to{box-shadow:0 0 5px #f093fb80}50%{box-shadow:0 0 20px #f093fbcc}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]{padding:20px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .live-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:2rem}.dashboard-container[_ngcontent-%COMP%]   .dashboard-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-container[_ngcontent-%COMP%]   .checked-in-list[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}']})}}return c})()}}]);